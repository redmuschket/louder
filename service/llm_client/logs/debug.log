2025-10-03 18:54:29,486 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:bea03cc5-815e-4271-8346-5f5975206ebd
2025-10-03 18:54:29,488 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:bea03cc5-815e-4271-8346-5f5975206ebd, message: {'status': 'completed', 'message': '### Анализ признаков и вывод результатов\n\n#### Исходные признаки:\n\n- Способ получения бидисперсных порошковых смесей  \n- Получение смесей из порошков существенно разных размеров  \n- Использование метода самораспространяющегося высокотемпературного синтеза (СВС)  \n- Подготовка смеси компонентов  \n- Смешение нитрата металла и топливного компонента  \n- Использование нитрата металла в качестве окислителя  \n- Использование топливного компонента в качестве восстановителя  \n- Использование глицерина в качестве топливного компонента  \n- Использование тиомочевины в качестве топливного компонента  \n- Использование этиленгликоля в качестве топливного компонента  \n- Пропитка предварительно приготовленного порошка микронных размеров подготовленной смесью  \n- Использование порошка микронных размеров на основе оксидов  \n- Равномерное распределение реагентов на поверхности частиц порошка  \n- Формирование однородной бидисперсной смеси  \n- Удаление воды из раствора выпариванием  \n- Удаление воды из раствора сушкой  \n- Образование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка  \n- Нагревание сухой смеси до определенной температуры  \n- Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом  \n- Экзотермический характер окислительно-восстановительной реакции  \n- Самораспространяющийся характер процесса горения  \n- Поддержание процесса горения за счет выделяемой энергии  \n- Образование продукта в виде нанопорошка оксида металла  \n- Формирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ)  \n- Получение бидисперсной системы, состоящей из микропорошка и нанопорошка  \n- Более равномерное распределение частиц нанопорошка по всему объему микропорошка  \n- Способ получения смесевого твердого топлива с металлическим горючим  \n- Механическое перемешивание компонентов  \n- Использование металлического горючего в виде бидисперсной смеси порошков  \n- Использование порошка алюминия микронных размеров  \n- Использование нанопорошка алюминия  \n- Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%  \n- Перемешивание бидисперсной смеси до осредненного состояния  \n- Введение бидисперсной смеси в количестве 10-25 мас.%  \n- Введение бидисперсной смеси в полностью перемешанную смесь других компонентов  \n- Дополнительное перемешивание полученной массы в течение не менее 30 мин  \n- Вакуумирование полученной массы в течение не менее 30 мин  \n- Использование перхлората аммония в качестве окислителя  \n- Использование нитрата аммония в качестве окислителя  \n- Использование смешанного окислителя, включающего нитрат аммония и нитрамин  \n- Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего  \n- Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего  \n- Способ получения порошковой смеси бидисперсных керамических и металлических частиц  \n- Перемешивание порошков в жидкой среде  \n- Двухэтапное перемешивание  \n- Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды  \n- Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1  \n- Перемешивание керамических наночастиц в жидкой среде на первом этапе  \n- Длительность перемешивания на первом этапе не менее 15 минут  \n- Добавление металлических микрочастиц на втором этапе  \n- Перемешивание полученной смеси на втором этапе  \n- Длительность перемешивания на втором этапе не менее 15 минут  \n- Удаление жидкости после перемешивания  \n- Удаление жидкости в сушильном шкафу  \n- Температура удаления жидкости не менее 80°C  \n- Длительность удаления жидкости не менее 24 часов  \n- Использование керамических наночастиц  \n- Диаметр керамических наночастиц от 30 до 140 нм  \n- Использование металлических микрочастиц  \n- Диаметр металлических микрочастиц от 20 до 180 мкм  \n- Массовое соотношение порошков и жидкости 1/2  \n- Массовое соотношение наночастиц и микрочастиц 1/19  \n- Способ получения дифениламина  \n- Термическая обработка анилина  \n- Проведение термической обработки в присутствии катализатора  \n- Использование алюмооксидного катализатора  \n- Катализатор кислого характера  \n- Получение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде  \n- Использование азотной кислоты при получении катализатора  \n- Пластификация катализатора  \n- Формование катализатора  \n- Сушка катализатора  \n- Прокаливание катализатора при повышенной температуре  \n- Гранулированный наноструктурированный алюмооксидный катализатор  \n- Содержание натрия в катализаторе от 0,005 до 0,02 мас.%  \n- Содержание серы в катализаторе от 0 до 5 мас.%  \n- Содержание фосфора в катализаторе от 0 до 2,8 мас.%  \n- Содержание хлора в катализаторе от 0 до 2,6 мас.%  \n- Бидисперсная пористая структура катализатора  \n- Объем микропор катализатора от 0,06 до 0,18 см³/г  \n- Объем мезопор катализатора от 0,2 до 0,32 см³/г  \n- Суммарный объем пор катализатора от 0,25 до 0,55 см³/г  \n- Средний диаметр пор катализатора от 3 до 5,5 нм  \n- Удельная поверхность катализатора не менее 200 м²/г  \n- Оксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы  \n- Суммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%  \n- Содержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%  \n- Форма гранул катализатора - цилиндр диаметром 3-5 мм  \n- Форма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм  \n- Способ приготовления катализатора, включающий термическую активацию гидраргиллита  \n- Гидратация продуктов термической активации гидраргиллита в кислом растворе  \n- Отмывка продуктов гидратации от примесных ионов  \n- Введение модифицирующих добавок на стадии пластификации  \n- Формование в гранулы методом экструзии  \n- Проведение термической обработки сформированных гранул  \n- Использование продукта центробежной термической активации гидраргиллита  \n- Использование термоактивированного гидроксида алюминия  \n- Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С  \n- Способ получения этилена путем дегидратации этанола  \n- Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора  \n- Проведение процесса получения этилена при температуре 350-450°С  \n- Проведение процесса получения этилена при времени контакта 0.2-4.0 с  \n- Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов  \n- Содержание палладия в катализаторе 0,01÷1,0 мас.%  \n- Размер частиц палладия от 1,5 до 20 нм  \n- Нанесение активного компонента (палладия) на бидисперсный силикагель  \n- Содержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%  \n- Удельная поверхность бидисперсного силикагеля 150÷350 м²/г  \n- Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г  \n- Отсутствие микропор в бидисперсном силикагеле  \n- Объем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г  \n- Объем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г  \n- Способ приготовления палладиевого катализатора  \n- Использование предварительно высушенного носителя  \n- Пропитка носителя водным раствором стабилизированного нитрата палладия  \n- Пропитка носителя раствором стабилизированного нитрата палладия при определенных рН  \n- Сушка катализатора после пропитки  \n- Прокаливание катализатора на воздухе после сушки  \n- Восстановление катализатора в потоке водородсодержащего газа после прокаливания  \n- Добавление лимонной кислоты в пропиточные растворы  \n- Предотвращение агломерации палладийсодержащих частиц на поверхности носителя  \n- Регулирование рН пропиточных растворов без введения катионов щелочных металлов  \n- Регулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида  \n- Способ очистки олефинов от примесей полиненасыщенных углеводородов  \n- Очистка путем каталитического гидрирования  \n- Гидрирование при повышенных температурах  \n- Гидрирование при атмосферном давлении  \n- Гидрирование при температуре 50-200°С  \n- Гидрирование при объемной скорости 10000-20000 ч⁻¹  \n- Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой  \n- Использование гидроксида алюминия в виде гидратированного соединения  \n- Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия  \n- Содержание в гидратированном соединении до 10% гиббсита  \n- Размол гидроксида алюминия до частиц размером менее 20 мкм  \n- Количество частиц размером менее 20 мкм после размола более 70%  \n- Смешивание размолотого гидроксида алюминия с водой  \n- Проведение смешивания в присутствии азотной кислоты  \n- Проведение пластификации полученной смеси  \n- Формование гранул из пластифицированного продукта  \n- Формование гранул в слое керосина  \n- Формование гранул в водном растворе аммиака  \n- Сушка полученных гранул  \n- Прокаливание полученных гранул  \n- Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л  \n- Промывка гранул после прокаливания водой  \n- Значение pH воды для промывки от 6 до 9  \n- Время промывки 15 минут  \n- Проведение термообработки промытых гранул  \n- Температура термообработки 250 °C  \n- Каталитический реактор трубчатого типа  \n- Проведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C  \n- Реактор содержит корпус  \n- Реактор содержит трубные решетки  \n- Реактор содержит устройства для ввода реагентов  \n- Реактор содержит устройства для вывода реагентов  \n- Реактор содержит устройства для ввода хладагентов  \n- Реактор содержит устройства для вывода хладагентов  \n- Реактор содержит каталитически активные теплообменные трубки  \n- Соединение каталитически активных теплообменных трубок с трубными решетками  \n- Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки  \n- Нанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок  \n- Слой каталитически активного армированного порометаллического материала образован плоскими лентами  \n- Слой каталитически активного армированного порометаллического материала образован гофрированными лентами  \n- Создание бидисперсной структуры нанесенного на поверхность трубки слоя  \n- Толщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм  \n- Равномерное нанесение слоя катализатора по длине трубки  \n- Неравномерное нанесение слоя катализатора по длине трубки  \n- Способ осуществления сильно экзотермических реакций  \n- Подача реагирующей смеси стехиометрического состава в межтрубное пространство  \n- Образование межтрубного пространства каталитически активными теплообменными трубками  \n- Подача хладоагента внутрь каталитически активных теплообменных трубок  \n- Способ получения пористого железо-калиевооксидного композита  \n- Приготовление шихты  \n- Шихта содержит кристаллогидрат нитрата железа  \n- Шихта содержит кристаллогидрат нитрата церия  \n- Шихта содержит нитрат калия  \n- Шихта содержит оксид молибдена  \n- Шихта содержит оксид титана  \n- Шихта содержит карбонат кальция  \n- Шихта содержит тетраэтоксисилан  \n- Компоненты шихты взяты в стехиометрическом соотношении  \n- Импрегнирование в шихту выгорающей микродобавки  \n- Импрегнирование продуктами гидролиза солей  \n- Получение продуктов гидролиза солей способом соосаждения  \n- Получение продуктов гидролиза солей способом золь-гель  \n- Использование диоксанлигнина березы в качестве выгорающей микродобавки  \n- Количество выгорающей микродобавки 0,125-0,250 мас.%  \n- Формование образцов композита методом полусухого прессования  \n- Проведение обжига  \n- Обжиг в интервале температур 20-700°С  \n- Скорость нагрева при обжиге 10°/мин  \n- Изотермическая выдержка при обжиге в течение 3 часов  \n- Формирование бидисперсной структуры в композите  \n- Пористый железо-калиевооксидный композит  \n- Композит содержит фазу оксида железа α-Fe2O3  \n- Композит содержит фазу оксида церия CeO2  \n- Композит содержит фазу молибдата калия K2MoO4  \n- Композит содержит фазу феррита калия состава KFeO2  \n- Композит содержит фазу феррита калия состава KFe11O17  \n- Композит имеет бидисперсную структуру  \n- Общий объем пор композита от 0,006 до 0,013 см³/г  \n- Диаметр мезопор композита от 16 до 40 нм  \n- Диаметр макропор композита от 75 до 130 нм  \n- Удельная поверхность композита от 2 до 5 м²/г  \n- Способ получения пористых порошковых материалов  \n- Нанесение на частицы порообразователя связующего  \n- Смешивание частиц порообразователя со связующим с порошком  \n- Формование шихты  \n- Спекание шихты  \n- Использование металлического порошка при смешивании  \n- Использование керамического порошка при смешивании  \n- Нанесение на частицы порообразователя не менее двух слоев керамического порошка  \n- Нанесение на частицы порообразователя не более пяти слоев керамического порошка  \n- Нанесение органического связующего при нанесении первого слоя керамического порошка  \n- Использование неорганического связующего при нанесении второго слоя керамического порошка  \n- Использование неорганического связующего при нанесении последующих слоев керамического порошка  \n- Использование гранул пенополистирола в качестве частиц порообразователя  \n- Использование частиц порообразователя с размером в диапазоне 0,5-1 мм  \n- Использование водно-дисперсионного полиуретанового лака в качестве органического связующего  \n- Использование водного раствора силиката натрия в качестве неорганического связующего  \n- Способ соединения крупногабаритных порошковых деталей  \n- Приготовление шликера из бидисперсных порошков  \n- Расположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями  \n- Нанесение на соединяемые поверхности слоя шликера на основе порошка железа  \n- Сборка деталей  \n- Размещение пропитывающих брикетов на основе меди  \n- Проведение спекания с одновременной инфильтрацией  \n- Приготовление шликера из бидисперсных порошков  \n- Расположение непроницаемой перегородки между соединяемыми поверхностями  \n- Нанесение слоя шликера на поверхность соединяемых деталей  \n- Нанесение слоя шликера на поверхность непроницаемой перегородки  \n- Размещение пропитывающих брикетов сверху сборки  \n- Размещение пропитывающих брикетов снизу сборки\n\n---\n\n### Результаты проверки наличия признаков в реферате и формуле изобретения\n\n- Способ получения бидисперсных порошковых смесей : **-**  \n- Получение смесей из порошков существенно разных размеров : **-**  \n- Использование метода самораспространяющегося высокотемпературного синтеза (СВС): **-**  \n- Подготовка смеси компонентов : **+**  \n- Смешение нитрата металла и топливного компонента : **-**  \n- Использование нитрата металла в качестве окислителя : **-**  \n- Использование топливного компонента в качестве восстановителя : **-**  \n- Использование глицерина в качестве топливного компонента : **-**  \n- Использование тиомочевины в качестве топливного компонента : **-**  \n- Использование этиленгликоля в качестве топливного компонента : **-**  \n- Пропитка предварительно приготовленного порошка микронных размеров подготовленной смесью : **-**  \n- Использование порошка микронных размеров на основе оксидов : **-**  \n- Равномерное распределение реагентов на поверхности частиц порошка : **-**  \n- Формирование однородной бидисперсной смеси : **-**  \n- Удаление воды из раствора выпариванием : **-**  \n- Удаление воды из раствора сушкой : **-**  \n- Образование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка : **-**  \n- Нагревание сухой смеси до определенной температуры : **-**  \n- Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом : **-**  \n- Экзотермический характер окислительно-восстановительной реакции : **-**  \n- Самораспространяющийся характер процесса горения : **-**  \n- Поддержание процесса горения за счет выделяемой энергии : **-**  \n- Образование продукта в виде нанопорошка оксида металла : **-**  \n- Формирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ) : **-**  \n- Получение бидисперсной системы, состоящей из микропорошка и нанопорошка : **-**  \n- Более равномерное распределение частиц нанопорошка по всему объему микропорошка : **-**  \n- Способ получения смесевого твердого топлива с металлическим горючим : **-**  \n- Механическое перемешивание компонентов : **+**  \n- Использование металлического горючего в виде бидисперсной смеси порошков : **-**  \n- Использование порошка алюминия микронных размеров : **-**  \n- Использование нанопорошка алюминия : **-**  \n- Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.% : **-**  \n- Перемешивание бидисперсной смеси до осредненного состояния : **-**  \n- Введение бидисперсной смеси в количестве 10-25 мас.% : **-**  \n- Введение бидисперсной смеси в полностью перемешанную смесь других компонентов : **-**  \n- Дополнительное перемешивание полученной массы в течение не менее 30 мин : **-**  \n- Вакуумирование полученной массы в течение не менее 30 мин : **-**  \n- Использование перхлората аммония в качестве окислителя : **-**  \n- Использование нитрата аммония в качестве окислителя : **-**  \n- Использование смешанного окислителя, включающего нитрат аммония и нитрамин : **-**  \n- Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего : **-**  \n- Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего : **-**  \n- Способ получения порошковой смеси бидисперсных керамических и металлических частиц : **-**  \n- Перемешивание порошков в жидкой среде : **-**  \n- Двухэтапное перемешивание : **-**  \n- Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды : **-**  \n- Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1 : **-**  \n- Перемешивание керамических наночастиц в жидкой среде на первом этапе : **-**  \n- Длительность перемешивания на первом этапе не менее 15 минут : **-**  \n- Добавление металлических микрочастиц на втором этапе : **-**  \n- Перемешивание полученной смеси на втором этапе : **-**  \n- Длительность перемешивания на втором этапе не менее 15 минут : **-**  \n- Удаление жидкости после перемешивания : **-**  \n- Удаление жидкости в сушильном шкафу : **-**  \n- Температура удаления жидкости не менее 80°C : **-**  \n- Длительность удаления жидкости не менее 24 часов : **-**  \n- Использование керамических наночастиц : **+**  \n- Диаметр керамических наночастиц от 30 до 140 нм : **+**  \n- Использование металлических микрочастиц : **+**  \n- Диаметр металлических микрочастиц от 20 до 180 мкм : **+**  \n- Массовое соотношение порошков и жидкости 1/2 : **-**  \n- Массовое соотношение наночастиц и микрочастиц 1/19 : **-**  \n- Способ получения дифениламина : **-**  \n- Термическая обработка анилина : **-**  \n- Проведение термической обработки в присутствии катализатора : **-**  \n- Использование алюмооксидного катализатора : **-**  \n- Катализатор кислого характера : **-**  \n- Получение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде : **-**  \n- Использование азотной кислоты при получении катализатора : **-**  \n- Пластификация катализатора : **-**  \n- Формование катализатора : **-**  \n- Сушка катализатора : **-**  \n- Прокаливание катализатора при повышенной температуре : **-**  \n- Гранулированный наноструктурированный алюмооксидный катализатор : **-**  \n- Содержание натрия в катализаторе от 0,005 до 0,02 мас.% : **-**  \n- Содержание серы в катализаторе от 0 до 5 мас.% : **-**  \n- Содержание фосфора в катализаторе от 0 до 2,8 мас.% : **-**  \n- Содержание хлора в катализаторе от 0 до 2,6 мас.% : **-**  \n- Бидисперсная пористая структура катализатора : **-**  \n- Объем микропор катализатора от 0,06 до 0,18 см³/г : **-**  \n- Объем мезопор катализатора от 0,2 до 0,32 см³/г : **-**  \n- Суммарный объем пор катализатора от 0,25 до 0,55 см³/г : **-**  \n- Средний диаметр пор катализатора от 3 до 5,5 нм : **-**  \n- Удельная поверхность катализатора не менее 200 м²/г : **-**  \n- Оксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы : **-**  \n- Суммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.% : **-**  \n- Содержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.% : **-**  \n- Форма гранул катализатора - цилиндр диаметром 3-5 мм : **-**  \n- Форма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм : **-**  \n- Способ приготовления катализатора, включающий термическую активацию гидраргиллита : **-**  \n- Гидратация продуктов термической активации гидраргиллита в кислом растворе : **-**  \n- Отмывка продуктов гидратации от примесных ионов : **-**  \n- Введение модифицирующих добавок на стадии пластификации : **-**  \n- Формование в гранулы методом экструзии : **-**  \n- Проведение термической обработки сформированных гранул : **-**  \n- Использование продукта центробежной термической активации гидраргиллита : **-**  \n- Использование термоактивированного гидроксида алюминия : **-**  \n- Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С : **-**  \n- Способ получения этилена путем дегидратации этанола : **-**  \n- Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора : **-**  \n- Проведение процесса получения этилена при температуре 350-450°С : **-**  \n- Проведение процесса получения этилена при времени контакта 0.2-4.0 с : **-**  \n- Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов : **-**  \n- Содержание палладия в катализаторе 0,01÷1,0 мас.% : **-**  \n- Размер частиц палладия от 1,5 до 20 нм : **-**  \n- Нанесение активного компонента (палладия) на бидисперсный силикагель : **-**  \n- Содержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.% : **-**  \n- Удельная поверхность бидисперсного силикагеля 150÷350 м²/г : **-**  \n- Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г : **-**  \n- Отсутствие микропор в бидисперсном силикагеле : **-**  \n- Объем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г : **-**  \n- Объем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г : **-**  \n- Способ приготовления палладиевого катализатора : **-**  \n- Использование предварительно высушенного носителя : **-**  \n- Пропитка носителя водным раствором стабилизированного нитрата палладия : **-**  \n- Пропитка носителя раствором стабилизированного нитрата палладия при определенных рН : **-**  \n- Сушка катализатора после пропитки : **-**  \n- Прокаливание катализатора на воздухе после сушки : **-**  \n- Восстановление катализатора в потоке водородсодержащего газа после прокаливания : **-**  \n- Добавление лимонной кислоты в пропиточные растворы : **-**  \n- Предотвращение агломерации палладийсодержащих частиц на поверхности носителя : **-**  \n- Регулирование рН пропиточных растворов без введения катионов щелочных металлов : **-**  \n- Регулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида : **-**  \n- Способ очистки олефинов от примесей полиненасыщенных углеводородов : **-**  \n- Очистка путем каталитического гидрирования : **-**  \n- Гидрирование при повышенных температурах : **-**  \n- Гидрирование при атмосферном давлении : **-**  \n- Гидрирование при температуре 50-200°С : **-**  \n- Гидрирование при объемной скорости 10000-20000 ч⁻¹ : **-**  \n- Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой : **-**  \n- Использование гидроксида алюминия в виде гидратированного соединения : **+**  \n- Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия : **+**  \n- Содержание в гидратированном соединении до 10% гиббсита : **+**  \n- Размол гидроксида алюминия до частиц размером менее 20 мкм : **+**  \n- Количество частиц размером менее 20 мкм после размола более 70% : **+**  \n- Смешивание размолотого гидроксида алюминия с водой : **+**  \n- Проведение смешивания в присутствии азотной кислоты : **+**  \n- Проведение пластификации полученной смеси : **+**  \n- Формование гранул из пластифицированного продукта : **+**  \n- Формование гранул в слое керосина : **-**  \n- Формование гранул в водном растворе аммиака : **+**  \n- Сушка полученных гранул : **+**  \n- Прокаливание полученных гранул : **+**', 'stage': 'completed'}
2025-10-03 18:54:29,529 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x000002AAFDA53A10>, 1830913972:bea03cc5-815e-4271-8346-5f5975206ebd
2025-10-03 18:54:29,550 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:bea03cc5-815e-4271-8346-5f5975206ebd disconnected
2025-10-03 18:54:29,551 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-03 18:54:29,551 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:bea03cc5-815e-4271-8346-5f5975206ebd cleanup completed
2025-10-03 18:54:29,554 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858
2025-10-03 18:54:29,554 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-03 18:54:29,554 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858 создан новый список соединений
2025-10-03 18:54:29,555 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858: 1
2025-10-03 18:54:29,556 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858 содержит 0 сообщений
2025-10-03 18:54:29,556 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-03 18:54:29,557 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858: 1 соединений
2025-10-03 18:54:29,557 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858 содержит 0 сообщений
2025-10-03 18:54:29,557 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858
2025-10-03 18:54:29,558 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858 connected successfully
2025-10-03 18:54:29,559 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-03 18:54:29,561 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-03 18:54:29,561 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-03 18:54:29,562 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-03 18:54:29,562 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-03 18:54:29,563 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-03 18:54:29,563 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x000002AAFDD48210>
2025-10-03 18:54:29,564 - app.service.llm_gateway - DEBUG - [llm_gateway.py:62 - _get_client()] - Selected llm_client - GIGACHAT
2025-10-03 18:54:29,564 - app.llm_client.gigachat.ws_gigachat - DEBUG - [ws_gigachat.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x000002AAFDD48210>
2025-10-03 18:54:29,565 - app.llm_client.gigachat.ws_gigachat - DEBUG - [ws_gigachat.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-03 18:54:29,565 - app.llm_client.gigachat.ws_gigachat - DEBUG - [ws_gigachat.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-03 18:54:29,565 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x000002AAFDD48210>
2025-10-03 18:54:29,566 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-03 18:54:29,568 - core.token_manager.gigachat - DEBUG - [gigachat.py:29 - __init__()] - dep_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\gigachat\gigachat_iam_auth_key.json
2025-10-03 18:54:29,568 - core.token_manager.gigachat - DEBUG - [gigachat.py:30 - __init__()] - dep_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\gigachat\gigachat_jwt_auth_key.json
2025-10-03 18:54:29,569 - core.token_manager.gigachat - DEBUG - [gigachat.py:59 - get_token()] - Using valid Gigachat API token
2025-10-03 18:54:29,570 - app.llm_client.gigachat.ws_gigachat - DEBUG - [ws_gigachat.py:21 - ask()] - ___Star GigachatHTTPClient ask___
2025-10-03 18:54:29,570 - app.llm_client.gigachat.ws_gigachat - DEBUG - [ws_gigachat.py:23 - ask()] - context.api_uri:https://gigachat.devices.sberbank.ru/api/v1/chat/completions
2025-10-03 18:54:29,571 - app.llm_client.gigachat.ws_gigachat - DEBUG - [ws_gigachat.py:24 - ask()] - context.model:GigaChat-2
2025-10-03 18:54:29,571 - app.llm_client.gigachat.ws_gigachat - DEBUG - [ws_gigachat.py:25 - ask()] - context.model:0.0
2025-10-03 18:54:29,572 - app.llm_client.gigachat.ws_gigachat - DEBUG - [ws_gigachat.py:26 - ask()] - context.token:eyJjdHkiOiJqd3QiLCJlbmMiOiJBMjU2Q0JDLUhTNTEyIiwiYWxnIjoiUlNBLU9BRVAtMjU2In0.JWvnoLBsOjensEVwFLzuc1WkWzAqWaNNRIjv_VC5yHY-d5OhDYfIjneJHrPSZ9-PgYoJD1ZX7b_mOf4boZwuxMmq2U0H23qGTB1BVGS-2oo5N3RBx5cIly1SPqFdHftMPLL67Haqsa7q7RHWCd8IrQl1c8Oz7e-5k89U99qs3abX_0SEQCLxQRcCjOAYEta6pEklx-fvw5oleM1xQdV_BmZmJgyTEhOrjxoV38qvPcAAfYt3JSIHd6QuEtXD2mkWOzpJGmPdAId_cT0HJ_GhUzxXRrM8WC-jH25kHgxns9wUOoyrvSEgR7JXQ2HHo56TqEj6vbQ77NkGfxH1A1rfIA.4IS1i6YLaCzd10jjc7P3Fw.JxZbjRtTH6zIP7zfbVzWPwcDt86d34knSjay__xgkJayydRiLkDObvDHdnDaTeN0fiJ7m2hNI1kSfYMmK7g-4VqSIOwRvbTibzSiKUyd1JM0artlEkiNz-M923Asd6lotvk73cNwAzGZQks2hS4zQ_MKh8gnUk5p-uww2QGzI7IaRHh2-RO4SOA3eijkHaALLbjt-q55TFWfq7VUYOZ6gCp2LzFc6YxXUaCIyBgd5et0EoHFpa0_rad06vcyKKxrKd-BUIrCJ8gQ6fjqtruLsVsmgJeXNsUC7ris-mWTvApv6QtEDGeVEqRbDGHzrxJl6wtKGkgSMeat6-5hX3TubINqiH3S8KLaF6oSqFqbX_iymtyEBa9Lc0ZwNAdNnthstZqy5ogQm35QVSIr344jYP2JHJla-QEP4vwYpAL8GCYQVyeiyH2Cb4c4M9xntE-WARFncHtGgz1FYI5t7BJebGs3IZ827Z0X2AIcXFeh5O-6xOx5fGuti9jRA3I71BkD28SVLHmKvNNCYPb_R0Q47pz8xqgfuMAlkd1une17o8TkDF2jQPoUG3GGrUTEMHsCmR3BDSM7Z0uds0DDTDoKN5-eO4yro94cv7XjhDC3TKvL-Ra98i1fVAx0gdPbipfN6ImEi_fVPnLr3IhQMX4QpBmSL1Q8pzinLpVSdvo4vDWwnI89KHt3Vga82NCIO77rLseflvG4byxKjA_p47MCuxey1tgM_h8YZ7UJZrjwTlg.9_jNgrVx_mIKyuoSqJB3tVhLNEL2FKqVP1sz0Pg8IQE
2025-10-03 18:54:29,572 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858
2025-10-03 18:54:29,573 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-03 18:54:29,573 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x000002AAFDAC4C30>, 1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858
2025-10-03 18:54:29,574 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858
2025-10-03 18:54:29,575 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-03 18:54:29,575 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x000002AAFDAC4C30>, 1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858
2025-10-03 18:54:29,576 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858
2025-10-03 18:54:29,576 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-03 18:54:29,577 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x000002AAFDAC4C30>, 1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858
2025-10-03 18:54:29,578 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858
2025-10-03 18:54:29,579 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-03 18:54:29,580 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x000002AAFDAC4C30>, 1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858
2025-10-03 18:55:29,199 - app.llm_client.gigachat.ws_gigachat - DEBUG - [ws_gigachat.py:77 - ask()] - assistant reply: ### Вывод наличия признаков в реферате и формуле изобретения

#### Список признаков:

- **1.** Способ получения бидисперсных порошковых смесей  
- **2.** Получение смесей из порошков существенно разных размеров  
- **3.** Использование метода самораспространяющегося высокотемпературного синтеза (СВС)  
- **4.** Подготовка смеси компонентов  
- **5.** Смешение нитрата металла и топливного компонента  
- **6.** Использование нитрата металла в качестве окислителя  
- **7.** Использование топливного компонента в качестве восстановителя  
- **8.** Использование глицерина в качестве топливного компонента  
- **9.** Использование тиомочевины в качестве топливного компонента  
- **10.** Использование этиленгликоля в качестве топливного компонента  
- **11.** Пропитка предварительно приготовленного порошка микронных размеров подготовленной смесью  
- **12.** Использование порошка микронных размеров на основе оксидов  
- **13.** Равномерное распределение реагентов на поверхности частиц порошка  
- **14.** Формирование однородной бидисперсной смеси  
- **15.** Удаление воды из раствора выпариванием  
- **16.** Удаление воды из раствора сушкой  
- **17.** Образование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка  
- **18.** Нагревание сухой смеси до определенной температуры  
- **19.** Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом  
- **20.** Экзотермический характер окислительно-восстановительной реакции  
- **21.** Самораспространяющийся характер процесса горения  
- **22.** Поддержание процесса горения за счет выделяемой энергии  
- **23.** Образование продукта в виде нанопорошка оксида металла  
- **24.** Формирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ)  
- **25.** Получение бидисперсной системы, состоящей из микропорошка и нанопорошка  
- **26.** Более равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением  
- **27.** Способ получения смесевого твердого топлива с металлическим горючим  
- **28.** Механическое перемешивание компонентов  
- **29.** Использование металлического горючего в виде бидисперсной смеси порошков  
- **30.** Использование порошка алюминия микронных размеров  
- **31.** Использование нанопорошка алюминия  
- **32.** Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%  
- **33.** Перемешивание бидисперсной смеси до осредненного состояния  
- **34.** Введение бидисперсной смеси в количестве 10-25 мас.%  
- **35.** Введение бидисперсной смеси в полностью перемешанную смесь других компонентов  
- **36.** Дополнительное перемешивание полученной массы в течение не менее 30 мин  
- **37.** Вакуумирование полученной массы в течение не менее 30 мин  
- **38.** Использование перхлората аммония в качестве окислителя  
- **39.** Использование нитрата аммония в качестве окислителя  
- **40.** Использование смешанного окислителя, включающего нитрат аммония и нитрамин  
- **41.** Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего  
- **42.** Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего  
- **43.** Способ получения порошковой смеси бидисперсных керамических и металлических частиц  
- **44.** Перемешивание порошков в жидкой среде  
- **45.** Двухэтапное перемешивание  
- **46.** Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды  
- **47.** Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1  
- **48.** Перемешивание керамических наночастиц в жидкой среде на первом этапе  
- **49.** Длительность перемешивания на первом этапе не менее 15 минут  
- **50.** Добавление металлических микрочастиц на втором этапе  
- **51.** Перемешивание полученной смеси на втором этапе  
- **52.** Длительность перемешивания на втором этапе не менее 15 минут  
- **53.** Удаление жидкости после перемешивания  
- **54.** Удаление жидкости в сушильном шкафу  
- **55.** Температура удаления жидкости не менее 80°C  
- **56.** Длительность удаления жидкости не менее 24 часов  
- **57.** Использование керамических наночастиц  
- **58.** Диаметр керамических наночастиц от 30 до 140 нм  
- **59.** Использование металлических микрочастиц  
- **60.** Диаметр металлических микрочастиц от 20 до 180 мкм  
- **61.** Массовое соотношение порошков и жидкости 1/2  
- **62.** Массовое соотношение наночастиц и микрочастиц 1/19  
- **63.** Способ получения дифениламина  
- **64.** Термическая обработка анилина  
- **65.** Проведение термической обработки в присутствии катализатора  
- **66.** Использование алюмооксидного катализатора  
- **67.** Катализатор кислого характера  
- **68.** Получение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде  
- **69.** Использование азотной кислоты при получении катализатора  
- **70.** Пластификация катализатора  
- **71.** Формование катализатора  
- **72.** Сушка катализатора  
- **73.** Прокаливание катализатора при повышенной температуре  
- **74.** Катализатор с бидисперсной пористой структурой  
- **75.** Суммарный объем пор катализатора равен или более 0,45 см³/г  
- **76.** Объем пор катализатора с радиусом более равен или более 0,27 см³/г  
- **77.** Удельная поверхность катализатора не менее 200 м²/г  
- **78.** Получение катализатора из термо- или термомеханохимически активированного гидроксида алюминия  
- **79.** Смешивание активированного гидроксида алюминия с ортофосфорной кислотой  
- **80.** Проведение пластификации при кислотном модуле 0,02 - 0,07  
- **81.** Провяливание катализатора на воздухе не менее 12 часов перед сушкой  
- **82.** Сушка катализатора при 100 °C не менее 12 часов после провяливания  
- **83.** Прокаливание катализатора при 500 °C после сушки  
- **84.** Гранулированный наноструктурированный алюмооксидный катализатор  
- **85.** Содержание натрия в катализаторе от 0,005 до 0,02 мас.%  
- **86.** Содержание серы в катализаторе от 0 до 5 мас.%  
- **87.** Содержание фосфора в катализаторе от 0 до 2,8 мас.%  
- **88.** Содержание хлора в катализаторе от 0 до 2,6 мас.%  
- **89.** Бидисперсная пористая структура катализатора  
- **90.** Объем микропор катализатора от 0,06 до 0,18 см³/г  
- **91.** Объем мезопор катализатора от 0,2 до 0,32 см³/г  
- **92.** Суммарный объем пор катализатора от 0,25 до 0,55 см³/г  
- **93.** Средний диаметр пор катализатора от 3 до 5,5 нм  
- **94.** Удельная поверхность катализатора от 200 до 350 м²/г  
- **95.** Оксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы  
- **96.** Суммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%  
- **97.** Содержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%  
- **98.** Форма гранул катализатора - цилиндр диаметром 3-5 мм  
- **99.** Форма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм  
- **100.** Способ приготовления катализатора, включающий термическую активацию гидраргиллита  
- **101.** Гидратация продуктов термической активации гидраргиллита в кислом растворе  
- **102.** Отмывка продуктов гидратации от примесных ионов  
- **103.** Введение модифицирующих добавок на стадии пластификации  
- **104.** Формование в гранулы методом экструзии  
- **105.** Проведение термической обработки сформированных гранул  
- **106.** Отмывка продуктов гидратации дистиллированной водой  
- **107.** Отмывка продуктов гидратации слабыми растворами серной кислоты  
- **108.** Отмывка продуктов гидратации слабыми растворами азотной кислоты  
- **109.** Использование растворов серной кислоты для пластификации гидроксида алюминия  
- **110.** Использование растворов соляной кислоты для пластификации гидроксида алюминия  
- **111.** Использование растворов ортофосфорной кислоты для пластификации гидроксида алюминия  
- **112.** Использование растворов азотной кислоты для пластификации гидроксида алюминия  
- **113.** Модифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃  
- **114.** Модифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃  
- **115.** Модифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃  
- **116.** Модифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃  
- **117.** Использование продукта центробежной термической активации гидраргиллита  
- **118.** Использование термоактивированного гидроксида алюминия  
- **119.** Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С  
- **120.** Способ получения этилена путем дегидратации этанола  
- **121.** Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора  
- **122.** Проведение процесса получения этилена при температуре 350-450°С  
- **123.** Проведение процесса получения этилена при времени контакта 0.2-4.0 с  
- **124.** Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов  
- **125.** Содержание палладия в катализаторе 0,01÷1,0 мас.%  
- **126.** Размер частиц палладия от 1,5 до 20 нм  
- **127.** Нанесение активного компонента (палладия) на бидисперсный силикагель  
- **128.** Содержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%  
- **129.** Удельная поверхность бидисперсного силикагеля 150÷350 м²/г  
- **130.** Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г  
- **131.** Отсутствие микропор в бидисперсном силикагеле  
- **132.** Объем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г  
- **133.** Объем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г  
- **134.** Способ приготовления палладиевого катализатора  
- **135.** Использование предварительно высушенного носителя  
- **136.** Пропитка носителя водным раствором стабилизированного нитрата палладия  
- **137.** Пропитка носителя раствором стабилизированного нитрата палладия при определенных рН  
- **138.** Сушка катализатора после пропитки  
- **139.** Прокаливание катализатора на воздухе после сушки  
- **140.** Восстановление катализатора в потоке водородсодержащего газа после прокаливания  
- **141.** Добавление лимонной кислоты в пропиточные растворы  
- **142.** Предотвращение агломерации палладийсодержащих частиц на поверхности носителя  
- **143.** Регулирование рН пропиточных растворов без введения катионов щелочных металлов  
- **144.** Регулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида  
- **145.** Способ очистки олефинов от примесей полиненасыщенных углеводородов  
- **146.** Очистка путем каталитического гидрирования  
- **147.** Гидрирование при повышенных температурах  
- **148.** Гидрирование при атмосферном давлении  
- **149.** Гидрирование при температуре 50-200°С  
- **150.** Гидрирование при объемной скорости 10000-20000 ч⁻¹  
- **151.** Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой  
- **152.** Использование гидроксида алюминия в виде гидратированного соединения  
- **153.** Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия  
- **154.** Содержание в гидратированном соединении до 10% гиббсита  
- **155.** Размол гидроксида алюминия до частиц размером менее 20 мкм  
- **156.** Количество частиц размером менее 20 мкм после размола более 70%  
- **157.** Смешивание размолотого гидроксида алюминия с водой  
- **158.** Проведение смешивания в присутствии азотной кислоты  
- **159.** Проведение пластификации полученной смеси  
- **160.** Формование гранул из пластифицированного продукта  
- **161.** Формование гранул в слое керосина  
- **162.** Формование гранул в водном растворе аммиака  
- **163.** Сушка полученных гранул  
- **164.** Прокаливание полученных гранул  
- **165.** Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л  
- **166.** Промывка гранул после прокаливания водой  
- **167.** Значение pH воды для промывки от 6 до 9  
- **168.** Время промывки 15 минут  
- **169.** Проведение термообработки промытых гранул  
- **170.** Температура термообработки 250 °C  
- **171.** Каталитический реактор трубчатого типа  
- **172.** Проведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C  
- **173.** Реактор содержит корпус  
- **174.** Реактор содержит трубные решетки  
- **175.** Реактор содержит устройства для ввода реагентов  
- **176.** Реактор содержит устройства для вывода реагентов  
- **177.** Реактор содержит устройства для ввода хладагентов  
- **178.** Реактор содержит устройства для вывода хладагентов  
- **179.** Реактор содержит каталитически активные теплообменные трубки  
- **180.** Соединение каталитически активных теплообменных трубок с трубными решетками  
- **181.** Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки  
- **182.** Нанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок  
- **183.** Слой каталитически активного армированного порометаллического материала образован плоскими лентами  
- **184.** Слой каталитически активного армированного порометаллического материала образован гофрированными лентами  
- **185.** Создание бидисперсной структуры нанесенного на поверхность трубки слоя  
- **186.** Толщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм  
- **187.** Равномерное нанесение слоя катализатора по длине трубки  
- **188.** Неравномерное нанесение слоя катализатора по длине трубки  
- **189.** Способ осуществления сильно экзотермических реакций  
- **190.** Подача реагирующей смеси стехиометрического состава в межтрубное пространство  
- **191.** Подача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство  
- **192.** Образование межтрубного пространства каталитически активными теплообменными трубками  
- **193.** Подача хладоагента внутрь каталитически активных теплообменных трубок  
- **194.** Способ получения пористого железо-калиевооксидного композита  
- **195.** Приготовление шихты  
- **196.** Шихта содержит кристаллогидрат нитрата железа  
- **197.** Шихта содержит кристаллогидрат нитрата церия  
- **198.** Шихта содержит нитрат калия  
- **199.** Шихта содержит оксид молибдена  
- **200.** Шихта содержит оксид титана  
- **201.** Шихта содержит карбонат кальция  
- **202.** Шихта содержит тетраэтоксисилан  
- **203.** Компоненты шихты взяты в стехиометрическом соотношении  
- **204.** Импрегнирование в шихту выгорающей микродобавки  
- **205.** Импрегнирование продуктами гидролиза солей  
- **206.** Получение продуктов гидролиза солей способом соосаждения  
- **207.** Получение продуктов гидролиза солей способом золь-гель  
- **208.** Использование диоксанлигнина березы в качестве выгорающей микродобавки  
- **209.** Количество выгорающей микродобавки 0,125-0,250 мас.%  
- **210.** Формование образцов композита методом полусухого прессования  
- **211.** Проведение обжига  
- **212.** Обжиг в интервале температур 20-700°С  
- **213.** Скорость нагрева при обжиге 10°/мин  
- **214.** Изотермическая выдержка при обжиге в течение 3 часов  
- **215.** Формирование бидисперсной структуры в композите  
- **216.** Пористый железо-калиевооксидный композит  
- **217.** Композит содержит фазу оксида железа α-Fe2O3  
- **218.** Композит содержит фазу оксида церия CeO2  
- **219.** Композит содержит фазу молибдата калия K2MoO4  
- **220.** Композит содержит фазу феррита калия состава KFeO2  
- **221.** Композит содержит фазу феррита калия состава KFe11O17  
- **222.** Композит имеет бидисперсную структуру  
- **223.** Общий объем пор композита от 0,006 до 0,013 см3/г  
- **224.** Диаметр мезопор композита от 16 до 40 нм  
- **225.** Диаметр макропор композита от 75 до 130 нм  
- **226.** Удельная поверхность композита от 2 до 5 м2/г  
- **227.** Способ получения пористых порошковых материалов  
- **228.** Нанесение на частицы порообразователя связующего  
- **229.** Смешивание частиц порообразователя со связующим с порошком  
- **230.** Формование шихты  
- **231.** Спекание шихты  
- **232.** Использование металлического порошка при смешивании  
- **233.** Использование керамического порошка при смешивании  
- **234.** Нанесение на частицы порообразователя не менее двух слоев керамического порошка  
- **235.** Нанесение на частицы порообразователя не более пяти слоев керамического порошка  
- **236.** Нанесение органического связующего при нанесении первого слоя керамического порошка  
- **237.** Использование неорганического связующего при нанесении второго слоя керамического порошка  
- **238.** Использование неорганического связующего при нанесении последующих слоев керамического порошка  
- **239.** Использование гранул пенополистирола в качестве частиц порообразователя  
- **240.** Использование частиц порообразователя с размером в диапазоне 0,5-1 мм  
- **241.** Использование водно-дисперсионного полиуретанового лака в качестве органического связующего  
- **242.** Использование водного раствора силиката натрия в качестве неорганического связующего  
- **243.** Способ соединения крупногабаритных порошковых деталей  
- **244.** Приготовление шихты на основе железа  
- **245.** Прессовое формование деталей  
- **246.** Нанесение на соединяемые поверхности слоя шликера на основе порошка железа  
- **247.** Сборка деталей  
- **248.** Размещение пропитывающих брикетов на основе меди  
- **249.** Проведение спекания с одновременной инфильтрацией  
- **250.** Приготовление шликера из бидисперсных порошков  
- **251.** Расположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями  
- **252.** Нанесение слоя шликера на поверхность соединяемых деталей  
- **253.** Нанесение слоя шликера на поверхность непроницаемой перегородки  
- **254.** Размещение пропитывающих брикетов сверху сборки  
- **255.** Размещение пропитывающих брикетов снизу сборки

---

### Результаты проверки признаков

|Признаки|Результат|
|-|-|
|Способ получения бидисперсных порошковых смесей |+|
|Получение смесей из порошков существенно разных размеров |+|
|Использование метода самораспространяющегося высокотемпературного синтеза (СВС) |-|
|Подготовка смеси компонентов |+|
|Смешение нитрата металла и топливного компонента |+|
|Использование нитрата металла в качестве окислителя |+|
|Использование топливного компонента в качестве восстановителя |+|
|Использование глицерина в качестве топливного компонента |+|
|Использование тиомочевины в качестве топливного компонента |+|
|Использование этиленгликоля в качестве топливного компонента |+|
|Пропитка предварительно приготовленного порошка микронных размеров подготовленной смесью |+|
|Использование порошка микронных размеров на основе оксидов |+|
|Равномерное распределение реагентов на поверхности частиц порошка |+|
|Формирование однородной бидисперсной смеси |+|
|Удаление воды из раствора выпариванием |+|
|Удаление воды из раствора сушкой |+|
|Образование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка |+|
|Нагревание сухой смеси до определенной температуры |+|
|Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом |+|
|Экзотермический характер окислительно-восстановительной реакции |+|
|Самораспространяющийся характер процесса горения |+|
|Поддержание процесса горения за счет выделяемой энергии |+|
|Образование продукта в виде нанопорошка оксида металла |+|
|Формирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ) |+|
|Получение бидисперсной системы, состоящей из микропорошка и нанопорошка |+|
|Более равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением |+|
|Способ получения смесевого твердого топлива с металлическим горючим |+|
|Механическое перемешивание компонентов |+|
|Использование металлического горючего в виде бидисперсной смеси порошков |+|
|Использование порошка алюминия микронных размеров |+|
|Использование нанопорошка алюминия |+|
|Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.% |+|
|Перемешивание бидисперсной смеси до осредненного состояния |+|
|Введение бидисперсной смеси в количестве 10-25 мас.% |+|
|Введение бидисперсной смеси в полностью перемешанную смесь других компонентов |+|
|Дополнительное перемешивание полученной массы в течение не менее 30 мин |+|
|Вакуумирование полученной массы в течение не менее 30 мин |+|
|Использование перхлората аммония в качестве окислителя |+|
|Использование нитрата аммония в качестве окислителя |+|
|Использование смешанного окислителя, включающего нитрат аммония и нитрамин |+|
|Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего |+|
|Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего |+|
|Способ получения порошковой смеси бидисперсных керамических и металлических частиц |+|
|Перемешивание порошков в жидкой среде |+|
|Двухэтапное перемешивание |+|
|Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды |+|
|Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1 |+|
|Перемешивание керамических наночастиц в жидкой среде на первом этапе |+|
|Длительность перемешивания на первом этапе не менее 15 минут |+|
|Добавление металлических микрочастиц на втором этапе |+|
|Перемешивание полученной смеси на втором этапе |+|
|Длительность перемешивания на втором этапе не менее 15 минут |+|
|Удаление жидкости после перемешивания |+|
|Удаление жидкости в сушильном шкафу |+|
|Температура удаления жидкости не менее 80°C |+|
|Длительность удаления жидкости не менее 24 часов |+|
|Использование керамических наночастиц |+|
|Диаметр керамических наночастиц от 30 до 140 нм |+|
|Использование металлических микрочастиц |+|
|Диаметр металлических микрочастиц от 20 до 180 мкм |+|
|Массовое соотношение порошков и жидкости 1/2 |+|
|Массовое соотношение наночастиц и микрочастиц 1/19 |+|
|Способ получения дифениламина |-|
|Термическая обработка анилина |-|
|Проведение термической обработки в присутствии катализатора |-|
|Использование алюмооксидного катализатора |-|
|Катализатор кислого характера |-|
|Получение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде |-|
|Использование азотной кислоты при получении катализатора |-|
|Пластификация катализатора |-|
|Формование катализатора |-|
|Сушка катализатора |-|
|Прокаливание катализатора при повышенной температуре |-|
|Катализатор с бидисперсной пористой структурой |-|
|Суммарный объем пор катализатора равен или более 0,45 см³/г |-|
|Объем пор катализатора с радиусом более равен или более 0,27 см³/г |-|
|Удельная поверхность катализатора не менее 200 м²/г |-|
|Получение катализатора из термо- или термомеханохимически активированного гидроксида алюминия |-|
|Использование раствора серной кислоты для пластификации гидроксида алюминия |+|
|Использование раствора соляной кислоты для пластификации гидроксида алюминия |+|
|Использование раствора ортофосфорной кислоты для пластификации гидроксида алюминия |+|
|Использование раствора азотной кислоты для пластификации гидроксида алюминия |+|
|Модифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃ |+|
|Модифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃ |+|
|Модифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃ |+|
|Модифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃ |+|
|Использование продукта центробежной термической активации гидраргиллита |-|
|Использование термоактивированного гидроксида алюминия |-|
|Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С |-|
|Способ получения этилена путем дегидратации этанола |-|
|Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора |-|
|Проведение процесса получения этилена при температуре 350-450°С |-|
|Проведение процесса получения этилена при времени контакта 0.2-4.0 с |-|
|Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов |-|
|Содержание палладия в катализаторе 0,01÷1,0 мас.% |-|
|Размер частиц палладия от 1,5 до 20 нм |-|
|Нанесение активного компонента (палладия) на бидисперсный силикагель |-|
|Содержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.% |-|
|Удельная поверхность бидисперсного силикагеля 150÷350 м²/г |-|
|Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г |-|
|Отсутствие микропор в бидисперсном силикагеле |-|
|Объем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г |-|
|Объем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г |-|
|Способ приготовления палладиевого катализатора |-|
|Использование предварительно высушенного носителя |-|
|Пропитка носителя водным раствором стабилизированного нитрата палладия |-|
|Пропитка носителя раствором стабилизированного нитрата палладия при определенных рН |-|
|Использование раствора тетраметиламмоний гидроксида для регулирования рН |-|
|Формование в гранулы методом экструзии |-|
|Проведение термической обработки сформированных гранул |-|
|Отмывка продуктов гидратации дистиллированной водой |-|
|Отмывка продуктов гидратации слабыми растворами серной кислоты |-|
|Отмывка продуктов гидратации слабыми растворами азотной кислоты |-|
|Использование растворов серной кислоты для пластификации гидроксида алюминия |+|
|Использование растворов соляной кислоты для пластификации гидроксида алюминия |+|
|Использование растворов ортофосфорной кислоты для пластификации гидроксида алюминия |+|
|Использование растворов азотной кислоты для пластификации гидроксида алюминия |+|
|Использование продукта центробежной термической активации гидраргиллита |-|
|Использование термоактивированного гидроксида алюминия |-|
|Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С |-|
|Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой |-|
|Использование гидроксида алюминия в виде гидратированного соединения |+|
|Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия |+|
|Содержание в гидратированном соединении до 10% гиббсита |+|
|Размол гидроксида алюминия до частиц размером менее 20 мкм |+|
|Количество частиц размером менее 20 мкм после размола более 70% |+|
|Использование размолотого гидроксида алюминия с водой |+|
|Проведение смешивания в присутствии азотной кислоты |+|
|Проведение пластификации полученной смеси |+|
|Формование гранул из пластифицированного продукта |+|
|Формование гранул в слое керосина |+|
|Формование гранул в водном растворе аммиака |+|
|Использование перхлората аммония в качестве окислителя |+|
|Использование нитрата аммония в качестве окислителя |+|
|Использование смешанного окислителя, включающего нитрат аммония и нитрамин |+|
|Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего |+|
|Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего |+|
|Способ получения порошковой смеси бидисперсных керамических и металлических частиц |+|
|Перемешивание порошков в жидкой среде |+|
|Двухэтапное перемешивание |+|
|Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды |+|
|Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1 |+|
|Перемешивание керамических наночастиц в жидкой среде на первом этапе |+|
|Длительность перемешивания на первом этапе не менее 15 минут |+|
|Добавление металлических микрочастиц на втором этапе |+|
|Перемешивание полученной смеси на втором этапе |+|
|Длительность перемешивания на втором этапе не менее 15 минут |+|
|Удаление жидкости после перемешивания |+|
|Удаление жидкости в сушильном шкафу |+|
|Температура удаления жидкости не менее 80°C |+|
|Длительность удаления жидкости не менее 24 часов |+|
|Использование керамических наночастиц |+|
|Диаметр керамических наночастиц от 30 до 140 нм |+|
|Использование металлических микрочастиц |+|
|Диаметр металлических микрочастиц от 20 до 180 мкм |+|
|Массовое соотношение порошков и жидкости 1/2 |+|
|Массовое соотношение наночастиц и микрочастиц 1/19 |+|

---

### Итоговое заключение

Технические признаки, относящиеся к методике получения бидисперсных порошков, механизму формирования бидисперсной смеси и технологии подготовки катализаторов, частично совпадают с признаками заявленного способа соединения круп
2025-10-03 18:55:29,221 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858
2025-10-03 18:55:29,222 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858, message: {'status': 'completed', 'message': '### Вывод наличия признаков в реферате и формуле изобретения\n\n#### Список признаков:\n\n- **1.** Способ получения бидисперсных порошковых смесей  \n- **2.** Получение смесей из порошков существенно разных размеров  \n- **3.** Использование метода самораспространяющегося высокотемпературного синтеза (СВС)  \n- **4.** Подготовка смеси компонентов  \n- **5.** Смешение нитрата металла и топливного компонента  \n- **6.** Использование нитрата металла в качестве окислителя  \n- **7.** Использование топливного компонента в качестве восстановителя  \n- **8.** Использование глицерина в качестве топливного компонента  \n- **9.** Использование тиомочевины в качестве топливного компонента  \n- **10.** Использование этиленгликоля в качестве топливного компонента  \n- **11.** Пропитка предварительно приготовленного порошка микронных размеров подготовленной смесью  \n- **12.** Использование порошка микронных размеров на основе оксидов  \n- **13.** Равномерное распределение реагентов на поверхности частиц порошка  \n- **14.** Формирование однородной бидисперсной смеси  \n- **15.** Удаление воды из раствора выпариванием  \n- **16.** Удаление воды из раствора сушкой  \n- **17.** Образование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка  \n- **18.** Нагревание сухой смеси до определенной температуры  \n- **19.** Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом  \n- **20.** Экзотермический характер окислительно-восстановительной реакции  \n- **21.** Самораспространяющийся характер процесса горения  \n- **22.** Поддержание процесса горения за счет выделяемой энергии  \n- **23.** Образование продукта в виде нанопорошка оксида металла  \n- **24.** Формирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ)  \n- **25.** Получение бидисперсной системы, состоящей из микропорошка и нанопорошка  \n- **26.** Более равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением  \n- **27.** Способ получения смесевого твердого топлива с металлическим горючим  \n- **28.** Механическое перемешивание компонентов  \n- **29.** Использование металлического горючего в виде бидисперсной смеси порошков  \n- **30.** Использование порошка алюминия микронных размеров  \n- **31.** Использование нанопорошка алюминия  \n- **32.** Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%  \n- **33.** Перемешивание бидисперсной смеси до осредненного состояния  \n- **34.** Введение бидисперсной смеси в количестве 10-25 мас.%  \n- **35.** Введение бидисперсной смеси в полностью перемешанную смесь других компонентов  \n- **36.** Дополнительное перемешивание полученной массы в течение не менее 30 мин  \n- **37.** Вакуумирование полученной массы в течение не менее 30 мин  \n- **38.** Использование перхлората аммония в качестве окислителя  \n- **39.** Использование нитрата аммония в качестве окислителя  \n- **40.** Использование смешанного окислителя, включающего нитрат аммония и нитрамин  \n- **41.** Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего  \n- **42.** Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего  \n- **43.** Способ получения порошковой смеси бидисперсных керамических и металлических частиц  \n- **44.** Перемешивание порошков в жидкой среде  \n- **45.** Двухэтапное перемешивание  \n- **46.** Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды  \n- **47.** Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1  \n- **48.** Перемешивание керамических наночастиц в жидкой среде на первом этапе  \n- **49.** Длительность перемешивания на первом этапе не менее 15 минут  \n- **50.** Добавление металлических микрочастиц на втором этапе  \n- **51.** Перемешивание полученной смеси на втором этапе  \n- **52.** Длительность перемешивания на втором этапе не менее 15 минут  \n- **53.** Удаление жидкости после перемешивания  \n- **54.** Удаление жидкости в сушильном шкафу  \n- **55.** Температура удаления жидкости не менее 80°C  \n- **56.** Длительность удаления жидкости не менее 24 часов  \n- **57.** Использование керамических наночастиц  \n- **58.** Диаметр керамических наночастиц от 30 до 140 нм  \n- **59.** Использование металлических микрочастиц  \n- **60.** Диаметр металлических микрочастиц от 20 до 180 мкм  \n- **61.** Массовое соотношение порошков и жидкости 1/2  \n- **62.** Массовое соотношение наночастиц и микрочастиц 1/19  \n- **63.** Способ получения дифениламина  \n- **64.** Термическая обработка анилина  \n- **65.** Проведение термической обработки в присутствии катализатора  \n- **66.** Использование алюмооксидного катализатора  \n- **67.** Катализатор кислого характера  \n- **68.** Получение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде  \n- **69.** Использование азотной кислоты при получении катализатора  \n- **70.** Пластификация катализатора  \n- **71.** Формование катализатора  \n- **72.** Сушка катализатора  \n- **73.** Прокаливание катализатора при повышенной температуре  \n- **74.** Катализатор с бидисперсной пористой структурой  \n- **75.** Суммарный объем пор катализатора равен или более 0,45 см³/г  \n- **76.** Объем пор катализатора с радиусом более равен или более 0,27 см³/г  \n- **77.** Удельная поверхность катализатора не менее 200 м²/г  \n- **78.** Получение катализатора из термо- или термомеханохимически активированного гидроксида алюминия  \n- **79.** Смешивание активированного гидроксида алюминия с ортофосфорной кислотой  \n- **80.** Проведение пластификации при кислотном модуле 0,02 - 0,07  \n- **81.** Провяливание катализатора на воздухе не менее 12 часов перед сушкой  \n- **82.** Сушка катализатора при 100 °C не менее 12 часов после провяливания  \n- **83.** Прокаливание катализатора при 500 °C после сушки  \n- **84.** Гранулированный наноструктурированный алюмооксидный катализатор  \n- **85.** Содержание натрия в катализаторе от 0,005 до 0,02 мас.%  \n- **86.** Содержание серы в катализаторе от 0 до 5 мас.%  \n- **87.** Содержание фосфора в катализаторе от 0 до 2,8 мас.%  \n- **88.** Содержание хлора в катализаторе от 0 до 2,6 мас.%  \n- **89.** Бидисперсная пористая структура катализатора  \n- **90.** Объем микропор катализатора от 0,06 до 0,18 см³/г  \n- **91.** Объем мезопор катализатора от 0,2 до 0,32 см³/г  \n- **92.** Суммарный объем пор катализатора от 0,25 до 0,55 см³/г  \n- **93.** Средний диаметр пор катализатора от 3 до 5,5 нм  \n- **94.** Удельная поверхность катализатора от 200 до 350 м²/г  \n- **95.** Оксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы  \n- **96.** Суммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%  \n- **97.** Содержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%  \n- **98.** Форма гранул катализатора - цилиндр диаметром 3-5 мм  \n- **99.** Форма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм  \n- **100.** Способ приготовления катализатора, включающий термическую активацию гидраргиллита  \n- **101.** Гидратация продуктов термической активации гидраргиллита в кислом растворе  \n- **102.** Отмывка продуктов гидратации от примесных ионов  \n- **103.** Введение модифицирующих добавок на стадии пластификации  \n- **104.** Формование в гранулы методом экструзии  \n- **105.** Проведение термической обработки сформированных гранул  \n- **106.** Отмывка продуктов гидратации дистиллированной водой  \n- **107.** Отмывка продуктов гидратации слабыми растворами серной кислоты  \n- **108.** Отмывка продуктов гидратации слабыми растворами азотной кислоты  \n- **109.** Использование растворов серной кислоты для пластификации гидроксида алюминия  \n- **110.** Использование растворов соляной кислоты для пластификации гидроксида алюминия  \n- **111.** Использование растворов ортофосфорной кислоты для пластификации гидроксида алюминия  \n- **112.** Использование растворов азотной кислоты для пластификации гидроксида алюминия  \n- **113.** Модифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃  \n- **114.** Модифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃  \n- **115.** Модифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃  \n- **116.** Модифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃  \n- **117.** Использование продукта центробежной термической активации гидраргиллита  \n- **118.** Использование термоактивированного гидроксида алюминия  \n- **119.** Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С  \n- **120.** Способ получения этилена путем дегидратации этанола  \n- **121.** Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора  \n- **122.** Проведение процесса получения этилена при температуре 350-450°С  \n- **123.** Проведение процесса получения этилена при времени контакта 0.2-4.0 с  \n- **124.** Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов  \n- **125.** Содержание палладия в катализаторе 0,01÷1,0 мас.%  \n- **126.** Размер частиц палладия от 1,5 до 20 нм  \n- **127.** Нанесение активного компонента (палладия) на бидисперсный силикагель  \n- **128.** Содержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%  \n- **129.** Удельная поверхность бидисперсного силикагеля 150÷350 м²/г  \n- **130.** Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г  \n- **131.** Отсутствие микропор в бидисперсном силикагеле  \n- **132.** Объем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г  \n- **133.** Объем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г  \n- **134.** Способ приготовления палладиевого катализатора  \n- **135.** Использование предварительно высушенного носителя  \n- **136.** Пропитка носителя водным раствором стабилизированного нитрата палладия  \n- **137.** Пропитка носителя раствором стабилизированного нитрата палладия при определенных рН  \n- **138.** Сушка катализатора после пропитки  \n- **139.** Прокаливание катализатора на воздухе после сушки  \n- **140.** Восстановление катализатора в потоке водородсодержащего газа после прокаливания  \n- **141.** Добавление лимонной кислоты в пропиточные растворы  \n- **142.** Предотвращение агломерации палладийсодержащих частиц на поверхности носителя  \n- **143.** Регулирование рН пропиточных растворов без введения катионов щелочных металлов  \n- **144.** Регулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида  \n- **145.** Способ очистки олефинов от примесей полиненасыщенных углеводородов  \n- **146.** Очистка путем каталитического гидрирования  \n- **147.** Гидрирование при повышенных температурах  \n- **148.** Гидрирование при атмосферном давлении  \n- **149.** Гидрирование при температуре 50-200°С  \n- **150.** Гидрирование при объемной скорости 10000-20000 ч⁻¹  \n- **151.** Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой  \n- **152.** Использование гидроксида алюминия в виде гидратированного соединения  \n- **153.** Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия  \n- **154.** Содержание в гидратированном соединении до 10% гиббсита  \n- **155.** Размол гидроксида алюминия до частиц размером менее 20 мкм  \n- **156.** Количество частиц размером менее 20 мкм после размола более 70%  \n- **157.** Смешивание размолотого гидроксида алюминия с водой  \n- **158.** Проведение смешивания в присутствии азотной кислоты  \n- **159.** Проведение пластификации полученной смеси  \n- **160.** Формование гранул из пластифицированного продукта  \n- **161.** Формование гранул в слое керосина  \n- **162.** Формование гранул в водном растворе аммиака  \n- **163.** Сушка полученных гранул  \n- **164.** Прокаливание полученных гранул  \n- **165.** Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л  \n- **166.** Промывка гранул после прокаливания водой  \n- **167.** Значение pH воды для промывки от 6 до 9  \n- **168.** Время промывки 15 минут  \n- **169.** Проведение термообработки промытых гранул  \n- **170.** Температура термообработки 250 °C  \n- **171.** Каталитический реактор трубчатого типа  \n- **172.** Проведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C  \n- **173.** Реактор содержит корпус  \n- **174.** Реактор содержит трубные решетки  \n- **175.** Реактор содержит устройства для ввода реагентов  \n- **176.** Реактор содержит устройства для вывода реагентов  \n- **177.** Реактор содержит устройства для ввода хладагентов  \n- **178.** Реактор содержит устройства для вывода хладагентов  \n- **179.** Реактор содержит каталитически активные теплообменные трубки  \n- **180.** Соединение каталитически активных теплообменных трубок с трубными решетками  \n- **181.** Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки  \n- **182.** Нанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок  \n- **183.** Слой каталитически активного армированного порометаллического материала образован плоскими лентами  \n- **184.** Слой каталитически активного армированного порометаллического материала образован гофрированными лентами  \n- **185.** Создание бидисперсной структуры нанесенного на поверхность трубки слоя  \n- **186.** Толщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм  \n- **187.** Равномерное нанесение слоя катализатора по длине трубки  \n- **188.** Неравномерное нанесение слоя катализатора по длине трубки  \n- **189.** Способ осуществления сильно экзотермических реакций  \n- **190.** Подача реагирующей смеси стехиометрического состава в межтрубное пространство  \n- **191.** Подача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство  \n- **192.** Образование межтрубного пространства каталитически активными теплообменными трубками  \n- **193.** Подача хладоагента внутрь каталитически активных теплообменных трубок  \n- **194.** Способ получения пористого железо-калиевооксидного композита  \n- **195.** Приготовление шихты  \n- **196.** Шихта содержит кристаллогидрат нитрата железа  \n- **197.** Шихта содержит кристаллогидрат нитрата церия  \n- **198.** Шихта содержит нитрат калия  \n- **199.** Шихта содержит оксид молибдена  \n- **200.** Шихта содержит оксид титана  \n- **201.** Шихта содержит карбонат кальция  \n- **202.** Шихта содержит тетраэтоксисилан  \n- **203.** Компоненты шихты взяты в стехиометрическом соотношении  \n- **204.** Импрегнирование в шихту выгорающей микродобавки  \n- **205.** Импрегнирование продуктами гидролиза солей  \n- **206.** Получение продуктов гидролиза солей способом соосаждения  \n- **207.** Получение продуктов гидролиза солей способом золь-гель  \n- **208.** Использование диоксанлигнина березы в качестве выгорающей микродобавки  \n- **209.** Количество выгорающей микродобавки 0,125-0,250 мас.%  \n- **210.** Формование образцов композита методом полусухого прессования  \n- **211.** Проведение обжига  \n- **212.** Обжиг в интервале температур 20-700°С  \n- **213.** Скорость нагрева при обжиге 10°/мин  \n- **214.** Изотермическая выдержка при обжиге в течение 3 часов  \n- **215.** Формирование бидисперсной структуры в композите  \n- **216.** Пористый железо-калиевооксидный композит  \n- **217.** Композит содержит фазу оксида железа α-Fe2O3  \n- **218.** Композит содержит фазу оксида церия CeO2  \n- **219.** Композит содержит фазу молибдата калия K2MoO4  \n- **220.** Композит содержит фазу феррита калия состава KFeO2  \n- **221.** Композит содержит фазу феррита калия состава KFe11O17  \n- **222.** Композит имеет бидисперсную структуру  \n- **223.** Общий объем пор композита от 0,006 до 0,013 см3/г  \n- **224.** Диаметр мезопор композита от 16 до 40 нм  \n- **225.** Диаметр макропор композита от 75 до 130 нм  \n- **226.** Удельная поверхность композита от 2 до 5 м2/г  \n- **227.** Способ получения пористых порошковых материалов  \n- **228.** Нанесение на частицы порообразователя связующего  \n- **229.** Смешивание частиц порообразователя со связующим с порошком  \n- **230.** Формование шихты  \n- **231.** Спекание шихты  \n- **232.** Использование металлического порошка при смешивании  \n- **233.** Использование керамического порошка при смешивании  \n- **234.** Нанесение на частицы порообразователя не менее двух слоев керамического порошка  \n- **235.** Нанесение на частицы порообразователя не более пяти слоев керамического порошка  \n- **236.** Нанесение органического связующего при нанесении первого слоя керамического порошка  \n- **237.** Использование неорганического связующего при нанесении второго слоя керамического порошка  \n- **238.** Использование неорганического связующего при нанесении последующих слоев керамического порошка  \n- **239.** Использование гранул пенополистирола в качестве частиц порообразователя  \n- **240.** Использование частиц порообразователя с размером в диапазоне 0,5-1 мм  \n- **241.** Использование водно-дисперсионного полиуретанового лака в качестве органического связующего  \n- **242.** Использование водного раствора силиката натрия в качестве неорганического связующего  \n- **243.** Способ соединения крупногабаритных порошковых деталей  \n- **244.** Приготовление шихты на основе железа  \n- **245.** Прессовое формование деталей  \n- **246.** Нанесение на соединяемые поверхности слоя шликера на основе порошка железа  \n- **247.** Сборка деталей  \n- **248.** Размещение пропитывающих брикетов на основе меди  \n- **249.** Проведение спекания с одновременной инфильтрацией  \n- **250.** Приготовление шликера из бидисперсных порошков  \n- **251.** Расположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями  \n- **252.** Нанесение слоя шликера на поверхность соединяемых деталей  \n- **253.** Нанесение слоя шликера на поверхность непроницаемой перегородки  \n- **254.** Размещение пропитывающих брикетов сверху сборки  \n- **255.** Размещение пропитывающих брикетов снизу сборки\n\n---\n\n### Результаты проверки признаков\n\n|Признаки|Результат|\n|-|-|\n|Способ получения бидисперсных порошковых смесей |+|\n|Получение смесей из порошков существенно разных размеров |+|\n|Использование метода самораспространяющегося высокотемпературного синтеза (СВС) |-|\n|Подготовка смеси компонентов |+|\n|Смешение нитрата металла и топливного компонента |+|\n|Использование нитрата металла в качестве окислителя |+|\n|Использование топливного компонента в качестве восстановителя |+|\n|Использование глицерина в качестве топливного компонента |+|\n|Использование тиомочевины в качестве топливного компонента |+|\n|Использование этиленгликоля в качестве топливного компонента |+|\n|Пропитка предварительно приготовленного порошка микронных размеров подготовленной смесью |+|\n|Использование порошка микронных размеров на основе оксидов |+|\n|Равномерное распределение реагентов на поверхности частиц порошка |+|\n|Формирование однородной бидисперсной смеси |+|\n|Удаление воды из раствора выпариванием |+|\n|Удаление воды из раствора сушкой |+|\n|Образование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка |+|\n|Нагревание сухой смеси до определенной температуры |+|\n|Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом |+|\n|Экзотермический характер окислительно-восстановительной реакции |+|\n|Самораспространяющийся характер процесса горения |+|\n|Поддержание процесса горения за счет выделяемой энергии |+|\n|Образование продукта в виде нанопорошка оксида металла |+|\n|Формирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ) |+|\n|Получение бидисперсной системы, состоящей из микропорошка и нанопорошка |+|\n|Более равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением |+|\n|Способ получения смесевого твердого топлива с металлическим горючим |+|\n|Механическое перемешивание компонентов |+|\n|Использование металлического горючего в виде бидисперсной смеси порошков |+|\n|Использование порошка алюминия микронных размеров |+|\n|Использование нанопорошка алюминия |+|\n|Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.% |+|\n|Перемешивание бидисперсной смеси до осредненного состояния |+|\n|Введение бидисперсной смеси в количестве 10-25 мас.% |+|\n|Введение бидисперсной смеси в полностью перемешанную смесь других компонентов |+|\n|Дополнительное перемешивание полученной массы в течение не менее 30 мин |+|\n|Вакуумирование полученной массы в течение не менее 30 мин |+|\n|Использование перхлората аммония в качестве окислителя |+|\n|Использование нитрата аммония в качестве окислителя |+|\n|Использование смешанного окислителя, включающего нитрат аммония и нитрамин |+|\n|Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего |+|\n|Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего |+|\n|Способ получения порошковой смеси бидисперсных керамических и металлических частиц |+|\n|Перемешивание порошков в жидкой среде |+|\n|Двухэтапное перемешивание |+|\n|Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды |+|\n|Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1 |+|\n|Перемешивание керамических наночастиц в жидкой среде на первом этапе |+|\n|Длительность перемешивания на первом этапе не менее 15 минут |+|\n|Добавление металлических микрочастиц на втором этапе |+|\n|Перемешивание полученной смеси на втором этапе |+|\n|Длительность перемешивания на втором этапе не менее 15 минут |+|\n|Удаление жидкости после перемешивания |+|\n|Удаление жидкости в сушильном шкафу |+|\n|Температура удаления жидкости не менее 80°C |+|\n|Длительность удаления жидкости не менее 24 часов |+|\n|Использование керамических наночастиц |+|\n|Диаметр керамических наночастиц от 30 до 140 нм |+|\n|Использование металлических микрочастиц |+|\n|Диаметр металлических микрочастиц от 20 до 180 мкм |+|\n|Массовое соотношение порошков и жидкости 1/2 |+|\n|Массовое соотношение наночастиц и микрочастиц 1/19 |+|\n|Способ получения дифениламина |-|\n|Термическая обработка анилина |-|\n|Проведение термической обработки в присутствии катализатора |-|\n|Использование алюмооксидного катализатора |-|\n|Катализатор кислого характера |-|\n|Получение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде |-|\n|Использование азотной кислоты при получении катализатора |-|\n|Пластификация катализатора |-|\n|Формование катализатора |-|\n|Сушка катализатора |-|\n|Прокаливание катализатора при повышенной температуре |-|\n|Катализатор с бидисперсной пористой структурой |-|\n|Суммарный объем пор катализатора равен или более 0,45 см³/г |-|\n|Объем пор катализатора с радиусом более равен или более 0,27 см³/г |-|\n|Удельная поверхность катализатора не менее 200 м²/г |-|\n|Получение катализатора из термо- или термомеханохимически активированного гидроксида алюминия |-|\n|Использование раствора серной кислоты для пластификации гидроксида алюминия |+|\n|Использование раствора соляной кислоты для пластификации гидроксида алюминия |+|\n|Использование раствора ортофосфорной кислоты для пластификации гидроксида алюминия |+|\n|Использование раствора азотной кислоты для пластификации гидроксида алюминия |+|\n|Модифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃ |+|\n|Модифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃ |+|\n|Модифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃ |+|\n|Модифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃ |+|\n|Использование продукта центробежной термической активации гидраргиллита |-|\n|Использование термоактивированного гидроксида алюминия |-|\n|Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С |-|\n|Способ получения этилена путем дегидратации этанола |-|\n|Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора |-|\n|Проведение процесса получения этилена при температуре 350-450°С |-|\n|Проведение процесса получения этилена при времени контакта 0.2-4.0 с |-|\n|Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов |-|\n|Содержание палладия в катализаторе 0,01÷1,0 мас.% |-|\n|Размер частиц палладия от 1,5 до 20 нм |-|\n|Нанесение активного компонента (палладия) на бидисперсный силикагель |-|\n|Содержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.% |-|\n|Удельная поверхность бидисперсного силикагеля 150÷350 м²/г |-|\n|Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г |-|\n|Отсутствие микропор в бидисперсном силикагеле |-|\n|Объем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г |-|\n|Объем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г |-|\n|Способ приготовления палладиевого катализатора |-|\n|Использование предварительно высушенного носителя |-|\n|Пропитка носителя водным раствором стабилизированного нитрата палладия |-|\n|Пропитка носителя раствором стабилизированного нитрата палладия при определенных рН |-|\n|Использование раствора тетраметиламмоний гидроксида для регулирования рН |-|\n|Формование в гранулы методом экструзии |-|\n|Проведение термической обработки сформированных гранул |-|\n|Отмывка продуктов гидратации дистиллированной водой |-|\n|Отмывка продуктов гидратации слабыми растворами серной кислоты |-|\n|Отмывка продуктов гидратации слабыми растворами азотной кислоты |-|\n|Использование растворов серной кислоты для пластификации гидроксида алюминия |+|\n|Использование растворов соляной кислоты для пластификации гидроксида алюминия |+|\n|Использование растворов ортофосфорной кислоты для пластификации гидроксида алюминия |+|\n|Использование растворов азотной кислоты для пластификации гидроксида алюминия |+|\n|Использование продукта центробежной термической активации гидраргиллита |-|\n|Использование термоактивированного гидроксида алюминия |-|\n|Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С |-|\n|Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой |-|\n|Использование гидроксида алюминия в виде гидратированного соединения |+|\n|Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия |+|\n|Содержание в гидратированном соединении до 10% гиббсита |+|\n|Размол гидроксида алюминия до частиц размером менее 20 мкм |+|\n|Количество частиц размером менее 20 мкм после размола более 70% |+|\n|Использование размолотого гидроксида алюминия с водой |+|\n|Проведение смешивания в присутствии азотной кислоты |+|\n|Проведение пластификации полученной смеси |+|\n|Формование гранул из пластифицированного продукта |+|\n|Формование гранул в слое керосина |+|\n|Формование гранул в водном растворе аммиака |+|\n|Использование перхлората аммония в качестве окислителя |+|\n|Использование нитрата аммония в качестве окислителя |+|\n|Использование смешанного окислителя, включающего нитрат аммония и нитрамин |+|\n|Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего |+|\n|Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего |+|\n|Способ получения порошковой смеси бидисперсных керамических и металлических частиц |+|\n|Перемешивание порошков в жидкой среде |+|\n|Двухэтапное перемешивание |+|\n|Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды |+|\n|Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1 |+|\n|Перемешивание керамических наночастиц в жидкой среде на первом этапе |+|\n|Длительность перемешивания на первом этапе не менее 15 минут |+|\n|Добавление металлических микрочастиц на втором этапе |+|\n|Перемешивание полученной смеси на втором этапе |+|\n|Длительность перемешивания на втором этапе не менее 15 минут |+|\n|Удаление жидкости после перемешивания |+|\n|Удаление жидкости в сушильном шкафу |+|\n|Температура удаления жидкости не менее 80°C |+|\n|Длительность удаления жидкости не менее 24 часов |+|\n|Использование керамических наночастиц |+|\n|Диаметр керамических наночастиц от 30 до 140 нм |+|\n|Использование металлических микрочастиц |+|\n|Диаметр металлических микрочастиц от 20 до 180 мкм |+|\n|Массовое соотношение порошков и жидкости 1/2 |+|\n|Массовое соотношение наночастиц и микрочастиц 1/19 |+|\n\n---\n\n### Итоговое заключение\n\nТехнические признаки, относящиеся к методике получения бидисперсных порошков, механизму формирования бидисперсной смеси и технологии подготовки катализаторов, частично совпадают с признаками заявленного способа соединения круп', 'stage': 'completed'}
2025-10-03 18:55:29,262 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x000002AAFDAC4C30>, 1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858
2025-10-03 18:55:29,329 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858 disconnected
2025-10-03 18:55:29,329 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-03 18:55:29,330 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:63c1e942-1b7a-44c2-bf9e-e1c415551858 cleanup completed
2025-10-04 11:16:19,501 - asyncio - DEBUG - [selector_events.py:64 - __init__()] - Using selector: SelectSelector
2025-10-04 11:16:25,431 - asyncio - DEBUG - [selector_events.py:64 - __init__()] - Using selector: SelectSelector
2025-10-04 11:17:35,681 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-04 11:17:35,686 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-04 11:17:35,687 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-04 11:17:35,687 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-04 11:17:35,688 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-04 11:17:35,688 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-04 11:17:35,688 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-04 11:17:35,689 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000027B780EE660>
2025-10-04 11:17:35,689 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-04 11:17:35,690 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000027B780EE660>
2025-10-04 11:17:35,690 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-04 11:17:35,691 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-04 11:17:35,691 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000027B780EE660>
2025-10-04 11:17:35,692 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-04 11:17:35,693 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-04 11:17:35,694 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: e12b...
2025-10-04 11:17:35,696 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-04 11:17:35,696 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-04 11:17:35,696 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-04 11:17:35,697 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-04 11:17:35,697 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-04 11:17:35,698 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-04 11:17:35,698 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-04 11:17:35,698 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-04 11:17:35,699 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-04 11:17:35,699 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-04 11:17:35,699 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 1
2025-10-04 11:17:35,700 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-04 11:17:35,700 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-04 11:17:35,700 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-04 11:17:35,701 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 2
2025-10-04 11:17:35,701 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-04 11:17:35,702 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-04 11:17:35,702 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-04 11:17:35,702 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 3
2025-10-04 11:17:35,703 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-04 11:17:35,703 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-04 11:17:35,704 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-04 11:17:35,704 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 4
2025-10-04 11:17:35,711 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972
2025-10-04 11:17:35,712 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972 создан новый список соединений
2025-10-04 11:17:35,713 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972: 1
2025-10-04 11:17:35,713 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972 содержит 4 сообщений
2025-10-04 11:17:35,713 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-04 11:17:35,713 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972: 1 соединений
2025-10-04 11:17:35,714 - core.connection_manager - DEBUG - [connection_manager.py:187 - print_active_connections()] - 📦 Буферизованные сообщения:
2025-10-04 11:17:35,714 - core.connection_manager - DEBUG - [connection_manager.py:189 - print_active_connections()] -   1830913972: 4 сообщений
2025-10-04 11:17:35,714 - core.connection_manager - DEBUG - [connection_manager.py:190 - print_active_connections()] - buffer: deque([<core.connection_manager.BufferedMessage object at 0x0000027B780EECF0>, <core.connection_manager.BufferedMessage object at 0x0000027B7810C690>, <core.connection_manager.BufferedMessage object at 0x0000027B7810CA50>, <core.connection_manager.BufferedMessage object at 0x0000027B7809E9E0>], maxlen=50)
2025-10-04 11:17:35,715 - core.connection_manager - DEBUG - [connection_manager.py:130 - _flush_buffer()] - Flushing buffer for 1830913972 (4 messages)
2025-10-04 11:17:35,715 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-04 11:17:35,717 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000027B7810D1D0>, 1830913972
2025-10-04 11:17:35,717 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-04 11:17:35,717 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000027B7810D1D0>, 1830913972
2025-10-04 11:17:35,718 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-04 11:17:35,718 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000027B7810D1D0>, 1830913972
2025-10-04 11:17:35,718 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-04 11:17:35,721 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000027B7810D1D0>, 1830913972
2025-10-04 11:17:35,721 - core.connection_manager - DEBUG - [connection_manager.py:150 - _flush_buffer()] - Flushed 4 messages for 1830913972
2025-10-04 11:17:35,722 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972 содержит 0 сообщений
2025-10-04 11:17:35,722 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972
2025-10-04 11:17:35,723 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972 connected successfully
2025-10-04 11:21:38,279 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Способ получения бидисперсных порошковых смесей: +
Получение смесей из порошков существенно разных размеров: +
Использование метода самораспространяющегося высокотемпературного синтеза (СВС): +
Подготовка смеси компонентов: +
Смешение нитрата металла и топливного компонента: +
Использование нитрата металла в качестве окислителя: +
Использование топливного компонента в качестве восстановителя: +
Использование глицерина в качестве топливного компонента: +
Использование тиомочевины в качестве топливного компонента: +
Использование этиленгликоля в качестве топливного компонента: +
Пропитка предварительно приготовленного порошка микронных размеров подготовленной смесью: +
Использование порошка микронных размеров на основе оксидов: +
Равномерное распределение реагентов на поверхности частиц порошка: +
Формирование однородной бидисперсной смеси: +
Удаление воды из раствора выпариванием: +
Удаление воды из раствора сушкой: +
Образование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка: +
Нагревание сухой смеси до определенной температуры: +
Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом: +
Экзотермический характер окислительно-восстановительной реакции: +
Самораспространяющийся характер процесса горения: +
Поддержание процесса горения за счет выделяемой энергии: +
Образование продукта в виде нанопорошка оксида металла: +
Формирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ): +
Получение бидисперсной системы, состоящей из микропорошка и нанопорошка: +
Более равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением: +
Способ получения смесевого твердого топлива с металлическим горючим: -
Механическое перемешивание компонентов: -
Использование металлического горючего в виде бидисперсной смеси порошков: -
Использование порошка алюминия микронных размеров: -
Использование нанопорошка алюминия: -
Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%: -
Перемешивание бидисперсной смеси до осредненного состояния: -
Введение бидисперсной смеси в количестве 10-25 мас.%: -
Введение бидисперсной смеси в полностью перемешанную смесь других компонентов: -
Дополнительное перемешивание полученной массы в течение не менее 30 мин: -
Вакуумирование полученной массы в течение не менее 30 мин: -
Использование перхлората аммония в качестве окислителя: -
Использование нитрата аммония в качестве окислителя: -
Использование смешанного окислителя, включающего нитрат аммония и нитрамин: -
Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего: -
Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего: -
Способ получения порошковой смеси бидисперсных керамических и металлических частиц: -
Перемешивание порошков в жидкой среде: -
Двухэтапное перемешивание: -
Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды: -
Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1: -
Перемешивание керамических наночастиц в жидкой среде на первом этапе: -
Длительность перемешивания на первом этапе не менее 15 минут: -
Добавление металлических микрочастиц на втором этапе: -
Перемешивание полученной смеси на втором этапе: -
Длительность перемешивания на втором этапе не менее 15 минут: -
Удаление жидкости после перемешивания: -
Удаление жидкости в сушильном шкафу: -
Температура удаления жидкости не менее 80°C: -
Длительность удаления жидкости не менее 24 часов: -
Использование керамических наночастиц: -
Диаметр керамических наночастиц от 30 до 140 нм: -
Использование металлических микрочастиц: -
Диаметр металлических микрочастиц от 20 до 180 мкм: -
Массовое соотношение порошков и жидкости 1/2: -
Массовое соотношение наночастиц и микрочастиц 1/19: -
Способ получения дифениламина: -
Термическая обработка анилина: -
Проведение термической обработки в присутствии катализатора: -
Использование алюмооксидного катализатора: -
Катализатор кислого характера: -
Получение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде: -
Использование азотной кислоты при получении катализатора: -
Пластификация катализатора: -
Формование катализатора: -
Сушка катализатора: -
Прокаливание катализатора при повышенной температуре: -
Катализатор с бидисперсной пористой структурой: -
Суммарный объем пор катализатора равен или более 0,45 см³/г: -
Объем пор катализатора с радиусом более равен или более 0,27 см³/г: -
Удельная поверхность катализатора не менее 200 м²/г: -
Получение катализатора из термо- или термомеханохимически активированного гидроксида алюминия: -
Смешивание активированного гидроксида алюминия с ортофосфорной кислотой: -
Проведение пластификации при кислотном модуле 0,02 - 0,07: -
Провяливание катализатора на воздухе не менее 12 часов перед сушкой: -
Сушка катализатора при 100 °C не менее 12 часов после провяливания: -
Прокаливание катализатора при 500 °C после сушки: -
Гранулированный наноструктурированный алюмооксидный катализатор: -
Содержание натрия в катализаторе от 0,005 до 0,02 мас.%: -
Содержание серы в катализатора от 0 до 5 мас.%: -
Содержание фосфорa в катализаторе от 0 до 2,8 мас.%: -
Содержание хлора в катализаторе от 0 до 2,6 мас.%: -
Бидисперсная пористая структура катализатора: -
Объем микропор катализатора от 0,06 до 0,18 см³/г: -
Объем мезопор катализатора от 0,2 до 0,32 см³/г: -
Суммарный объем пор катализатора от 0,25 до 0,55 см³/г: -
Средний диаметр пор катализатора от 3 до 5,5 нм: -
Удельная поверхность катализатора от 200 до 350 м²/г: -
Оксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы: -
Суммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%: -
Содержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%: -
Форма гранул катализатора - цилиндр диаметром 3-5 мм: -
Форма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм: -
Способ приготовления катализатора, включающий термическую активацию гидраргиллита: -
Гидратация продуктов термической активации гидраргиллита в кислом растворе: -
Отмывка продуктов гидратации от примесных ионов: -
Введение модифицирующих добавок на стадии пластификации: -
Формование в гранулы методом экструзии: -
Проведение термической обработки сформированных гранул: -
Отмывка продуктов гидратации дистиллированной водой: -
Отмывка продуктов гидратации слабыми растворами серной кислоты: -
Отмывка продуктов гидратации слабыми растворами азотной кислоты: -
Использование растворов серной кислоты для пластификации гидроксида алюминия: -
Использование растворов соляной кислоты для пластификации гидроксида алюминия: -
Использование растворов ортофосфорной кислоты для пластификации гидроксида алюминия: -
Использование растворов азотной кислоты для пластификации гидроксида алюминия: -
Модифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃: -
Модифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃: -
Модифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃: -
Модифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃: -
Использование продукта центробежной термической активации гидраргиллита: -
Использование термоактивированного гидроксида алюминия: -
Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С: -
Способ получения этилена путем дегидратации этанола: -
Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора: -
Проведение процесса получения этилена при температуре 350-450°С: -
Проведение процесса получения этилена при времени контакта 0.2-4.0 с: -
Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов: -
Содержание палладия в катализаторе 0,01÷1,0 мас.%: -
Размер частиц палладия от 1,5 до 20 нм: -
Нанесение активного компонента (палладия) на бидисперсный силикагель: -
Содержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%: -
Удельная поверхность бидисперсного силикагеля 150÷350 м²/г: -
Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г: -
Отсутствие микропор в бидисперсном силикагеле: -
Объем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г: -
Объем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г: -
Способ приготовления палладиевого катализатора: -
Использование предварительно высушенного носителя: -
Пропитка носителя водным раствором стабилизированного нитрата палладия: -
Пропитка носителя раствором стабилизированного нитрата палладия при определенных рН: -
Сушка катализатора после пропитки: -
Прокаливание катализатора на воздухе после сушки: -
Восстановление катализатора в потоке водородсодержащего газа после прокаливания: -
Добавление лимонной кислоты в пропиточные растворы: -
Предотвращение агломерации палладийсодержащих частиц на поверхности носителя: -
Регулирование рН пропиточных растворов без введения катионов щелочных металлов: -
Регулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида: -
Способ очистки олефинов от примесей полиненасыщенных углеводородов: -
Очистка путем каталитического гидрирования: -
Гидрирование при повышенных температурах: -
Гидрирование при атмосферном давлении: -
Гидрирование при температуре 50-200°С: -
Гидрирование при объемной скорости 10000-20000 ч⁻¹: -
Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой: -
Использование гидроксида алюминия в виде гидратированного соединения: -
Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия: -
Содержание в гидратированном соединении до 10% гиббсита: -
Размол гидроксида алюминия до частиц размером менее 20 мкм: -
Количество частиц размером менее 20 мкм после размола более 70%: -
Смешивание размолотого гидроксида алюминия с водой: -
Проведение смешивания в присутствии азотной кислоты: -
Проведение пластификации полученной смеси: -
Формование гранул из пластифицированного продукта: -
Формование гранул в слое керосина: -
Формование гранул в водном растворе аммиака: -
Сушка полученных гранул: -
Прокаливание полученных гранул: -
Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л: -
Промывка гранул после прокаливания водой: -
Значение pH воды для промывки от 6 до 9: -
Время промывки 15 минут: -
Проведение термообработки промытых гранул: -
Температура термообработки 250 °C: -
Каталитический реактор трубчатого типа: -
Проведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C: -
Реактор содержит корпус: -
Реактор содержит трубные решетки: -
Реактор содержит устройства для ввода реагентов: -
Реактор содержит устройства для вывода реагентов: -
Реактор содержит устройства для ввода хладагентов: -
Реактор содержит устройства для вывода хладагентов: -
Реактор содержит каталитически активные теплообменные трубки: -
Соединение каталитически активных теплообменных трубок с трубными решетки: -
Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки: -
Нанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок: -
Слой каталитически активного армированного порометаллического материала образован плоскими лентами: -
Слой каталитически активного армированного порометаллического материала образован гофрированными лентами: -
Создание бидисперсной структуры нанесенного на поверхность трубки слоя: -
Толщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм: -
Равномерное нанесение слоя катализатора по длине трубки: -
Неравномерное нанесение слоя катализатора по длине трубки: -
Способ осуществления сильно экзотермических реакций: -
Подача реагирующей смеси стехиометрического состава в межтрубное пространство: -
Подача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство: -
Образование межтрубного пространства каталитически активными теплообменными трубками: -
Подача хладоагента внутрь каталитически активных теплообменных трубок: -
Способ получения пористого железо-калиевооксидного композита: -
Приготовление шихты: -
Шихта содержит кристаллогидрат нитрата железа: -
Шихта содержит кристаллогидрат нитрата церия: -
Шихта содержит нитрат калия: -
Шихта содержит оксид молибдена: -
Шихта содержит оксид титана: -
Шихта содержит карбонат кальция: -
Шихта содержит тетраэтоксисилан: -
Компоненты шихты взяты в стехиометрическом соотношении: -
Импрегнирование в шихту выгорающей микродобавки: -
Импрегнирование продуктами гидролиза солей: -
Получение продуктов гидролиза солей способом соосаждения: -
Получение продуктов гидролиза солей способом золь-гель: -
Использование диоксанлигнина березы в качестве выгорающей микродобавки: -
Количество выгорающей микродобавки 0,125-0,250 мас.%: -
Формование образцов композита методом полусухого прессования: -
Проведение обжига: -
Обжиг в интервале температур 20-700°С: -
Скорость нагрева при обжиге 10°/мин: -
Изотермическая выдержка при обжиге в течение 3 часов: -
Формирование бидисперсной структуры в композите: -
Пористый железо-калиевооксидный композит: -
Композит содержит фазу оксида железа α-Fe2O3: -
Композит содержит фазу оксида церия CeO2: -
Композит содержит фазу молибдата калия K2MoO4: -
Композит содержит фазу феррита калия состава KFeO2: -
Композит содержит фазу феррита калия состава KFe11O17: -
Композит имеет бидисперсную структуру: -
Общий объем пор композита от 0,006 до 0,013 см3/г: -
Диаметр мезопор композита от 16 до 40 нм: -
Диаметр макропор композита от 75 до 130 нм: -
Удельная поверхность композита от 2 до 5 м2/г: -
Способ получения пористых порошковых материалов: -
Нанесение на частицы порообразователя связующего: -
Смешивание частиц порообразователя со связующим с порошком: -
Формование шихты: -
Спекание шихты: -
Использование металлического порошка при смешивании: -
Использование керамического порошка при смешивании: -
Нанесение на частицы порообразователя не менее двух слоев керамического порошка: -
Нанесение на частицы порообразователя не более пяти слоев керамического порошка: -
Нанесение органического связющего при нанесении первого слоя керамического порошка: -
Использование неорганического связующего при нанесении второго слоя керамического порошка: -
Использование неорганического связующего при нанесении последующих слоев керамического порошка: -
Использование гранул пенополистирола в качестве частиц порообразователя: -
Использование частиц порообразователя с размером в диапазоне 0,5-1 мм: -
Использование водно-дисперсионного полиуретанового лака в качестве органического связующего: -
Использование водного раствора силиката натрия в качестве неорганического связующего: -
Способ соединения крупногабаритных порошковых деталей: -
Приготовление шихты на основе железа: -
Прессование деталей: -
Нанесение на соединяемые поверхности слоя шликера на основе порошка железа: -
Сборка деталей: -
Размещение пропитывающих брикетов на основе меди: -
Проведение спекания с одновременной инфильтрацией: -
Приготовление шликера из бидисперсных порошков: -
Расположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями: -
Нанесение слоя шликера на поверхность соединяемых деталей: -
Нанесение слоя шликера на поверхность непроницаемой перегородки: -
Размещение пропитывающих брикетов сверху сборки: -
Размещение пропитывающих брикетов снизу сборки: -
2025-10-04 11:21:38,288 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-04 11:21:38,289 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'completed', 'message': 'Способ получения бидисперсных порошковых смесей: +\nПолучение смесей из порошков существенно разных размеров: +\nИспользование метода самораспространяющегося высокотемпературного синтеза (СВС): +\nПодготовка смеси компонентов: +\nСмешение нитрата металла и топливного компонента: +\nИспользование нитрата металла в качестве окислителя: +\nИспользование топливного компонента в качестве восстановителя: +\nИспользование глицерина в качестве топливного компонента: +\nИспользование тиомочевины в качестве топливного компонента: +\nИспользование этиленгликоля в качестве топливного компонента: +\nПропитка предварительно приготовленного порошка микронных размеров подготовленной смесью: +\nИспользование порошка микронных размеров на основе оксидов: +\nРавномерное распределение реагентов на поверхности частиц порошка: +\nФормирование однородной бидисперсной смеси: +\nУдаление воды из раствора выпариванием: +\nУдаление воды из раствора сушкой: +\nОбразование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка: +\nНагревание сухой смеси до определенной температуры: +\nИнициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом: +\nЭкзотермический характер окислительно-восстановительной реакции: +\nСамораспространяющийся характер процесса горения: +\nПоддержание процесса горения за счет выделяемой энергии: +\nОбразование продукта в виде нанопорошка оксида металла: +\nФормирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ): +\nПолучение бидисперсной системы, состоящей из микропорошка и нанопорошка: +\nБолее равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением: +\nСпособ получения смесевого твердого топлива с металлическим горючим: -\nМеханическое перемешивание компонентов: -\nИспользование металлического горючего в виде бидисперсной смеси порошков: -\nИспользование порошка алюминия микронных размеров: -\nИспользование нанопорошка алюминия: -\nСоотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%: -\nПеремешивание бидисперсной смеси до осредненного состояния: -\nВведение бидисперсной смеси в количестве 10-25 мас.%: -\nВведение бидисперсной смеси в полностью перемешанную смесь других компонентов: -\nДополнительное перемешивание полученной массы в течение не менее 30 мин: -\nВакуумирование полученной массы в течение не менее 30 мин: -\nИспользование перхлората аммония в качестве окислителя: -\nИспользование нитрата аммония в качестве окислителя: -\nИспользование смешанного окислителя, включающего нитрат аммония и нитрамин: -\nИспользование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего: -\nИспользование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего: -\nСпособ получения порошковой смеси бидисперсных керамических и металлических частиц: -\nПеремешивание порошков в жидкой среде: -\nДвухэтапное перемешивание: -\nИспользование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды: -\nМассовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1: -\nПеремешивание керамических наночастиц в жидкой среде на первом этапе: -\nДлительность перемешивания на первом этапе не менее 15 минут: -\nДобавление металлических микрочастиц на втором этапе: -\nПеремешивание полученной смеси на втором этапе: -\nДлительность перемешивания на втором этапе не менее 15 минут: -\nУдаление жидкости после перемешивания: -\nУдаление жидкости в сушильном шкафу: -\nТемпература удаления жидкости не менее 80°C: -\nДлительность удаления жидкости не менее 24 часов: -\nИспользование керамических наночастиц: -\nДиаметр керамических наночастиц от 30 до 140 нм: -\nИспользование металлических микрочастиц: -\nДиаметр металлических микрочастиц от 20 до 180 мкм: -\nМассовое соотношение порошков и жидкости 1/2: -\nМассовое соотношение наночастиц и микрочастиц 1/19: -\nСпособ получения дифениламина: -\nТермическая обработка анилина: -\nПроведение термической обработки в присутствии катализатора: -\nИспользование алюмооксидного катализатора: -\nКатализатор кислого характера: -\nПолучение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде: -\nИспользование азотной кислоты при получении катализатора: -\nПластификация катализатора: -\nФормование катализатора: -\nСушка катализатора: -\nПрокаливание катализатора при повышенной температуре: -\nКатализатор с бидисперсной пористой структурой: -\nСуммарный объем пор катализатора равен или более 0,45 см³/г: -\nОбъем пор катализатора с радиусом более равен или более 0,27 см³/г: -\nУдельная поверхность катализатора не менее 200 м²/г: -\nПолучение катализатора из термо- или термомеханохимически активированного гидроксида алюминия: -\nСмешивание активированного гидроксида алюминия с ортофосфорной кислотой: -\nПроведение пластификации при кислотном модуле 0,02 - 0,07: -\nПровяливание катализатора на воздухе не менее 12 часов перед сушкой: -\nСушка катализатора при 100 °C не менее 12 часов после провяливания: -\nПрокаливание катализатора при 500 °C после сушки: -\nГранулированный наноструктурированный алюмооксидный катализатор: -\nСодержание натрия в катализаторе от 0,005 до 0,02 мас.%: -\nСодержание серы в катализатора от 0 до 5 мас.%: -\nСодержание фосфорa в катализаторе от 0 до 2,8 мас.%: -\nСодержание хлора в катализаторе от 0 до 2,6 мас.%: -\nБидисперсная пористая структура катализатора: -\nОбъем микропор катализатора от 0,06 до 0,18 см³/г: -\nОбъем мезопор катализатора от 0,2 до 0,32 см³/г: -\nСуммарный объем пор катализатора от 0,25 до 0,55 см³/г: -\nСредний диаметр пор катализатора от 3 до 5,5 нм: -\nУдельная поверхность катализатора от 200 до 350 м²/г: -\nОксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы: -\nСуммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%: -\nСодержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%: -\nФорма гранул катализатора - цилиндр диаметром 3-5 мм: -\nФорма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм: -\nСпособ приготовления катализатора, включающий термическую активацию гидраргиллита: -\nГидратация продуктов термической активации гидраргиллита в кислом растворе: -\nОтмывка продуктов гидратации от примесных ионов: -\nВведение модифицирующих добавок на стадии пластификации: -\nФормование в гранулы методом экструзии: -\nПроведение термической обработки сформированных гранул: -\nОтмывка продуктов гидратации дистиллированной водой: -\nОтмывка продуктов гидратации слабыми растворами серной кислоты: -\nОтмывка продуктов гидратации слабыми растворами азотной кислоты: -\nИспользование растворов серной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов соляной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов ортофосфорной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов азотной кислоты для пластификации гидроксида алюминия: -\nМодифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃: -\nМодифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃: -\nМодифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃: -\nМодифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃: -\nИспользование продукта центробежной термической активации гидраргиллита: -\nИспользование термоактивированного гидроксида алюминия: -\nПроведение термической обработки гранул гидроксида алюминия при температуре 500-550°С: -\nСпособ получения этилена путем дегидратации этанола: -\nПропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора: -\nПроведение процесса получения этилена при температуре 350-450°С: -\nПроведение процесса получения этилена при времени контакта 0.2-4.0 с: -\nКатализатор для очистки олефинов от примесей полиненасыщенных углеводородов: -\nСодержание палладия в катализаторе 0,01÷1,0 мас.%: -\nРазмер частиц палладия от 1,5 до 20 нм: -\nНанесение активного компонента (палладия) на бидисперсный силикагель: -\nСодержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%: -\nУдельная поверхность бидисперсного силикагеля 150÷350 м²/г: -\nОбщий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г: -\nОтсутствие микропор в бидисперсном силикагеле: -\nОбъем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г: -\nОбъем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г: -\nСпособ приготовления палладиевого катализатора: -\nИспользование предварительно высушенного носителя: -\nПропитка носителя водным раствором стабилизированного нитрата палладия: -\nПропитка носителя раствором стабилизированного нитрата палладия при определенных рН: -\nСушка катализатора после пропитки: -\nПрокаливание катализатора на воздухе после сушки: -\nВосстановление катализатора в потоке водородсодержащего газа после прокаливания: -\nДобавление лимонной кислоты в пропиточные растворы: -\nПредотвращение агломерации палладийсодержащих частиц на поверхности носителя: -\nРегулирование рН пропиточных растворов без введения катионов щелочных металлов: -\nРегулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида: -\nСпособ очистки олефинов от примесей полиненасыщенных углеводородов: -\nОчистка путем каталитического гидрирования: -\nГидрирование при повышенных температурах: -\nГидрирование при атмосферном давлении: -\nГидрирование при температуре 50-200°С: -\nГидрирование при объемной скорости 10000-20000 ч⁻¹: -\nСпособ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой: -\nИспользование гидроксида алюминия в виде гидратированного соединения: -\nСодержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия: -\nСодержание в гидратированном соединении до 10% гиббсита: -\nРазмол гидроксида алюминия до частиц размером менее 20 мкм: -\nКоличество частиц размером менее 20 мкм после размола более 70%: -\nСмешивание размолотого гидроксида алюминия с водой: -\nПроведение смешивания в присутствии азотной кислоты: -\nПроведение пластификации полученной смеси: -\nФормование гранул из пластифицированного продукта: -\nФормование гранул в слое керосина: -\nФормование гранул в водном растворе аммиака: -\nСушка полученных гранул: -\nПрокаливание полученных гранул: -\nСмешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л: -\nПромывка гранул после прокаливания водой: -\nЗначение pH воды для промывки от 6 до 9: -\nВремя промывки 15 минут: -\nПроведение термообработки промытых гранул: -\nТемпература термообработки 250 °C: -\nКаталитический реактор трубчатого типа: -\nПроведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C: -\nРеактор содержит корпус: -\nРеактор содержит трубные решетки: -\nРеактор содержит устройства для ввода реагентов: -\nРеактор содержит устройства для вывода реагентов: -\nРеактор содержит устройства для ввода хладагентов: -\nРеактор содержит устройства для вывода хладагентов: -\nРеактор содержит каталитически активные теплообменные трубки: -\nСоединение каталитически активных теплообменных трубок с трубными решетки: -\nКаталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки: -\nНанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок: -\nСлой каталитически активного армированного порометаллического материала образован плоскими лентами: -\nСлой каталитически активного армированного порометаллического материала образован гофрированными лентами: -\nСоздание бидисперсной структуры нанесенного на поверхность трубки слоя: -\nТолщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм: -\nРавномерное нанесение слоя катализатора по длине трубки: -\nНеравномерное нанесение слоя катализатора по длине трубки: -\nСпособ осуществления сильно экзотермических реакций: -\nПодача реагирующей смеси стехиометрического состава в межтрубное пространство: -\nПодача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство: -\nОбразование межтрубного пространства каталитически активными теплообменными трубками: -\nПодача хладоагента внутрь каталитически активных теплообменных трубок: -\nСпособ получения пористого железо-калиевооксидного композита: -\nПриготовление шихты: -\nШихта содержит кристаллогидрат нитрата железа: -\nШихта содержит кристаллогидрат нитрата церия: -\nШихта содержит нитрат калия: -\nШихта содержит оксид молибдена: -\nШихта содержит оксид титана: -\nШихта содержит карбонат кальция: -\nШихта содержит тетраэтоксисилан: -\nКомпоненты шихты взяты в стехиометрическом соотношении: -\nИмпрегнирование в шихту выгорающей микродобавки: -\nИмпрегнирование продуктами гидролиза солей: -\nПолучение продуктов гидролиза солей способом соосаждения: -\nПолучение продуктов гидролиза солей способом золь-гель: -\nИспользование диоксанлигнина березы в качестве выгорающей микродобавки: -\nКоличество выгорающей микродобавки 0,125-0,250 мас.%: -\nФормование образцов композита методом полусухого прессования: -\nПроведение обжига: -\nОбжиг в интервале температур 20-700°С: -\nСкорость нагрева при обжиге 10°/мин: -\nИзотермическая выдержка при обжиге в течение 3 часов: -\nФормирование бидисперсной структуры в композите: -\nПористый железо-калиевооксидный композит: -\nКомпозит содержит фазу оксида железа α-Fe2O3: -\nКомпозит содержит фазу оксида церия CeO2: -\nКомпозит содержит фазу молибдата калия K2MoO4: -\nКомпозит содержит фазу феррита калия состава KFeO2: -\nКомпозит содержит фазу феррита калия состава KFe11O17: -\nКомпозит имеет бидисперсную структуру: -\nОбщий объем пор композита от 0,006 до 0,013 см3/г: -\nДиаметр мезопор композита от 16 до 40 нм: -\nДиаметр макропор композита от 75 до 130 нм: -\nУдельная поверхность композита от 2 до 5 м2/г: -\nСпособ получения пористых порошковых материалов: -\nНанесение на частицы порообразователя связующего: -\nСмешивание частиц порообразователя со связующим с порошком: -\nФормование шихты: -\nСпекание шихты: -\nИспользование металлического порошка при смешивании: -\nИспользование керамического порошка при смешивании: -\nНанесение на частицы порообразователя не менее двух слоев керамического порошка: -\nНанесение на частицы порообразователя не более пяти слоев керамического порошка: -\nНанесение органического связющего при нанесении первого слоя керамического порошка: -\nИспользование неорганического связующего при нанесении второго слоя керамического порошка: -\nИспользование неорганического связующего при нанесении последующих слоев керамического порошка: -\nИспользование гранул пенополистирола в качестве частиц порообразователя: -\nИспользование частиц порообразователя с размером в диапазоне 0,5-1 мм: -\nИспользование водно-дисперсионного полиуретанового лака в качестве органического связующего: -\nИспользование водного раствора силиката натрия в качестве неорганического связующего: -\nСпособ соединения крупногабаритных порошковых деталей: -\nПриготовление шихты на основе железа: -\nПрессование деталей: -\nНанесение на соединяемые поверхности слоя шликера на основе порошка железа: -\nСборка деталей: -\nРазмещение пропитывающих брикетов на основе меди: -\nПроведение спекания с одновременной инфильтрацией: -\nПриготовление шликера из бидисперсных порошков: -\nРасположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями: -\nНанесение слоя шликера на поверхность соединяемых деталей: -\nНанесение слоя шликера на поверхность непроницаемой перегородки: -\nРазмещение пропитывающих брикетов сверху сборки: -\nРазмещение пропитывающих брикетов снизу сборки: -', 'stage': 'completed'}
2025-10-04 11:21:38,297 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000027B7810D1D0>, 1830913972
2025-10-04 11:21:38,325 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972 disconnected
2025-10-04 11:21:38,326 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-04 11:21:38,326 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972 cleanup completed
2025-10-04 13:13:49,837 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-04 13:13:49,839 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-04 13:13:49,841 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-04 13:13:49,841 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-04 13:13:49,842 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-04 13:13:49,842 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-04 13:13:49,842 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-04 13:13:49,843 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000027B7809E520>
2025-10-04 13:13:49,843 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-04 13:13:49,843 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000027B7809E520>
2025-10-04 13:13:49,844 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-04 13:13:49,844 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-04 13:13:49,844 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000027B7809E520>
2025-10-04 13:13:49,844 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-04 13:13:49,845 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-04 13:13:49,846 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: e12b...
2025-10-04 13:13:49,847 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-04 13:13:49,847 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-04 13:13:49,848 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-04 13:13:49,848 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-04 13:13:49,848 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-04 13:13:49,848 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-04 13:13:49,848 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-04 13:13:49,848 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-04 13:13:49,848 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-04 13:13:49,849 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-04 13:13:49,849 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 1
2025-10-04 13:13:49,849 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-04 13:13:49,849 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-04 13:13:49,849 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-04 13:13:49,850 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 2
2025-10-04 13:13:49,850 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-04 13:13:49,850 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-04 13:13:49,850 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-04 13:13:49,850 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 3
2025-10-04 13:13:49,850 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-04 13:13:49,851 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-04 13:13:49,852 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-04 13:13:49,852 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 4
2025-10-04 13:13:49,857 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972
2025-10-04 13:13:49,857 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972 создан новый список соединений
2025-10-04 13:13:49,858 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972: 1
2025-10-04 13:13:49,858 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972 содержит 4 сообщений
2025-10-04 13:13:49,858 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-04 13:13:49,858 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972: 1 соединений
2025-10-04 13:13:49,859 - core.connection_manager - DEBUG - [connection_manager.py:187 - print_active_connections()] - 📦 Буферизованные сообщения:
2025-10-04 13:13:49,859 - core.connection_manager - DEBUG - [connection_manager.py:189 - print_active_connections()] -   1830913972: 4 сообщений
2025-10-04 13:13:49,859 - core.connection_manager - DEBUG - [connection_manager.py:190 - print_active_connections()] - buffer: deque([<core.connection_manager.BufferedMessage object at 0x0000027B7809F6F0>, <core.connection_manager.BufferedMessage object at 0x0000027B78119130>, <core.connection_manager.BufferedMessage object at 0x0000027B780D9D00>, <core.connection_manager.BufferedMessage object at 0x0000027B780D9F20>], maxlen=50)
2025-10-04 13:13:49,859 - core.connection_manager - DEBUG - [connection_manager.py:130 - _flush_buffer()] - Flushing buffer for 1830913972 (4 messages)
2025-10-04 13:13:49,859 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-04 13:13:49,861 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000027B78354510>, 1830913972
2025-10-04 13:13:49,861 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-04 13:13:49,861 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000027B78354510>, 1830913972
2025-10-04 13:13:49,861 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-04 13:13:49,861 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000027B78354510>, 1830913972
2025-10-04 13:13:49,862 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-04 13:13:49,862 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000027B78354510>, 1830913972
2025-10-04 13:13:49,862 - core.connection_manager - DEBUG - [connection_manager.py:150 - _flush_buffer()] - Flushed 4 messages for 1830913972
2025-10-04 13:13:49,862 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972 содержит 0 сообщений
2025-10-04 13:13:49,863 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972
2025-10-04 13:13:49,863 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972 connected successfully
2025-10-04 13:15:51,618 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Способ получения бидисперсных порошковых смесей *_* Способ получения бидисперсных порошковых смесей. *_* -
2. Получение смесей из порошков существенно разных размеров *_* Получение смесей, состоящих из порошков существенно разных размеров. *_* -
3. Использование метода самораспространяющегося высокотемпературного синтеза (СВС) *_* Использование метода СВС (самораспространяющегося высокотемпературного синтеза). *_* -
4. Подготовка смеси компонентов *_* Подготовка смеси компонентов на первом этапе. *_* -
5. Смешение нитрата металла и топливного компонента *_* Смешение нитрата металла и топливного компонента. *_* -
6. Использование нитрата металла в качестве окислителя *_* Использование нитрата металла в качестве окислителя. *_* -
7. Использование топливного компонента в качестве восстановителя *_* Использование топливного компонента в качестве восстановителя. *_* -
8. Использование глицерина в качестве топливного компонента *_* Использование глицерина в качестве топливного компонента. *_* -
9. Использование тиомочевины в качестве топливного компонента *_* Использование тиомочевины в качестве топливного компонента. *_* -
10. Использование этиленгликоля в качестве топливного компонента *_* Использование этиленгликоля в качестве топливного компонента. *_* -
11. Пропитка предварительно приготовленного порошка микронных размеров подготовленной смесью *_* Осуществление пропитки подготовленной смесью предварительно приготовленного порошка микронных размеров. *_* -
12. Использование порошка микронных размеров на основе оксидов *_* Использование порошка микронных размеров на основе оксидов. *_* -
13. Равномерное распределение реагентов на поверхности частиц порошка *_* Равномерное распределение реагентов на поверхности частиц порошка. *_* -
14. Формирование однородной бидисперсной смеси *_* Формирование однородной бидисперсной смеси. *_* -
15. Удаление воды из раствора выпариванием *_* Удаление воды из раствора путем выпаривания. *_* -
16. Удаление воды из раствора сушкой *_* Удаление воды из раствора путем сушки. *_* -
17. Образование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка *_* Образование сухой смеси. *_* -
18. Нагревание сухой смеси до определенной температуры *_* Нагревание сухой смеси до определенной температуры. *_* -
19. Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом *_* Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом. *_* -
20. Экзотермический характер окислительно-восстановительной реакции *_* Экзотермический характер окислительно-восстановительной реакции. *_* -
21. Самораспространяющийся характер процесса горения *_* Самораспространяющийся характер процесса горения. *_* -
22. Поддержание процесса горения за счет выделяемой энергии *_* - *_* -
23. Образование продукта в виде нанопорошка оксида металла *_* Образование продукта в виде нанопорошка оксида металла. *_* -
24. Формирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ) *_* Формирование нанопорошка на поверхности исходных микронных частиц (in situ). *_* -
25. Получение бидисперсной системы, состоящей из микропорошка и нанопорошка *_* Получение бидисперсных систем. *_* -
26. Более равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением *_* Равномерное распределение частиц нанопорошка по всему объему микропорошка. *_* -
27. Способ получения смесевого твердого топлива с металлическим горючим *_* - *_* -
28. Механическое перемешивание компонентов *_* - *_* -
29. Использование металлического горючего в виде бидисперсной смеси порошков *_* - *_* -
30. Использование порошка алюминия микронных размеров *_* - *_* -
31. Использование нанопорошка алюминия *_* - *_* -
32. Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.% *_* - *_* -
33. Перемешивание бидисперсной смеси до осредненного состояния *_* - *_* -
34. Введение бидисперсной смеси в количестве 10-25 мас.% *_* - *_* -
35. Введение бидисперсной смеси в полностью перемешанную смесь других компонентов *_* - *_* -
36. Дополнительное перемешивание полученной массы в течение не менее 30 мин *_* - *_* -
37. Вакуумирование полученной массы в течение не менее 30 мин *_* - *_* -
38. Использование перхлората аммония в качестве окислителя *_* - *_* -
39. Использование нитрата аммония в качестве окислителя *_* - *_* -
40. Использование смешанного окислителя, включающего нитрат аммония и нитрамин *_* - *_* -
41. Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего *_* - *_* -
42. Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего *_* - *_* -
43. Способ получения порошковой смеси бидисперсных керамических и металлических частиц *_* - *_* -
44. Перемешивание порошков в жидкой среде *_* - *_* -
45. Двухэтапное перемешивание *_* - *_* -
46. Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды *_* - *_* -
47. Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1 *_* - *_* -
48. Перемешивание керамических наночастиц в жидкой среде на первом этапе *_* - *_* -
49. Длительность перемешивания на первом этапе не менее 15 минут *_* - *_* -
50. Добавление металлических микрочастиц на втором этапе *_* - *_* -
51. Перемешивание полученной смеси на втором этапе *_* - *_* -
52. Длительность перемешивания на втором этапе не менее 15 минут *_* - *_* -
53. Удаление жидкости после перемешивания *_* - *_* -
54. Удаление жидкости в сушильном шкафу *_* - *_* -
55. Температура удаления жидкости не менее 80°C *_* - *_* -
56. Длительность удаления жидкости не менее 24 часов *_* - *_* -
57. Использование керамических наночастиц *_* - *_* -
58. Диаметр керамических наночастиц от 30 до 140 нм *_* - *_* -
59. Использование металлических микрочастиц *_* - *_* -
60. Диаметр металлических микрочастиц от 20 до 180 мкм *_* - *_* -
61. Массовое соотношение порошков и жидкости 1/2 *_* - *_* -
62. Массовое соотношение наночастиц и микрочастиц 1/19 *_* - *_* -
63. Способ получения дифениламина *_* - *_* -
64. Термическая обработка анилина *_* - *_* -
65. Проведение термической обработки в присутствии катализатора *_* - *_* -
66. Использование алюмооксидного катализатора *_* - *_* -
67. Катализатор кислого характера *_* - *_* -
68. Получение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде *_* - *_* -
69. Использование азотной кислоты при получении катализатора *_* - *_* -
70. Пластификация катализатора *_* - *_* -
71. Формование катализатора *_* - *_* -
72. Сушка катализатора *_* - *_* -
73. Прокаливание катализатора при повышенной температуре *_* - *_* -
74. Катализатор с бидисперсной пористой структурой *_* - *_* -
75. Суммарный объем пор катализатора равен или более 0,45 см³/г *_* - *_* -
76. Объем пор катализатора с радиусом более равен или более 0,27 см³/г *_* - *_* -
77. Удельная поверхность катализатора не менее 200 м²/г *_* - *_* -
78. Получение катализатора из термо- или термомеханохимически активированного гидроксида алюминия *_* - *_* -
79. Смешивание активированного гидроксида алюминия с ортофосфорной кислотой *_* - *_* -
80. Проведение пластификации при кислотном модуле 0,02 - 0,07 *_* - *_* -
81. Провяливание катализатора на воздухе не менее 12 часов перед сушкой *_* - *_* -
82. Сушка катализатора при 100 °C не менее 12 часов после провяливания *_* - *_* -
83. Прокаливание катализатора при 500 °C после сушки *_* - *_* -
84. Гранулированный наноструктурированный алюмооксидный катализатор *_* - *_* -
85. Содержание натрия в катализаторе от 0,005 до 0,02 мас.% *_* - *_* -
86. Содержание серы в катализатора от 0 до 5 мас.% *_* - *_* -
87. Содержание фосфор
2025-10-04 13:15:51,622 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-04 13:15:51,622 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'completed', 'message': '1. Способ получения бидисперсных порошковых смесей *_* Способ получения бидисперсных порошковых смесей. *_* -\n2. Получение смесей из порошков существенно разных размеров *_* Получение смесей, состоящих из порошков существенно разных размеров. *_* -\n3. Использование метода самораспространяющегося высокотемпературного синтеза (СВС) *_* Использование метода СВС (самораспространяющегося высокотемпературного синтеза). *_* -\n4. Подготовка смеси компонентов *_* Подготовка смеси компонентов на первом этапе. *_* -\n5. Смешение нитрата металла и топливного компонента *_* Смешение нитрата металла и топливного компонента. *_* -\n6. Использование нитрата металла в качестве окислителя *_* Использование нитрата металла в качестве окислителя. *_* -\n7. Использование топливного компонента в качестве восстановителя *_* Использование топливного компонента в качестве восстановителя. *_* -\n8. Использование глицерина в качестве топливного компонента *_* Использование глицерина в качестве топливного компонента. *_* -\n9. Использование тиомочевины в качестве топливного компонента *_* Использование тиомочевины в качестве топливного компонента. *_* -\n10. Использование этиленгликоля в качестве топливного компонента *_* Использование этиленгликоля в качестве топливного компонента. *_* -\n11. Пропитка предварительно приготовленного порошка микронных размеров подготовленной смесью *_* Осуществление пропитки подготовленной смесью предварительно приготовленного порошка микронных размеров. *_* -\n12. Использование порошка микронных размеров на основе оксидов *_* Использование порошка микронных размеров на основе оксидов. *_* -\n13. Равномерное распределение реагентов на поверхности частиц порошка *_* Равномерное распределение реагентов на поверхности частиц порошка. *_* -\n14. Формирование однородной бидисперсной смеси *_* Формирование однородной бидисперсной смеси. *_* -\n15. Удаление воды из раствора выпариванием *_* Удаление воды из раствора путем выпаривания. *_* -\n16. Удаление воды из раствора сушкой *_* Удаление воды из раствора путем сушки. *_* -\n17. Образование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка *_* Образование сухой смеси. *_* -\n18. Нагревание сухой смеси до определенной температуры *_* Нагревание сухой смеси до определенной температуры. *_* -\n19. Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом *_* Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом. *_* -\n20. Экзотермический характер окислительно-восстановительной реакции *_* Экзотермический характер окислительно-восстановительной реакции. *_* -\n21. Самораспространяющийся характер процесса горения *_* Самораспространяющийся характер процесса горения. *_* -\n22. Поддержание процесса горения за счет выделяемой энергии *_* - *_* -\n23. Образование продукта в виде нанопорошка оксида металла *_* Образование продукта в виде нанопорошка оксида металла. *_* -\n24. Формирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ) *_* Формирование нанопорошка на поверхности исходных микронных частиц (in situ). *_* -\n25. Получение бидисперсной системы, состоящей из микропорошка и нанопорошка *_* Получение бидисперсных систем. *_* -\n26. Более равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением *_* Равномерное распределение частиц нанопорошка по всему объему микропорошка. *_* -\n27. Способ получения смесевого твердого топлива с металлическим горючим *_* - *_* -\n28. Механическое перемешивание компонентов *_* - *_* -\n29. Использование металлического горючего в виде бидисперсной смеси порошков *_* - *_* -\n30. Использование порошка алюминия микронных размеров *_* - *_* -\n31. Использование нанопорошка алюминия *_* - *_* -\n32. Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.% *_* - *_* -\n33. Перемешивание бидисперсной смеси до осредненного состояния *_* - *_* -\n34. Введение бидисперсной смеси в количестве 10-25 мас.% *_* - *_* -\n35. Введение бидисперсной смеси в полностью перемешанную смесь других компонентов *_* - *_* -\n36. Дополнительное перемешивание полученной массы в течение не менее 30 мин *_* - *_* -\n37. Вакуумирование полученной массы в течение не менее 30 мин *_* - *_* -\n38. Использование перхлората аммония в качестве окислителя *_* - *_* -\n39. Использование нитрата аммония в качестве окислителя *_* - *_* -\n40. Использование смешанного окислителя, включающего нитрат аммония и нитрамин *_* - *_* -\n41. Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего *_* - *_* -\n42. Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего *_* - *_* -\n43. Способ получения порошковой смеси бидисперсных керамических и металлических частиц *_* - *_* -\n44. Перемешивание порошков в жидкой среде *_* - *_* -\n45. Двухэтапное перемешивание *_* - *_* -\n46. Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды *_* - *_* -\n47. Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1 *_* - *_* -\n48. Перемешивание керамических наночастиц в жидкой среде на первом этапе *_* - *_* -\n49. Длительность перемешивания на первом этапе не менее 15 минут *_* - *_* -\n50. Добавление металлических микрочастиц на втором этапе *_* - *_* -\n51. Перемешивание полученной смеси на втором этапе *_* - *_* -\n52. Длительность перемешивания на втором этапе не менее 15 минут *_* - *_* -\n53. Удаление жидкости после перемешивания *_* - *_* -\n54. Удаление жидкости в сушильном шкафу *_* - *_* -\n55. Температура удаления жидкости не менее 80°C *_* - *_* -\n56. Длительность удаления жидкости не менее 24 часов *_* - *_* -\n57. Использование керамических наночастиц *_* - *_* -\n58. Диаметр керамических наночастиц от 30 до 140 нм *_* - *_* -\n59. Использование металлических микрочастиц *_* - *_* -\n60. Диаметр металлических микрочастиц от 20 до 180 мкм *_* - *_* -\n61. Массовое соотношение порошков и жидкости 1/2 *_* - *_* -\n62. Массовое соотношение наночастиц и микрочастиц 1/19 *_* - *_* -\n63. Способ получения дифениламина *_* - *_* -\n64. Термическая обработка анилина *_* - *_* -\n65. Проведение термической обработки в присутствии катализатора *_* - *_* -\n66. Использование алюмооксидного катализатора *_* - *_* -\n67. Катализатор кислого характера *_* - *_* -\n68. Получение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде *_* - *_* -\n69. Использование азотной кислоты при получении катализатора *_* - *_* -\n70. Пластификация катализатора *_* - *_* -\n71. Формование катализатора *_* - *_* -\n72. Сушка катализатора *_* - *_* -\n73. Прокаливание катализатора при повышенной температуре *_* - *_* -\n74. Катализатор с бидисперсной пористой структурой *_* - *_* -\n75. Суммарный объем пор катализатора равен или более 0,45 см³/г *_* - *_* -\n76. Объем пор катализатора с радиусом более равен или более 0,27 см³/г *_* - *_* -\n77. Удельная поверхность катализатора не менее 200 м²/г *_* - *_* -\n78. Получение катализатора из термо- или термомеханохимически активированного гидроксида алюминия *_* - *_* -\n79. Смешивание активированного гидроксида алюминия с ортофосфорной кислотой *_* - *_* -\n80. Проведение пластификации при кислотном модуле 0,02 - 0,07 *_* - *_* -\n81. Провяливание катализатора на воздухе не менее 12 часов перед сушкой *_* - *_* -\n82. Сушка катализатора при 100 °C не менее 12 часов после провяливания *_* - *_* -\n83. Прокаливание катализатора при 500 °C после сушки *_* - *_* -\n84. Гранулированный наноструктурированный алюмооксидный катализатор *_* - *_* -\n85. Содержание натрия в катализаторе от 0,005 до 0,02 мас.% *_* - *_* -\n86. Содержание серы в катализатора от 0 до 5 мас.% *_* - *_* -\n87. Содержание фосфор', 'stage': 'completed'}
2025-10-04 13:15:51,624 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000027B78354510>, 1830913972
2025-10-04 13:15:51,628 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972 disconnected
2025-10-04 13:15:51,629 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-04 13:15:51,629 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972 cleanup completed
2025-10-04 13:32:23,038 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-04 13:32:23,039 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный семантичес, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-04 13:32:23,040 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-04 13:32:23,040 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-04 13:32:23,040 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-04 13:32:23,040 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-04 13:32:23,040 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-04 13:32:23,040 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000027B780D9E10>
2025-10-04 13:32:23,041 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-04 13:32:23,041 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000027B780D9E10>
2025-10-04 13:32:23,041 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-04 13:32:23,041 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-04 13:32:23,041 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000027B780D9E10>
2025-10-04 13:32:23,041 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-04 13:32:23,042 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-04 13:32:23,042 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: e12b...
2025-10-04 13:32:23,043 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-04 13:32:23,043 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-04 13:32:23,044 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-04 13:32:23,044 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-04 13:32:23,044 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-04 13:32:23,044 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-04 13:32:23,044 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-04 13:32:23,044 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-04 13:32:23,044 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-04 13:32:23,045 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-04 13:32:23,045 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 1
2025-10-04 13:32:23,045 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-04 13:32:23,045 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-04 13:32:23,045 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-04 13:32:23,045 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 2
2025-10-04 13:32:23,045 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-04 13:32:23,045 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-04 13:32:23,046 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-04 13:32:23,046 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 3
2025-10-04 13:32:23,046 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-04 13:32:23,046 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-04 13:32:23,046 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-04 13:32:23,046 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 4
2025-10-04 13:32:23,049 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972
2025-10-04 13:32:23,049 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972 создан новый список соединений
2025-10-04 13:32:23,049 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972: 1
2025-10-04 13:32:23,050 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972 содержит 4 сообщений
2025-10-04 13:32:23,050 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-04 13:32:23,050 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972: 1 соединений
2025-10-04 13:32:23,050 - core.connection_manager - DEBUG - [connection_manager.py:187 - print_active_connections()] - 📦 Буферизованные сообщения:
2025-10-04 13:32:23,050 - core.connection_manager - DEBUG - [connection_manager.py:189 - print_active_connections()] -   1830913972: 4 сообщений
2025-10-04 13:32:23,051 - core.connection_manager - DEBUG - [connection_manager.py:190 - print_active_connections()] - buffer: deque([<core.connection_manager.BufferedMessage object at 0x0000027B78124950>, <core.connection_manager.BufferedMessage object at 0x0000027B78124A50>, <core.connection_manager.BufferedMessage object at 0x0000027B780F26C0>, <core.connection_manager.BufferedMessage object at 0x0000027B780F3110>], maxlen=50)
2025-10-04 13:32:23,051 - core.connection_manager - DEBUG - [connection_manager.py:130 - _flush_buffer()] - Flushing buffer for 1830913972 (4 messages)
2025-10-04 13:32:23,051 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-04 13:32:23,052 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000027B78119C70>, 1830913972
2025-10-04 13:32:23,052 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-04 13:32:23,052 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000027B78119C70>, 1830913972
2025-10-04 13:32:23,053 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-04 13:32:23,053 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000027B78119C70>, 1830913972
2025-10-04 13:32:23,053 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-04 13:32:23,053 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000027B78119C70>, 1830913972
2025-10-04 13:32:23,053 - core.connection_manager - DEBUG - [connection_manager.py:150 - _flush_buffer()] - Flushed 4 messages for 1830913972
2025-10-04 13:32:23,054 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972 содержит 0 сообщений
2025-10-04 13:32:23,054 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972
2025-10-04 13:32:23,054 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972 connected successfully
2025-10-04 13:34:58,242 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Способ получения смесевого твердого топлива с металлическим горючим.
2. Механическое перемешивание компонентов.
3. Использование металлического горючего.
4. Использование бидисперсной смеси порошков.
5. Использование порошка алюминия микронных размеров.
6. Использование нанопорошка алюминия.
7. Соотношение компонентов в бидисперсной смеси 40/60 мас.%.
8. Осреднение бидисперсной смеси перемешиванием.
9. Введение бидисперсной смеси в количестве 10-25 мас.%.
10. Введение бидисперсной смеси в полностью перемешанную смесь других компонентов.
11. Дополнительное перемешивание в течение не менее 30 мин.
12. Вакуумирование топливной массы в течение не менее 30 мин.
13. Использование перхлората аммония в качестве окислителя.
14. Использование нитрата аммония в качестве окислителя.
15. Использование смешанного окислителя, включающего нитрат аммония и нитрамин.
16. Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего.
17. Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего.
18. Способ получения порошковой смеси бидисперсных керамических и металлических частиц.
19. Перемешивание порошков в жидкой среде.
20. Двухэтапное перемешивание.
21. Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды.
22. Массовое соотношение компонентов жидкой среды 199/1.
23. Перемешивание керамических наночастиц в жидкой среде на первом этапе.
24. Длительность перемешивания на первом этапе не менее 15 минут.
25. Добавление металлических микрочастиц на втором этапе.
26. Перемешивание смеси на втором этапе.
27. Длительность перемешивания на втором этапе не менее 15 минут.
28. Удаление жидкости после перемешивания.
29. Удаление жидкости в сушильном шкафу.
30. Температура удаления жидкости не менее 80°C.
31. Длительность удаления жидкости не менее 24 часов.
32. Использование керамических наночастиц.
33. Диаметр керамических наночастиц от 30 до 140 нм.
34. Использование металлических микрочастиц.
35. Диаметр металлических микрочастиц от 20 до 180 мкм.
36. Соотношение массовых долей порошков и жидкости 1/2.
37. Соотношение массовых долей наночастиц и микрочастиц 1/19.
38. Способ получения дифениламина.
39. Термическая обработка анилина.
40. Проведение термической обработки в присутствии катализатора.
41. Использование алюмооксидного катализатора.
42. Катализатор кислого характера.
43. Получение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде.
44. Использование азотной кислоты при получении катализатора.
45. Пластификация катализатора.
46. Формование катализатора.
47. Сушка катализатора.
48. Прокаливание катализатора при повышенной температуре.
49. Бидисперсная пористая структура катализатора.
50. Суммарный объем пор катализатора равен или более 0,45 см³/г.
51. Объем пор катализатора с радиусом более равен или более 0,27 см³/г.
52. Удельная поверхность катализатора не менее 200 м²/г.
53. Получение катализатора из термо- или термомеханохимически активированного гидроксида алюминия.
54. Смешивание активированного гидроксида алюминия с ортофосфорной кислотой.
55. Пластификация при кислотном модуле 0,02 - 0,07.
56. Провяливание катализатора на воздухе не менее 12 часов перед сушкой.
57. Сушка катализатора при 100 °C не менее 12 часов.
58. Прокаливание катализатора при 500 °C.
59. Гранулированный наноструктурированный алюмооксидный катализатор.
60. Содержание натрия в катализаторе от 0,005 до 0,02 мас.%.
61. Содержание серы в катализаторе от 0 до 5 мас.%.
62. Содержание фосфора в катализаторе от 0 до 2,8 мас.%.
63. Содержание хлора в катализаторе от 0 до 2,6 мас.%.
64. Бидисперсная пористая структура катализатора.
65. Объем микропор катализатора от 0,06 до 0,18 см³/г.
66. Объем мезопор катализатора от 0,2 до 0,32 см³/г.
67. Суммарный объем пор катализатора от 0,25 до 0,55 см³/г.
68. Средний диаметр пор катализатора от 3 до 5,5 нм.
69. Удельная поверхность катализатора от 200 до 350 м²/г.
70. Оксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы.
71. Суммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы от 60 до 70 мас.%.
72. Содержание γ-Al₂O₃ от 30 до 40 мас.%.
73. Форма гранул катализатора - цилиндр диаметром 3-5 мм.
74. Форма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм.
75. Способ приготовления катализатора, включающий термическую активацию гидраргиллита.
76. Гидратация продуктов термической активации гидраргиллита в кислом растворе.
77. Отмывка продуктов гидратации от примесных ионов.
78. Введение модифицирующих добавок на стадии пластификации.
79. Формование гранул методом экструзии.
80. Проведение термической обработки сформированных гранул.
81. Отмывка продуктов гидратации дистиллированной водой.
82. Отмывка продуктов гидратации слабыми растворами серной кислоты.
83. Отмывка продуктов гидратации слабыми растворами азотной кислоты.
84. Использование для пластификации гидроксида алюминия растворов серной кислоты.
85. Использование для пластификации гидроксида алюминия растворов соляной кислоты.
86. Использование для пластификации гидроксида алюминия растворов ортофосфорной кислоты.
87. Использование для пластификации гидроксида алюминия растворов азотной кислоты.
88. Модифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃.
89. Модифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃.
90. Модифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃.
91. Модифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃.
92. Использование продукта центробежной термической активации гидраргиллита.
93. Использование термоактивированного гидроксида алюминия.
94. Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С.
95. Способ получения этилена путем дегидратации этанола.
96. Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора.
97. Проведение процесса получения этилена при температуре 350-450°С.
98. Проведение процесса получения этилена при времени контакта 0.2-4.0 с.
99. Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов.
100. Содержание палладия в катализаторе 0,01÷1,0 мас.%.
101. Регулируемый размер частиц активного компонента от 1,5 до 20 нм.
102. Активный компонент нанесен на бидисперсный силикагель.
103. Бидисперсный силикагель содержит щелочной металл в количестве не выше 0,01 мас.%.
104. Удельная поверхность бидисперсного силикагеля 150÷350 м²/г.
105. Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г.
106. Полное отсутствие микропор в бидисперсном силикагеле.
107. Объем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г.
108. Объем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г.
109. Способ приготовления палладиевого катализатора.
110. Использование предварительно высушенного носителя.
111. Пропитка носителя водным раствором стабилизированного нитрата палладия.
112. Пропитка носителя раствором стабилизированного нитрата палладия при определенных рН.
113. Сушка катализатора после пропитки.
114. Прокаливание катализатора на воздухе после сушки.
115. Восстановление катализатора в потоке водородсодержащего газа после прокаливания.
116. Добавление в пропиточные растворы лимонной кислоты.
117. Предотвращение агломерации палладийсодержащих частиц на поверхности носителя.
118. Регулирование рН пропиточных растворов без введения катионов щелочных металлов.
119. Регулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида.
120. Способ очистки олефинов от примесей полиненасыщенных углеводородов.
121. Очистка путем каталитического гидрирования.
122. Гидрирование при повышенных температурах.
123. Гидрирование при атмосферном давлении.
124. Гидрирование при температуре 50-200°С.
125. Гидрирование при объемной скорости 10000-20000 ч⁻¹.
126. Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой.
127. Использование гидроксида алюминия в виде гидратированного соединения.
128. Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия.
129. Содержание в гидратированном соединении до 10% гиббсита.
130. Размол гидроксида алюминия до частиц размером менее 20 мкм.
131. Количество частиц размером менее 20 мкм после размола более 70%.
132. Смешивание размолотого гидроксида алюминия с водой.
133. Проведение смешивания в присутствии азотной кислоты.
134. Пластификация полученной смеси.
135. Формование гранул из пластифицированного продукта.
136. Формование гранул в слое керосина.
137. Формование гранул в водном растворе аммиака.
138. Сушка полученных гранул.
139. Прокаливание полученных гранул.
140. Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л.
141. Промывка гранул после прокаливания водой.
142. Значение pH воды для промывки от 6 до 9.
143. Время промывки 15 минут.
144. Термообработка промытых гранул.
145. Температура термообработки 250 °C.
146. Каталитический реактор трубчатого типа.
147. Проведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C.
148. Реактор содержит корпус.
149. Реактор содержит трубные решетки.
150. Реактор содержит устройства для ввода реагентов.
151. Реактор содержит устройства для вывода реагентов.
152. Реактор содержит устройства для ввода хладагентов.
153. Реактор содержит устройства для вывода хладагентов.
154. Реактор содержит каталитически активные теплообменные трубки.
155. Каталитически активные теплообменные трубки соединены с трубными решетками.
156. Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки.
157. На внешнюю поверхность металлических непроницаемых трубок нанесен слой каталитически активного армированного порометаллического материала.
158. Слой образован плоскими лентами.
159. Слой образован гофрированными лентами.
160. Плоские и гофрированные ленты создают бидисперсную структуру слоя.
161. Толщина слоя катализатора на поверхности трубки 1 - 10 мм.
162. Слой катализатора нанесен равномерно по длине трубки.
163. Слой катализатора нанесен неравномерно по длине трубки.
164. Способ осуществления сильно экзотермических реакций.
165. Подача реагирующей смеси стехиометрического состава в межтрубное пространство.
166. Подача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство.
167. Межтрубное пространство образовано каталитически активными теплообменными трубками.
168. Подача хладоагента внутрь каталитически активных теплообменных трубок.
169. Способ получения пористого железо-калиевооксидного композита.
170. Приготовление шихты.
171. Шихта содержит кристаллогидрат нитрата железа.
172. Шихта содержит кристаллогидрат нитрата церия.
173. Шихта содержит нитрат калия.
174. Шихта содержит оксид молибдена.
175. Шихта содержит оксид титана.
176. Шихта содержит карбонат кальция.
177. Шихта содержит тетраэтоксисилан.
178. Компоненты шихты взяты в стехиометрическом соотношении.
179. Импрегнирование в шихту выгорающей микродобавки.
180. Импрегнирование осуществляется продуктами гидролиза солей.
181. Получение продуктов гидролиза солей способом соосаждения.
182. Получение продуктов гидролиза солей способом золь-гель.
183. Использование диоксанлигнина березы в качестве выгорающей микродобавки.
184. Количество выгорающей микродобавки 0,125-0,250 мас.%.
185. Формование образцов композита методом полусухого прессования.
186. Проведение обжига.
187. Обжиг в интервале температур 20-700°С.
188. Скорость нагрева при обжиге 10°/мин.
189. Изотермическая выдержка при обжиге в течение 3 часов.
190. Формирование бидисперсной структуры в композите.
191. Пористый железо-калиевооксидный композит.
192. Композит содержит фазу оксида железа α-Fe2O3.
193. Композит содержит фазу оксида церия CeO2.
194. Композит содержит фазу молибдата калия K2MoO4.
195. Композит содержит фазу феррита калия состава KFeO2.
196. Композит содержит фазу феррита калия состава KFe11O17.
197. Композит имеет бидисперсную структуру.
198. Общий объем пор композита от 0,006 до 0,013 см3/г.
199. Диаметр мезопор композита от 16 до 40 нм.
200. Диаметр макропор композита от 75 до 130 нм.
201. Удельная поверхность композита от 2 до 5 м2/г.
202. Способ получения пористых порошковых материалов.
203. Нанесение на частицы порообразователя связующего.
204. Смешивание частиц порообразователя со связующим с порошком.
205. Формование шихты.
206. Спекание шихта.
207. Использование металлического порошка.
208. Использование керамического порошка.
209. Нанесение на частицы порообразователя не менее двух слоев керамического порошка.
210. Нанесение на частицы порообразователя не более пяти слоев керамического порошка.
211. Нанесение органического связующего при нанесении первого слоя керамического порошка.
212. Использование неорганического связющего при нанесении второго слоя керамического порошка.
213. Использование неорганического связующего при нанесении последующих слоев керамического порошка.
214. Использование гранул пенополистирола в качестве частиц порообразователя.
215. Использование частиц порообразователя с размером в диапазоне 0,5-1 мм.
216. Использование органического связующего в виде водно-дисперсионного полиуретанового лака.
217. Использование неорганического связующего в виде водного раствора силиката натрия.
218. Способ соединения крупногабаритных порошковых деталей.
219. Приготовление шихты на основе железа.
220. Прессование деталей.
221. Нанесение на соединяемые поверхности слоя шликера на основе порошка железа.
222. Сборка деталей.
223. Размещение пропитывающих брикетов на основе меди.
224. Проведение спекания с одновременной инфильтрацией.
225. Шликер готовят из бидисперсных порошков.
226. Расположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями.
227. Нанесение слоя шликера на поверхность соединяемых деталей.
228. Нанесение слоя шликера на поверхность непроницаемой перегородки.
229. Размещение пропитывающих брикетов сверху сборки.
230. Размещение пропитывающих брикетов снизу сборки.
2025-10-04 13:34:58,248 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-04 13:34:58,248 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'completed', 'message': '1. Способ получения смесевого твердого топлива с металлическим горючим.\n2. Механическое перемешивание компонентов.\n3. Использование металлического горючего.\n4. Использование бидисперсной смеси порошков.\n5. Использование порошка алюминия микронных размеров.\n6. Использование нанопорошка алюминия.\n7. Соотношение компонентов в бидисперсной смеси 40/60 мас.%.\n8. Осреднение бидисперсной смеси перемешиванием.\n9. Введение бидисперсной смеси в количестве 10-25 мас.%.\n10. Введение бидисперсной смеси в полностью перемешанную смесь других компонентов.\n11. Дополнительное перемешивание в течение не менее 30 мин.\n12. Вакуумирование топливной массы в течение не менее 30 мин.\n13. Использование перхлората аммония в качестве окислителя.\n14. Использование нитрата аммония в качестве окислителя.\n15. Использование смешанного окислителя, включающего нитрат аммония и нитрамин.\n16. Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего.\n17. Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего.\n18. Способ получения порошковой смеси бидисперсных керамических и металлических частиц.\n19. Перемешивание порошков в жидкой среде.\n20. Двухэтапное перемешивание.\n21. Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды.\n22. Массовое соотношение компонентов жидкой среды 199/1.\n23. Перемешивание керамических наночастиц в жидкой среде на первом этапе.\n24. Длительность перемешивания на первом этапе не менее 15 минут.\n25. Добавление металлических микрочастиц на втором этапе.\n26. Перемешивание смеси на втором этапе.\n27. Длительность перемешивания на втором этапе не менее 15 минут.\n28. Удаление жидкости после перемешивания.\n29. Удаление жидкости в сушильном шкафу.\n30. Температура удаления жидкости не менее 80°C.\n31. Длительность удаления жидкости не менее 24 часов.\n32. Использование керамических наночастиц.\n33. Диаметр керамических наночастиц от 30 до 140 нм.\n34. Использование металлических микрочастиц.\n35. Диаметр металлических микрочастиц от 20 до 180 мкм.\n36. Соотношение массовых долей порошков и жидкости 1/2.\n37. Соотношение массовых долей наночастиц и микрочастиц 1/19.\n38. Способ получения дифениламина.\n39. Термическая обработка анилина.\n40. Проведение термической обработки в присутствии катализатора.\n41. Использование алюмооксидного катализатора.\n42. Катализатор кислого характера.\n43. Получение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде.\n44. Использование азотной кислоты при получении катализатора.\n45. Пластификация катализатора.\n46. Формование катализатора.\n47. Сушка катализатора.\n48. Прокаливание катализатора при повышенной температуре.\n49. Бидисперсная пористая структура катализатора.\n50. Суммарный объем пор катализатора равен или более 0,45 см³/г.\n51. Объем пор катализатора с радиусом более равен или более 0,27 см³/г.\n52. Удельная поверхность катализатора не менее 200 м²/г.\n53. Получение катализатора из термо- или термомеханохимически активированного гидроксида алюминия.\n54. Смешивание активированного гидроксида алюминия с ортофосфорной кислотой.\n55. Пластификация при кислотном модуле 0,02 - 0,07.\n56. Провяливание катализатора на воздухе не менее 12 часов перед сушкой.\n57. Сушка катализатора при 100 °C не менее 12 часов.\n58. Прокаливание катализатора при 500 °C.\n59. Гранулированный наноструктурированный алюмооксидный катализатор.\n60. Содержание натрия в катализаторе от 0,005 до 0,02 мас.%.\n61. Содержание серы в катализаторе от 0 до 5 мас.%.\n62. Содержание фосфора в катализаторе от 0 до 2,8 мас.%.\n63. Содержание хлора в катализаторе от 0 до 2,6 мас.%.\n64. Бидисперсная пористая структура катализатора.\n65. Объем микропор катализатора от 0,06 до 0,18 см³/г.\n66. Объем мезопор катализатора от 0,2 до 0,32 см³/г.\n67. Суммарный объем пор катализатора от 0,25 до 0,55 см³/г.\n68. Средний диаметр пор катализатора от 3 до 5,5 нм.\n69. Удельная поверхность катализатора от 200 до 350 м²/г.\n70. Оксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы.\n71. Суммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы от 60 до 70 мас.%.\n72. Содержание γ-Al₂O₃ от 30 до 40 мас.%.\n73. Форма гранул катализатора - цилиндр диаметром 3-5 мм.\n74. Форма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм.\n75. Способ приготовления катализатора, включающий термическую активацию гидраргиллита.\n76. Гидратация продуктов термической активации гидраргиллита в кислом растворе.\n77. Отмывка продуктов гидратации от примесных ионов.\n78. Введение модифицирующих добавок на стадии пластификации.\n79. Формование гранул методом экструзии.\n80. Проведение термической обработки сформированных гранул.\n81. Отмывка продуктов гидратации дистиллированной водой.\n82. Отмывка продуктов гидратации слабыми растворами серной кислоты.\n83. Отмывка продуктов гидратации слабыми растворами азотной кислоты.\n84. Использование для пластификации гидроксида алюминия растворов серной кислоты.\n85. Использование для пластификации гидроксида алюминия растворов соляной кислоты.\n86. Использование для пластификации гидроксида алюминия растворов ортофосфорной кислоты.\n87. Использование для пластификации гидроксида алюминия растворов азотной кислоты.\n88. Модифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃.\n89. Модифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃.\n90. Модифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃.\n91. Модифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃.\n92. Использование продукта центробежной термической активации гидраргиллита.\n93. Использование термоактивированного гидроксида алюминия.\n94. Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С.\n95. Способ получения этилена путем дегидратации этанола.\n96. Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора.\n97. Проведение процесса получения этилена при температуре 350-450°С.\n98. Проведение процесса получения этилена при времени контакта 0.2-4.0 с.\n99. Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов.\n100. Содержание палладия в катализаторе 0,01÷1,0 мас.%.\n101. Регулируемый размер частиц активного компонента от 1,5 до 20 нм.\n102. Активный компонент нанесен на бидисперсный силикагель.\n103. Бидисперсный силикагель содержит щелочной металл в количестве не выше 0,01 мас.%.\n104. Удельная поверхность бидисперсного силикагеля 150÷350 м²/г.\n105. Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г.\n106. Полное отсутствие микропор в бидисперсном силикагеле.\n107. Объем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г.\n108. Объем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г.\n109. Способ приготовления палладиевого катализатора.\n110. Использование предварительно высушенного носителя.\n111. Пропитка носителя водным раствором стабилизированного нитрата палладия.\n112. Пропитка носителя раствором стабилизированного нитрата палладия при определенных рН.\n113. Сушка катализатора после пропитки.\n114. Прокаливание катализатора на воздухе после сушки.\n115. Восстановление катализатора в потоке водородсодержащего газа после прокаливания.\n116. Добавление в пропиточные растворы лимонной кислоты.\n117. Предотвращение агломерации палладийсодержащих частиц на поверхности носителя.\n118. Регулирование рН пропиточных растворов без введения катионов щелочных металлов.\n119. Регулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида.\n120. Способ очистки олефинов от примесей полиненасыщенных углеводородов.\n121. Очистка путем каталитического гидрирования.\n122. Гидрирование при повышенных температурах.\n123. Гидрирование при атмосферном давлении.\n124. Гидрирование при температуре 50-200°С.\n125. Гидрирование при объемной скорости 10000-20000 ч⁻¹.\n126. Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой.\n127. Использование гидроксида алюминия в виде гидратированного соединения.\n128. Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия.\n129. Содержание в гидратированном соединении до 10% гиббсита.\n130. Размол гидроксида алюминия до частиц размером менее 20 мкм.\n131. Количество частиц размером менее 20 мкм после размола более 70%.\n132. Смешивание размолотого гидроксида алюминия с водой.\n133. Проведение смешивания в присутствии азотной кислоты.\n134. Пластификация полученной смеси.\n135. Формование гранул из пластифицированного продукта.\n136. Формование гранул в слое керосина.\n137. Формование гранул в водном растворе аммиака.\n138. Сушка полученных гранул.\n139. Прокаливание полученных гранул.\n140. Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л.\n141. Промывка гранул после прокаливания водой.\n142. Значение pH воды для промывки от 6 до 9.\n143. Время промывки 15 минут.\n144. Термообработка промытых гранул.\n145. Температура термообработки 250 °C.\n146. Каталитический реактор трубчатого типа.\n147. Проведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C.\n148. Реактор содержит корпус.\n149. Реактор содержит трубные решетки.\n150. Реактор содержит устройства для ввода реагентов.\n151. Реактор содержит устройства для вывода реагентов.\n152. Реактор содержит устройства для ввода хладагентов.\n153. Реактор содержит устройства для вывода хладагентов.\n154. Реактор содержит каталитически активные теплообменные трубки.\n155. Каталитически активные теплообменные трубки соединены с трубными решетками.\n156. Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки.\n157. На внешнюю поверхность металлических непроницаемых трубок нанесен слой каталитически активного армированного порометаллического материала.\n158. Слой образован плоскими лентами.\n159. Слой образован гофрированными лентами.\n160. Плоские и гофрированные ленты создают бидисперсную структуру слоя.\n161. Толщина слоя катализатора на поверхности трубки 1 - 10 мм.\n162. Слой катализатора нанесен равномерно по длине трубки.\n163. Слой катализатора нанесен неравномерно по длине трубки.\n164. Способ осуществления сильно экзотермических реакций.\n165. Подача реагирующей смеси стехиометрического состава в межтрубное пространство.\n166. Подача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство.\n167. Межтрубное пространство образовано каталитически активными теплообменными трубками.\n168. Подача хладоагента внутрь каталитически активных теплообменных трубок.\n169. Способ получения пористого железо-калиевооксидного композита.\n170. Приготовление шихты.\n171. Шихта содержит кристаллогидрат нитрата железа.\n172. Шихта содержит кристаллогидрат нитрата церия.\n173. Шихта содержит нитрат калия.\n174. Шихта содержит оксид молибдена.\n175. Шихта содержит оксид титана.\n176. Шихта содержит карбонат кальция.\n177. Шихта содержит тетраэтоксисилан.\n178. Компоненты шихты взяты в стехиометрическом соотношении.\n179. Импрегнирование в шихту выгорающей микродобавки.\n180. Импрегнирование осуществляется продуктами гидролиза солей.\n181. Получение продуктов гидролиза солей способом соосаждения.\n182. Получение продуктов гидролиза солей способом золь-гель.\n183. Использование диоксанлигнина березы в качестве выгорающей микродобавки.\n184. Количество выгорающей микродобавки 0,125-0,250 мас.%.\n185. Формование образцов композита методом полусухого прессования.\n186. Проведение обжига.\n187. Обжиг в интервале температур 20-700°С.\n188. Скорость нагрева при обжиге 10°/мин.\n189. Изотермическая выдержка при обжиге в течение 3 часов.\n190. Формирование бидисперсной структуры в композите.\n191. Пористый железо-калиевооксидный композит.\n192. Композит содержит фазу оксида железа α-Fe2O3.\n193. Композит содержит фазу оксида церия CeO2.\n194. Композит содержит фазу молибдата калия K2MoO4.\n195. Композит содержит фазу феррита калия состава KFeO2.\n196. Композит содержит фазу феррита калия состава KFe11O17.\n197. Композит имеет бидисперсную структуру.\n198. Общий объем пор композита от 0,006 до 0,013 см3/г.\n199. Диаметр мезопор композита от 16 до 40 нм.\n200. Диаметр макропор композита от 75 до 130 нм.\n201. Удельная поверхность композита от 2 до 5 м2/г.\n202. Способ получения пористых порошковых материалов.\n203. Нанесение на частицы порообразователя связующего.\n204. Смешивание частиц порообразователя со связующим с порошком.\n205. Формование шихты.\n206. Спекание шихта.\n207. Использование металлического порошка.\n208. Использование керамического порошка.\n209. Нанесение на частицы порообразователя не менее двух слоев керамического порошка.\n210. Нанесение на частицы порообразователя не более пяти слоев керамического порошка.\n211. Нанесение органического связующего при нанесении первого слоя керамического порошка.\n212. Использование неорганического связющего при нанесении второго слоя керамического порошка.\n213. Использование неорганического связующего при нанесении последующих слоев керамического порошка.\n214. Использование гранул пенополистирола в качестве частиц порообразователя.\n215. Использование частиц порообразователя с размером в диапазоне 0,5-1 мм.\n216. Использование органического связующего в виде водно-дисперсионного полиуретанового лака.\n217. Использование неорганического связующего в виде водного раствора силиката натрия.\n218. Способ соединения крупногабаритных порошковых деталей.\n219. Приготовление шихты на основе железа.\n220. Прессование деталей.\n221. Нанесение на соединяемые поверхности слоя шликера на основе порошка железа.\n222. Сборка деталей.\n223. Размещение пропитывающих брикетов на основе меди.\n224. Проведение спекания с одновременной инфильтрацией.\n225. Шликер готовят из бидисперсных порошков.\n226. Расположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями.\n227. Нанесение слоя шликера на поверхность соединяемых деталей.\n228. Нанесение слоя шликера на поверхность непроницаемой перегородки.\n229. Размещение пропитывающих брикетов сверху сборки.\n230. Размещение пропитывающих брикетов снизу сборки.', 'stage': 'completed'}
2025-10-04 13:34:58,270 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000027B78119C70>, 1830913972
2025-10-04 13:34:58,281 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972 disconnected
2025-10-04 13:34:58,281 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-04 13:34:58,281 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972 cleanup completed
2025-10-05 13:32:37,807 - asyncio - DEBUG - [selector_events.py:64 - __init__()] - Using selector: SelectSelector
2025-10-05 22:56:12,435 - asyncio - DEBUG - [selector_events.py:64 - __init__()] - Using selector: SelectSelector
2025-10-05 23:02:09,537 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18
2025-10-05 23:02:09,537 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:02:09,538 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18 создан новый список соединений
2025-10-05 23:02:09,539 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18: 1
2025-10-05 23:02:09,539 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18 содержит 0 сообщений
2025-10-05 23:02:09,539 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:02:09,539 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18: 1 соединений
2025-10-05 23:02:09,540 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18 содержит 0 сообщений
2025-10-05 23:02:09,540 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18
2025-10-05 23:02:09,541 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18 connected successfully
2025-10-05 23:02:09,545 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — эксперт по патентном, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:02:09,546 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:02:09,547 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:02:09,547 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:02:09,547 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:02:09,547 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:02:09,548 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F634BEE40>
2025-10-05 23:02:09,548 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:02:09,548 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F634BEE40>
2025-10-05 23:02:09,548 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:02:09,549 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:02:09,572 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F634BEE40>
2025-10-05 23:02:09,572 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:02:09,573 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:02:09,576 - core.token_manager.deepseek - INFO - [deepseek.py:34 - get_token()] - Key 4a78... unlocked automatically
2025-10-05 23:02:09,577 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:02:09,578 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:02:09,578 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:02:09,578 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:02:09,579 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:02:09,579 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:02:09,579 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:02:09,579 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:02:09,579 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18
2025-10-05 23:02:09,580 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:02:09,580 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634D4690>, 1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18
2025-10-05 23:02:09,581 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18
2025-10-05 23:02:09,581 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:02:09,581 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634D4690>, 1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18
2025-10-05 23:02:09,582 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18
2025-10-05 23:02:09,582 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:02:09,583 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634D4690>, 1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18
2025-10-05 23:02:09,583 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18
2025-10-05 23:02:09,583 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:02:09,584 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634D4690>, 1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18
2025-10-05 23:02:32,574 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Способ получения смесевого твердого топлива с металлическим горючим.
2. Механическое перемешивание окислителя, горючего-связующего, металлического горючего и технологических добавок.
3. Использование в качестве металлического горючего бидисперсной смеси порошка алюминия микронных размеров и нанопорошка алюминия.
4. Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%.
5. Перемешивание бидисперсной смеси до осредненного состояния.
6. Введение бидисперсной смеси в количестве 10-25 мас.%.
7. Введение бидисперсной смеси в полностью перемешанную смесь окислителя, горючего-связующего и технологических добавок.
8. Дополнительное перемешивание полученной топливной массы в течение не менее 30 мин.
9. Вакуумирование полученной топливной массы в течение не менее 30 мин.
10. Использование в качестве окислителя перхлората аммония.
11. Использование в качестве окислителя нитрата аммония.
12. Использование в качестве окислителя смешанного окислителя, включающего нитрат аммония и нитрамин.
13. Использование в качестве горючего-связующего каучуков, пластифицированных трансформаторным маслом.
14. Использование в качестве горючего-связующего каучуков, пластифицированных нитросодержащими соединениями.
2025-10-05 23:02:32,575 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18
2025-10-05 23:02:32,575 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18, message: {'status': 'completed', 'message': '1. Способ получения смесевого твердого топлива с металлическим горючим.\n2. Механическое перемешивание окислителя, горючего-связующего, металлического горючего и технологических добавок.\n3. Использование в качестве металлического горючего бидисперсной смеси порошка алюминия микронных размеров и нанопорошка алюминия.\n4. Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%.\n5. Перемешивание бидисперсной смеси до осредненного состояния.\n6. Введение бидисперсной смеси в количестве 10-25 мас.%.\n7. Введение бидисперсной смеси в полностью перемешанную смесь окислителя, горючего-связующего и технологических добавок.\n8. Дополнительное перемешивание полученной топливной массы в течение не менее 30 мин.\n9. Вакуумирование полученной топливной массы в течение не менее 30 мин.\n10. Использование в качестве окислителя перхлората аммония.\n11. Использование в качестве окислителя нитрата аммония.\n12. Использование в качестве окислителя смешанного окислителя, включающего нитрат аммония и нитрамин.\n13. Использование в качестве горючего-связующего каучуков, пластифицированных трансформаторным маслом.\n14. Использование в качестве горючего-связующего каучуков, пластифицированных нитросодержащими соединениями.', 'stage': 'completed'}
2025-10-05 23:02:32,576 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634D4690>, 1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18
2025-10-05 23:02:32,585 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18 disconnected
2025-10-05 23:02:32,585 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:02:32,586 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:b77fe755-76b3-4118-8a61-7ceb78c51a18 cleanup completed
2025-10-05 23:02:32,588 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031
2025-10-05 23:02:32,588 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031 создан новый список соединений
2025-10-05 23:02:32,588 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031: 1
2025-10-05 23:02:32,589 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031 содержит 0 сообщений
2025-10-05 23:02:32,589 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:02:32,590 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031: 1 соединений
2025-10-05 23:02:32,590 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031 содержит 0 сообщений
2025-10-05 23:02:32,590 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031
2025-10-05 23:02:32,590 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031 connected successfully
2025-10-05 23:02:32,592 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:02:32,592 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — эксперт по патентном, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:02:32,594 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:02:32,594 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:02:32,594 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:02:32,594 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:02:32,595 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:02:32,595 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6346FBB0>
2025-10-05 23:02:32,595 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:02:32,595 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6346FBB0>
2025-10-05 23:02:32,595 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:02:32,596 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:02:32,596 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6346FBB0>
2025-10-05 23:02:32,596 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:02:32,597 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:02:32,598 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:02:32,599 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:02:32,599 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:02:32,599 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:02:32,599 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:02:32,599 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:02:32,600 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:02:32,600 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:02:32,600 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031
2025-10-05 23:02:32,600 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:02:32,601 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6346E9E0>, 1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031
2025-10-05 23:02:32,601 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031
2025-10-05 23:02:32,601 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:02:32,602 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6346E9E0>, 1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031
2025-10-05 23:02:32,602 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031
2025-10-05 23:02:32,602 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:02:32,603 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6346E9E0>, 1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031
2025-10-05 23:02:32,603 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031
2025-10-05 23:02:32,603 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:02:32,604 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6346E9E0>, 1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031
2025-10-05 23:02:55,974 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Способ получения порошковой смеси бидисперсных керамических и металлических частиц.
2. Перемешивание порошков в жидкой среде.
3. Перемешивание проводят в два этапа.
4. В качестве жидкой среды используют раствор петролейного эфира и стеариновой кислоты.
5. Массовое соотношение петролейного эфира и стеариновой кислоты в растворе составляет 199/1.
6. На первом этапе перемешивают керамические наночастицы в жидкой среде.
7. Продолжительность перемешивания на первом этапе составляет не менее 15 минут.
8. На втором этапе в полученную смесь добавляют металлические микрочастицы.
9. На втором этапе проводят перемешивание смеси.
10. Продолжительность перемешивания на втором этапе составляет не менее 15 минут.
11. После перемешивания проводят удаление жидкости.
12. Удаление жидкости осуществляют в сушильном шкафу.
13. Температура удаления жидкости составляет не менее 80°C.
14. Продолжительность удаления жидкости составляет не менее 24 часов.
15. Используют керамические наночастицы.
16. Диаметр керамических наночастиц находится в диапазоне от 30 до 140 нм.
17. Используют металлические микрочастицы.
18. Диаметр металлических микрочастиц находится в диапазоне от 20 до 180 мкм.
19. Массовые доли порошков и жидкости выбирают в соотношении 1/2.
20. Массовые доли наночастиц и микрочастиц выбирают в соотношении 1/19.
2025-10-05 23:02:55,976 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031
2025-10-05 23:02:55,977 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031, message: {'status': 'completed', 'message': '1. Способ получения порошковой смеси бидисперсных керамических и металлических частиц.\n2. Перемешивание порошков в жидкой среде.\n3. Перемешивание проводят в два этапа.\n4. В качестве жидкой среды используют раствор петролейного эфира и стеариновой кислоты.\n5. Массовое соотношение петролейного эфира и стеариновой кислоты в растворе составляет 199/1.\n6. На первом этапе перемешивают керамические наночастицы в жидкой среде.\n7. Продолжительность перемешивания на первом этапе составляет не менее 15 минут.\n8. На втором этапе в полученную смесь добавляют металлические микрочастицы.\n9. На втором этапе проводят перемешивание смеси.\n10. Продолжительность перемешивания на втором этапе составляет не менее 15 минут.\n11. После перемешивания проводят удаление жидкости.\n12. Удаление жидкости осуществляют в сушильном шкафу.\n13. Температура удаления жидкости составляет не менее 80°C.\n14. Продолжительность удаления жидкости составляет не менее 24 часов.\n15. Используют керамические наночастицы.\n16. Диаметр керамических наночастиц находится в диапазоне от 30 до 140 нм.\n17. Используют металлические микрочастицы.\n18. Диаметр металлических микрочастиц находится в диапазоне от 20 до 180 мкм.\n19. Массовые доли порошков и жидкости выбирают в соотношении 1/2.\n20. Массовые доли наночастиц и микрочастиц выбирают в соотношении 1/19.', 'stage': 'completed'}
2025-10-05 23:02:55,978 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6346E9E0>, 1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031
2025-10-05 23:02:55,993 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031 disconnected
2025-10-05 23:02:55,994 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:02:55,994 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:0938ba30-7995-4a68-8bb5-deb140e9a031 cleanup completed
2025-10-05 23:02:55,998 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:d4bb5599-992f-4de3-8a23-017afab89987
2025-10-05 23:02:55,998 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:d4bb5599-992f-4de3-8a23-017afab89987 создан новый список соединений
2025-10-05 23:02:55,999 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:d4bb5599-992f-4de3-8a23-017afab89987: 1
2025-10-05 23:02:56,000 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:d4bb5599-992f-4de3-8a23-017afab89987 содержит 0 сообщений
2025-10-05 23:02:56,000 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:02:56,001 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:d4bb5599-992f-4de3-8a23-017afab89987: 1 соединений
2025-10-05 23:02:56,001 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:d4bb5599-992f-4de3-8a23-017afab89987 содержит 0 сообщений
2025-10-05 23:02:56,002 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:d4bb5599-992f-4de3-8a23-017afab89987
2025-10-05 23:02:56,002 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:d4bb5599-992f-4de3-8a23-017afab89987 connected successfully
2025-10-05 23:02:56,004 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:02:56,005 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — эксперт по патентном, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:02:56,006 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:02:56,007 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:02:56,007 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:02:56,008 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:02:56,008 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:02:56,009 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F634A8D10>
2025-10-05 23:02:56,009 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:02:56,010 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:d4bb5599-992f-4de3-8a23-017afab89987, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F634A8D10>
2025-10-05 23:02:56,010 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:02:56,011 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:02:56,011 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F634A8D10>
2025-10-05 23:02:56,012 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:02:56,013 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:02:56,013 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:02:56,015 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:02:56,015 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:02:56,016 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:02:56,016 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:02:56,016 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:02:56,017 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:02:56,017 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:02:56,017 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d4bb5599-992f-4de3-8a23-017afab89987
2025-10-05 23:02:56,018 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d4bb5599-992f-4de3-8a23-017afab89987, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:02:56,018 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634E9EB0>, 1830913972:d4bb5599-992f-4de3-8a23-017afab89987
2025-10-05 23:02:56,019 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d4bb5599-992f-4de3-8a23-017afab89987
2025-10-05 23:02:56,019 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d4bb5599-992f-4de3-8a23-017afab89987, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:02:56,058 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634E9EB0>, 1830913972:d4bb5599-992f-4de3-8a23-017afab89987
2025-10-05 23:02:56,059 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d4bb5599-992f-4de3-8a23-017afab89987
2025-10-05 23:02:56,060 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d4bb5599-992f-4de3-8a23-017afab89987, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:02:56,061 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634E9EB0>, 1830913972:d4bb5599-992f-4de3-8a23-017afab89987
2025-10-05 23:02:56,061 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d4bb5599-992f-4de3-8a23-017afab89987
2025-10-05 23:02:56,061 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d4bb5599-992f-4de3-8a23-017afab89987, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:02:56,062 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634E9EB0>, 1830913972:d4bb5599-992f-4de3-8a23-017afab89987
2025-10-05 23:03:19,839 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Способ получения дифениламина.
2. Получение осуществляется термической обработкой анилина.
3. Обработка осуществляется в присутствии катализатора.
4. Катализатор является алюмооксидным.
5. Катализатор имеет кислый характер.
6. Катализатор имеет бидисперсную пористую структуру.
7. Суммарный объем пор катализатора равен или более 0,45 см³/г.
8. Объем пор катализатора с радиусом более не менее 0,27 см³/г.
9. Удельная поверхность катализатора не менее 200 м²/г.
10. Катализатор получен из гидроксида алюминия.
11. Гидроксид алюминия является термоактивированным или термомеханохимически активированным.
12. Активированный гидроксид алюминия смешивают с ортофосфорной кислотой.
13. Смешение проводят в водной среде.
14. При смешении присутствует азотная кислота.
15. Смесь пластифицируют.
16. Пластификацию осуществляют при кислотном модуле 0,02 - 0,07.
17. Катализатор подвергают формованию.
18. Катализатор подвергают сушке.
19. Катализатор подвергают прокаливанию при повышенной температуре.
20. Перед сушкой катализатор провяливают на воздухе.
21. Провяливание на воздухе осуществляют не менее 12 часов.
22. Сушку осуществляют при 100 °C.
23. Сушку осуществляют не менее 12 часов.
24. Прокаливание осуществляют при 500 °C.
2025-10-05 23:03:19,840 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d4bb5599-992f-4de3-8a23-017afab89987
2025-10-05 23:03:19,840 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d4bb5599-992f-4de3-8a23-017afab89987, message: {'status': 'completed', 'message': '1. Способ получения дифениламина.\n2. Получение осуществляется термической обработкой анилина.\n3. Обработка осуществляется в присутствии катализатора.\n4. Катализатор является алюмооксидным.\n5. Катализатор имеет кислый характер.\n6. Катализатор имеет бидисперсную пористую структуру.\n7. Суммарный объем пор катализатора равен или более 0,45 см³/г.\n8. Объем пор катализатора с радиусом более не менее 0,27 см³/г.\n9. Удельная поверхность катализатора не менее 200 м²/г.\n10. Катализатор получен из гидроксида алюминия.\n11. Гидроксид алюминия является термоактивированным или термомеханохимически активированным.\n12. Активированный гидроксид алюминия смешивают с ортофосфорной кислотой.\n13. Смешение проводят в водной среде.\n14. При смешении присутствует азотная кислота.\n15. Смесь пластифицируют.\n16. Пластификацию осуществляют при кислотном модуле 0,02 - 0,07.\n17. Катализатор подвергают формованию.\n18. Катализатор подвергают сушке.\n19. Катализатор подвергают прокаливанию при повышенной температуре.\n20. Перед сушкой катализатор провяливают на воздухе.\n21. Провяливание на воздухе осуществляют не менее 12 часов.\n22. Сушку осуществляют при 100 °C.\n23. Сушку осуществляют не менее 12 часов.\n24. Прокаливание осуществляют при 500 °C.', 'stage': 'completed'}
2025-10-05 23:03:19,841 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634E9EB0>, 1830913972:d4bb5599-992f-4de3-8a23-017afab89987
2025-10-05 23:03:19,852 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:d4bb5599-992f-4de3-8a23-017afab89987 disconnected
2025-10-05 23:03:19,852 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:03:19,853 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:d4bb5599-992f-4de3-8a23-017afab89987 cleanup completed
2025-10-05 23:03:19,855 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d
2025-10-05 23:03:19,856 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d создан новый список соединений
2025-10-05 23:03:19,856 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d: 1
2025-10-05 23:03:19,856 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d содержит 0 сообщений
2025-10-05 23:03:19,856 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:03:19,857 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d: 1 соединений
2025-10-05 23:03:19,857 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d содержит 0 сообщений
2025-10-05 23:03:19,857 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d
2025-10-05 23:03:19,858 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d connected successfully
2025-10-05 23:03:19,858 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:03:19,859 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — эксперт по патентном, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:03:19,861 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:03:19,862 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:03:19,862 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:03:19,862 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:03:19,863 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:03:19,863 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F634F4750>
2025-10-05 23:03:19,863 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:03:19,863 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F634F4750>
2025-10-05 23:03:19,864 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:03:19,864 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:03:19,864 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F634F4750>
2025-10-05 23:03:19,865 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:03:19,865 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:03:19,866 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:03:19,867 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:03:19,868 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:03:19,868 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:03:19,868 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:03:19,868 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:03:19,869 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:03:19,869 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:03:19,869 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d
2025-10-05 23:03:19,870 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:03:19,870 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634AA580>, 1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d
2025-10-05 23:03:19,870 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d
2025-10-05 23:03:19,871 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:03:19,871 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634AA580>, 1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d
2025-10-05 23:03:19,871 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d
2025-10-05 23:03:19,871 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:03:19,872 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634AA580>, 1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d
2025-10-05 23:03:19,872 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d
2025-10-05 23:03:19,872 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:03:19,873 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634AA580>, 1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d
2025-10-05 23:04:19,244 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Гранулированный наноструктурированный алюмооксидный катализатор процесса дегидратации этанола в этилен.
2. Катализатор содержит оксид алюминия.
3. Катализатор содержит натрий.
4. Катализатор дополнительно содержит серу, или фосфор, или хлор.
5. Содержание натрия составляет от 0,005 до 0,02 мас.%.
6. Содержание серы составляет от 0 до 5 мас.%.
7. Содержание фосфора составляет от 0 до 2,8 мас.%.
8. Содержание хлора составляет от 0 до 2,6 мас.%.
9. Катализатор имеет бидисперсную пористую структуру.
10. Объем микропор катализатора составляет от 0,06 до 0,18 см³/г.
11. Объем мезопор катализатора составляет от 0,2 до 0,32 см³/г.
12. Суммарный объем пор катализатора составляет от 0,25 до 0,55 см³/г.
13. Средний диаметр пор катализатора находится в диапазоне от 3 до 5,5 нм.
14. Удельная поверхность катализатора составляет от 200 до 350 м²/г.
15. Оксид алюминия представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы оксида алюминия.
16. Суммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы оксида алюминия составляет от 60 до 70 мас.%.
17. Содержание γ-Al₂O₃ составляет от 30 до 40 мас.%.
18. Гранулы катализатора имеют форму цилиндра диаметром 3-5 мм.
19. Гранулы катализатора имеют форму трилистника с диаметром описанной окружности 1,6-3,2 мм.
20. Способ приготовления катализатора включает термическую активацию гидраргиллита.
21. Продукты термической активации гидраргиллита гидратируют в кислом растворе.
22. Продукты гидратации отмывают от примесных ионов.
23. Модифицирующие добавки вводят на стадии пластификации.
24. Формование в гранулы осуществляют методом экструзии.
25. Проводят термическую обработку гранул.
26. Отмывку продуктов гидратации проводят дистиллированной водой.
27. Отмывку продуктов гидратации проводят слабыми растворами серной кислоты.
28. Отмывку продуктов гидратации проводят слабыми растворами азотной кислоты.
29. Для пластификации гидроксида алюминия используют растворы серной кислоты.
30. Для пластификации гидроксида алюминия используют растворы соляной кислоты.
31. Для пластификации гидроксида алюминия используют растворы ортофосфорной кислоты.
32. Для пластификации гидроксида алюминия используют растворы азотной кислоты.
33. Модифицирование серной кислотой ведут при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃.
34. Модифицирование соляной кислотой ведут при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃.
35. Модифицирование ортофосфорной кислотой ведут при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃.
36. Модифицирование азотной кислотой ведут при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃.
37. В качестве продуктов термической активации гидраргиллита используют продукт центробежной термической активации гидраргиллита.
38. В качестве продуктов термической активации гидраргиллита используют термоактивированный гидроксид алюминия.
39. Термическую обработку гранул гидроксида алюминия проводят при температуре 500-550°С.
40. Способ получения этилена путем дегидратации этанола заключается в пропускании содержащего этанол газа через неподвижный слой алюмооксидного катализатора.
41. В способе получения этилена используют катализатор по пп. 1-2.
42. В способе получения этилена используют катализатор, приготовленный по пп. 3-11.
43. Процесс получения этилена проводят при температуре 350-450°С.
44. Процесс получения этилена проводят при времени контакта 0.2-4.0 с.
2025-10-05 23:04:19,246 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d
2025-10-05 23:04:19,247 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d, message: {'status': 'completed', 'message': '1. Гранулированный наноструктурированный алюмооксидный катализатор процесса дегидратации этанола в этилен.\n2. Катализатор содержит оксид алюминия.\n3. Катализатор содержит натрий.\n4. Катализатор дополнительно содержит серу, или фосфор, или хлор.\n5. Содержание натрия составляет от 0,005 до 0,02 мас.%.\n6. Содержание серы составляет от 0 до 5 мас.%.\n7. Содержание фосфора составляет от 0 до 2,8 мас.%.\n8. Содержание хлора составляет от 0 до 2,6 мас.%.\n9. Катализатор имеет бидисперсную пористую структуру.\n10. Объем микропор катализатора составляет от 0,06 до 0,18 см³/г.\n11. Объем мезопор катализатора составляет от 0,2 до 0,32 см³/г.\n12. Суммарный объем пор катализатора составляет от 0,25 до 0,55 см³/г.\n13. Средний диаметр пор катализатора находится в диапазоне от 3 до 5,5 нм.\n14. Удельная поверхность катализатора составляет от 200 до 350 м²/г.\n15. Оксид алюминия представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы оксида алюминия.\n16. Суммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы оксида алюминия составляет от 60 до 70 мас.%.\n17. Содержание γ-Al₂O₃ составляет от 30 до 40 мас.%.\n18. Гранулы катализатора имеют форму цилиндра диаметром 3-5 мм.\n19. Гранулы катализатора имеют форму трилистника с диаметром описанной окружности 1,6-3,2 мм.\n20. Способ приготовления катализатора включает термическую активацию гидраргиллита.\n21. Продукты термической активации гидраргиллита гидратируют в кислом растворе.\n22. Продукты гидратации отмывают от примесных ионов.\n23. Модифицирующие добавки вводят на стадии пластификации.\n24. Формование в гранулы осуществляют методом экструзии.\n25. Проводят термическую обработку гранул.\n26. Отмывку продуктов гидратации проводят дистиллированной водой.\n27. Отмывку продуктов гидратации проводят слабыми растворами серной кислоты.\n28. Отмывку продуктов гидратации проводят слабыми растворами азотной кислоты.\n29. Для пластификации гидроксида алюминия используют растворы серной кислоты.\n30. Для пластификации гидроксида алюминия используют растворы соляной кислоты.\n31. Для пластификации гидроксида алюминия используют растворы ортофосфорной кислоты.\n32. Для пластификации гидроксида алюминия используют растворы азотной кислоты.\n33. Модифицирование серной кислотой ведут при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃.\n34. Модифицирование соляной кислотой ведут при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃.\n35. Модифицирование ортофосфорной кислотой ведут при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃.\n36. Модифицирование азотной кислотой ведут при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃.\n37. В качестве продуктов термической активации гидраргиллита используют продукт центробежной термической активации гидраргиллита.\n38. В качестве продуктов термической активации гидраргиллита используют термоактивированный гидроксид алюминия.\n39. Термическую обработку гранул гидроксида алюминия проводят при температуре 500-550°С.\n40. Способ получения этилена путем дегидратации этанола заключается в пропускании содержащего этанол газа через неподвижный слой алюмооксидного катализатора.\n41. В способе получения этилена используют катализатор по пп. 1-2.\n42. В способе получения этилена используют катализатор, приготовленный по пп. 3-11.\n43. Процесс получения этилена проводят при температуре 350-450°С.\n44. Процесс получения этилена проводят при времени контакта 0.2-4.0 с.', 'stage': 'completed'}
2025-10-05 23:04:19,252 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634AA580>, 1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d
2025-10-05 23:04:19,262 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d disconnected
2025-10-05 23:04:19,263 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:04:19,263 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:3d2d0ddd-8b96-42e4-bf46-dc72259cb21d cleanup completed
2025-10-05 23:04:19,271 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245
2025-10-05 23:04:19,271 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245 создан новый список соединений
2025-10-05 23:04:19,272 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245: 1
2025-10-05 23:04:19,272 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245 содержит 0 сообщений
2025-10-05 23:04:19,272 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:04:19,273 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245: 1 соединений
2025-10-05 23:04:19,273 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245 содержит 0 сообщений
2025-10-05 23:04:19,274 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245
2025-10-05 23:04:19,274 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245 connected successfully
2025-10-05 23:04:19,275 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:04:19,277 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — эксперт по патентном, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:04:19,278 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:04:19,279 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:04:19,279 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:04:19,279 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:04:19,280 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:04:19,280 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F634C74D0>
2025-10-05 23:04:19,281 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:04:19,282 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F634C74D0>
2025-10-05 23:04:19,283 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:04:19,283 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:04:19,283 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F634C74D0>
2025-10-05 23:04:19,284 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:04:19,285 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:04:19,286 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:04:19,287 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:04:19,287 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:04:19,288 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:04:19,288 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:04:19,288 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:04:19,289 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:04:19,289 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:04:19,289 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245
2025-10-05 23:04:19,290 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:04:19,290 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634F5650>, 1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245
2025-10-05 23:04:19,291 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245
2025-10-05 23:04:19,291 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:04:19,292 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634F5650>, 1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245
2025-10-05 23:04:19,292 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245
2025-10-05 23:04:19,292 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:04:19,293 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634F5650>, 1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245
2025-10-05 23:04:19,293 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245
2025-10-05 23:04:19,293 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:04:19,294 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634F5650>, 1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245
2025-10-05 23:04:58,400 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов.
2. Активный компонент катализатора - палладий.
3. Содержание палладия в количестве 0,01÷1,0 мас.%.
4. Размер частиц активного компонента регулируемый.
5. Размер частиц активного компонента в диапазоне от 1,5 до 20 нм.
6. Носитель активного компонента - бидисперсный силикагель.
7. Бидисперсный силикагель содержит щелочной металл.
8. Содержание щелочного металла в силикагеле не выше 0,01 мас.%.
9. Удельная поверхность бидисперсного силикагеля 150÷350 м²/г.
10. Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г.
11. Полное отсутствие микропор в бидисперсном силикагеле.
12. Наличие мезопор в бидисперсном силикагеле.
13. Радиус мезопор около 50 Å.
14. Объем мезопор 0,60÷0,85 см³/г.
15. Наличие макропор в бидисперсном силикагеле.
16. Радиус макропор 1000-5500 Å.
17. Объем макропор 0,15÷0,30 см³/г.
18. Способ приготовления катализатора включает пропитывание предварительно высушенного носителя.
19. Пропитывание водным раствором стабилизированного нитрата палладия.
20. Регулирование pH пропиточного раствора.
21. Последующая сушка пропитанного носителя.
22. Прокаливание высушенного носителя на воздухе.
23. Восстановление прокаленного носителя в потоке водородсодержащего газа.
24. Добавление лимонной кислоты в пропиточный раствор.
25. Регулирование pH пропиточного раствора без введения катионов щелочных металлов.
26. Регулирование pH пропиточного раствора за счет подщелачивания водным раствором тетраметиламмоний гидроксида.
27. Способ очистки олефинов от примесей полиненасыщенных углеводородов путем каталитического гидрирования.
28. Гидрирование проводят при повышенных температурах.
29. Использование катализатора по пп.1 и 2 или приготовленного по пп.3-5.
30. Гидрирование проводят при атмосферном давлении.
31. Температура гидрирования 50-200°С.
32. Объемная скорость подачи сырья 10000-20000 ч⁻¹.
2025-10-05 23:04:58,402 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245
2025-10-05 23:04:58,403 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245, message: {'status': 'completed', 'message': '1. Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов.\n2. Активный компонент катализатора - палладий.\n3. Содержание палладия в количестве 0,01÷1,0 мас.%.\n4. Размер частиц активного компонента регулируемый.\n5. Размер частиц активного компонента в диапазоне от 1,5 до 20 нм.\n6. Носитель активного компонента - бидисперсный силикагель.\n7. Бидисперсный силикагель содержит щелочной металл.\n8. Содержание щелочного металла в силикагеле не выше 0,01 мас.%.\n9. Удельная поверхность бидисперсного силикагеля 150÷350 м²/г.\n10. Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г.\n11. Полное отсутствие микропор в бидисперсном силикагеле.\n12. Наличие мезопор в бидисперсном силикагеле.\n13. Радиус мезопор около 50 Å.\n14. Объем мезопор 0,60÷0,85 см³/г.\n15. Наличие макропор в бидисперсном силикагеле.\n16. Радиус макропор 1000-5500 Å.\n17. Объем макропор 0,15÷0,30 см³/г.\n18. Способ приготовления катализатора включает пропитывание предварительно высушенного носителя.\n19. Пропитывание водным раствором стабилизированного нитрата палладия.\n20. Регулирование pH пропиточного раствора.\n21. Последующая сушка пропитанного носителя.\n22. Прокаливание высушенного носителя на воздухе.\n23. Восстановление прокаленного носителя в потоке водородсодержащего газа.\n24. Добавление лимонной кислоты в пропиточный раствор.\n25. Регулирование pH пропиточного раствора без введения катионов щелочных металлов.\n26. Регулирование pH пропиточного раствора за счет подщелачивания водным раствором тетраметиламмоний гидроксида.\n27. Способ очистки олефинов от примесей полиненасыщенных углеводородов путем каталитического гидрирования.\n28. Гидрирование проводят при повышенных температурах.\n29. Использование катализатора по пп.1 и 2 или приготовленного по пп.3-5.\n30. Гидрирование проводят при атмосферном давлении.\n31. Температура гидрирования 50-200°С.\n32. Объемная скорость подачи сырья 10000-20000 ч⁻¹.', 'stage': 'completed'}
2025-10-05 23:04:58,404 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634F5650>, 1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245
2025-10-05 23:04:58,415 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245 disconnected
2025-10-05 23:04:58,415 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:04:58,415 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:f81b62f2-e513-4f93-9392-5ffc8fa6f245 cleanup completed
2025-10-05 23:04:58,418 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:ee0965fa-0b17-4725-b312-411785201798
2025-10-05 23:04:58,418 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:ee0965fa-0b17-4725-b312-411785201798 создан новый список соединений
2025-10-05 23:04:58,420 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:ee0965fa-0b17-4725-b312-411785201798: 1
2025-10-05 23:04:58,421 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:ee0965fa-0b17-4725-b312-411785201798 содержит 0 сообщений
2025-10-05 23:04:58,422 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:04:58,422 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:ee0965fa-0b17-4725-b312-411785201798: 1 соединений
2025-10-05 23:04:58,423 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:ee0965fa-0b17-4725-b312-411785201798 содержит 0 сообщений
2025-10-05 23:04:58,423 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:ee0965fa-0b17-4725-b312-411785201798
2025-10-05 23:04:58,423 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:ee0965fa-0b17-4725-b312-411785201798 connected successfully
2025-10-05 23:04:58,424 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:04:58,426 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — эксперт по патентном, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:04:58,427 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:04:58,427 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:04:58,427 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:04:58,427 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:04:58,431 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:04:58,431 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6348D010>
2025-10-05 23:04:58,432 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:04:58,432 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:ee0965fa-0b17-4725-b312-411785201798, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6348D010>
2025-10-05 23:04:58,432 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:04:58,433 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:04:58,433 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6348D010>
2025-10-05 23:04:58,433 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:04:58,434 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:04:58,435 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:04:58,436 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:04:58,437 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:04:58,437 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:04:58,437 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:04:58,437 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:04:58,437 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:04:58,438 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:04:58,438 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:ee0965fa-0b17-4725-b312-411785201798
2025-10-05 23:04:58,438 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:ee0965fa-0b17-4725-b312-411785201798, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:04:58,439 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63726D50>, 1830913972:ee0965fa-0b17-4725-b312-411785201798
2025-10-05 23:04:58,439 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:ee0965fa-0b17-4725-b312-411785201798
2025-10-05 23:04:58,440 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:ee0965fa-0b17-4725-b312-411785201798, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:04:58,440 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63726D50>, 1830913972:ee0965fa-0b17-4725-b312-411785201798
2025-10-05 23:04:58,441 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:ee0965fa-0b17-4725-b312-411785201798
2025-10-05 23:04:58,441 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:ee0965fa-0b17-4725-b312-411785201798, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:04:58,442 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63726D50>, 1830913972:ee0965fa-0b17-4725-b312-411785201798
2025-10-05 23:04:58,442 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:ee0965fa-0b17-4725-b312-411785201798
2025-10-05 23:04:58,443 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:ee0965fa-0b17-4725-b312-411785201798, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:04:58,443 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63726D50>, 1830913972:ee0965fa-0b17-4725-b312-411785201798
2025-10-05 23:05:21,932 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой.
2. Использование гидроксида алюминия в виде гидратированного соединения.
3. Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия.
4. Содержание в гидратированном соединении до 10% гиббсита.
5. Размол гидроксида алюминия до частиц, имеющих размер менее 20 мкм.
6. Количество частиц размером менее 20 мкм после размола составляет более 70%.
7. Смешивание размолотого гидроксида алюминия с водой.
8. Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты.
9. Проведение пластификации смеси.
10. Формование гранул из пластифицированного продукта.
11. Формование гранул последовательно в слое керосина.
12. Формование гранул последовательно в водном растворе аммиака.
13. Сушка полученных гранул.
14. Прокаливание полученных гранул.
15. Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия 200-650 г/л.
16. Промывка гранул после прокаливания водой.
17. Промывка гранул водой с pH 6-9.
18. Продолжительность промывки гранул составляет 15 минут.
19. Проведение термообработки промытых гранул.
20. Проведение термообработки при температуре 250°C.
2025-10-05 23:05:21,933 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:ee0965fa-0b17-4725-b312-411785201798
2025-10-05 23:05:21,933 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:ee0965fa-0b17-4725-b312-411785201798, message: {'status': 'completed', 'message': '1. Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой.\n2. Использование гидроксида алюминия в виде гидратированного соединения.\n3. Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия.\n4. Содержание в гидратированном соединении до 10% гиббсита.\n5. Размол гидроксида алюминия до частиц, имеющих размер менее 20 мкм.\n6. Количество частиц размером менее 20 мкм после размола составляет более 70%.\n7. Смешивание размолотого гидроксида алюминия с водой.\n8. Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты.\n9. Проведение пластификации смеси.\n10. Формование гранул из пластифицированного продукта.\n11. Формование гранул последовательно в слое керосина.\n12. Формование гранул последовательно в водном растворе аммиака.\n13. Сушка полученных гранул.\n14. Прокаливание полученных гранул.\n15. Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия 200-650 г/л.\n16. Промывка гранул после прокаливания водой.\n17. Промывка гранул водой с pH 6-9.\n18. Продолжительность промывки гранул составляет 15 минут.\n19. Проведение термообработки промытых гранул.\n20. Проведение термообработки при температуре 250°C.', 'stage': 'completed'}
2025-10-05 23:05:21,934 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63726D50>, 1830913972:ee0965fa-0b17-4725-b312-411785201798
2025-10-05 23:05:21,945 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:ee0965fa-0b17-4725-b312-411785201798 disconnected
2025-10-05 23:05:21,946 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:05:21,946 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:ee0965fa-0b17-4725-b312-411785201798 cleanup completed
2025-10-05 23:05:21,950 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:05:21,950 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f
2025-10-05 23:05:21,950 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f создан новый список соединений
2025-10-05 23:05:21,951 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f: 1
2025-10-05 23:05:21,951 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f содержит 0 сообщений
2025-10-05 23:05:21,951 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:05:21,952 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f: 1 соединений
2025-10-05 23:05:21,952 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f содержит 0 сообщений
2025-10-05 23:05:21,952 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f
2025-10-05 23:05:21,953 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f connected successfully
2025-10-05 23:05:21,954 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — эксперт по патентном, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:05:21,955 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:05:21,956 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:05:21,956 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:05:21,956 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:05:21,956 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:05:21,956 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F63443800>
2025-10-05 23:05:21,957 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:05:21,957 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F63443800>
2025-10-05 23:05:21,957 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:05:21,957 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:05:21,957 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F63443800>
2025-10-05 23:05:21,957 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:05:21,958 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:05:21,958 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:05:21,959 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:05:21,959 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:05:21,959 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:05:21,960 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:05:21,960 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:05:21,960 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:05:21,960 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:05:21,960 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f
2025-10-05 23:05:21,960 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:05:21,961 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63720210>, 1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f
2025-10-05 23:05:21,961 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f
2025-10-05 23:05:21,961 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:05:21,962 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63720210>, 1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f
2025-10-05 23:05:21,962 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f
2025-10-05 23:05:21,963 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:05:21,963 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63720210>, 1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f
2025-10-05 23:05:21,964 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f
2025-10-05 23:05:21,964 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:05:21,965 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63720210>, 1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f
2025-10-05 23:05:52,133 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Каталитический реактор трубчатого типа.
2. Реактор для проведения сильно экзотермических реакций.
3. Реакции характеризуются адиабатическими разогревами 500 - 2500°C.
4. Наличие корпуса.
5. Наличие трубных решеток.
6. Наличие устройств для ввода реагентов.
7. Наличие устройств для вывода реагентов.
8. Наличие устройств для ввода хладагентов.
9. Наличие устройств для вывода хладагентов.
10. Наличие каталитически активных теплообменных трубок.
11. Каталитически активные теплообменные трубки соединены с трубными решетками.
12. Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки.
13. На внешнюю поверхность металлических непроницаемых трубок нанесен слой каталитически активного армированного порометаллического материала.
14. Слой каталитически активного армированного порометаллического материала образован плоскими лентами.
15. Слой каталитически активного армированного порометаллического материала образован гофрированными лентами.
16. Плоские и гофрированные ленты создают бидисперсную структуру нанесенного на поверхность трубки слоя.
17. Слой катализатора на поверхности непроницаемой трубки имеет толщину 1 - 10 мм.
18. Слой катализатора на поверхности непроницаемой трубки нанесен равномерно по ее длине.
19. Слой катализатора на поверхности непроницаемой трубки нанесен неравномерно по ее длине.
20. Способ осуществления сильно экзотермических реакций с адиабатическими разогревами 500 - 2500°C в каталитическом реакторе трубчатого типа.
21. Реагирующую смесь стехиометрического состава подают в межтрубное пространство.
22. Реагирующую смесь состава, близкого к стехиометрическому, подают в межтрубное пространство.
23. Межтрубное пространство образовано каталитически активными теплообменными трубками.
24. Хладоагент подают внутрь каталитически активных теплообменных трубок.
2025-10-05 23:05:52,133 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f
2025-10-05 23:05:52,134 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f, message: {'status': 'completed', 'message': '1. Каталитический реактор трубчатого типа.\n2. Реактор для проведения сильно экзотермических реакций.\n3. Реакции характеризуются адиабатическими разогревами 500 - 2500°C.\n4. Наличие корпуса.\n5. Наличие трубных решеток.\n6. Наличие устройств для ввода реагентов.\n7. Наличие устройств для вывода реагентов.\n8. Наличие устройств для ввода хладагентов.\n9. Наличие устройств для вывода хладагентов.\n10. Наличие каталитически активных теплообменных трубок.\n11. Каталитически активные теплообменные трубки соединены с трубными решетками.\n12. Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки.\n13. На внешнюю поверхность металлических непроницаемых трубок нанесен слой каталитически активного армированного порометаллического материала.\n14. Слой каталитически активного армированного порометаллического материала образован плоскими лентами.\n15. Слой каталитически активного армированного порометаллического материала образован гофрированными лентами.\n16. Плоские и гофрированные ленты создают бидисперсную структуру нанесенного на поверхность трубки слоя.\n17. Слой катализатора на поверхности непроницаемой трубки имеет толщину 1 - 10 мм.\n18. Слой катализатора на поверхности непроницаемой трубки нанесен равномерно по ее длине.\n19. Слой катализатора на поверхности непроницаемой трубки нанесен неравномерно по ее длине.\n20. Способ осуществления сильно экзотермических реакций с адиабатическими разогревами 500 - 2500°C в каталитическом реакторе трубчатого типа.\n21. Реагирующую смесь стехиометрического состава подают в межтрубное пространство.\n22. Реагирующую смесь состава, близкого к стехиометрическому, подают в межтрубное пространство.\n23. Межтрубное пространство образовано каталитически активными теплообменными трубками.\n24. Хладоагент подают внутрь каталитически активных теплообменных трубок.', 'stage': 'completed'}
2025-10-05 23:05:52,137 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63720210>, 1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f
2025-10-05 23:05:52,148 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f disconnected
2025-10-05 23:05:52,149 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:05:52,150 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:04a4a580-7592-4ee0-b722-9e91df67a48f cleanup completed
2025-10-05 23:05:52,152 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f
2025-10-05 23:05:52,152 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f создан новый список соединений
2025-10-05 23:05:52,153 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f: 1
2025-10-05 23:05:52,153 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f содержит 0 сообщений
2025-10-05 23:05:52,155 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:05:52,156 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f: 1 соединений
2025-10-05 23:05:52,156 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f содержит 0 сообщений
2025-10-05 23:05:52,156 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f
2025-10-05 23:05:52,156 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f connected successfully
2025-10-05 23:05:52,157 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:05:52,158 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — эксперт по патентном, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:05:52,159 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:05:52,159 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:05:52,159 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:05:52,159 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:05:52,160 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:05:52,160 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6300F140>
2025-10-05 23:05:52,160 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:05:52,160 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6300F140>
2025-10-05 23:05:52,160 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:05:52,160 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:05:52,160 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6300F140>
2025-10-05 23:05:52,160 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:05:52,161 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:05:52,162 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:05:52,164 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:05:52,165 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:05:52,206 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:05:52,207 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:05:52,207 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:05:52,207 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:05:52,207 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:05:52,209 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f
2025-10-05 23:05:52,209 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:05:52,210 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6348D010>, 1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f
2025-10-05 23:05:52,211 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f
2025-10-05 23:05:52,211 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:05:52,212 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6348D010>, 1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f
2025-10-05 23:05:52,212 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f
2025-10-05 23:05:52,213 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:05:52,215 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6348D010>, 1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f
2025-10-05 23:05:52,216 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f
2025-10-05 23:05:52,216 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:05:52,216 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6348D010>, 1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f
2025-10-05 23:06:23,884 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Способ получения пористого железо-калиевооксидного композита.
2. Приготовление шихты.
3. Шихта содержит кристаллогидрат нитрат железа.
4. Шихта содержит кристаллогидрат нитрат церия.
5. Шихта содержит нитрат калия.
6. Шихта содержит оксид молибдена.
7. Шихта содержит оксид титана.
8. Шихта содержит карбонат кальция.
9. Шихта содержит тетраэтоксисилан.
10. Компоненты шихты взяты в стехиометрическом соотношении.
11. Импрегнирование в шихту выгорающей микродобавки продуктами гидролиза солей.
12. Продукты гидролиза солей получены с использованием способа соосаждения.
13. Продукты гидролиза солей получены с использованием способа золь-гель.
14. В качестве выгорающей микродобавки используют диоксанлигнин березы.
15. Количество выгорающей микродобавки составляет от 0,125 до 0,250 мас.%.
16. Формование образцов композита методом полусухого прессования.
17. Проведение обжига.
18. Обжиг проводят в интервале температур от 20 до 700°С.
19. Скорость нагрева при обжиге составляет 10°С/мин.
20. Изотермическая выдержка в течение 3 часов.
21. Формирование в получаемом композите бидисперсной структуры.
22. Пористый железо-калиевооксидный композит, полученный способом по п.1.
23. Композит содержит фазу оксида железа α-Fe2O3.
24. Композит содержит фазу оксида церия CeO2.
25. Композит содержит фазу молибдата калия K2MoO4.
26. Композит содержит фазу феррита калия состава KFeO2.
27. Композит содержит фазу феррита калия состава KFe11O17.
28. Композит имеет бидисперсную структуру.
29. Бидисперсная структура получена за счет введения в шихту диоксанлигнина березы в качестве выгорающей микродобавки.
30. Общий объем пор композита составляет от 0,006 до 0,013 см³/г.
31. Диаметр мезопор композита составляет от 16 до 40 нм.
32. Диаметр макропор композита составляет от 75 до 130 нм.
33. Удельная поверхность композита составляет от 2 до 5 м²/г.
2025-10-05 23:06:23,886 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f
2025-10-05 23:06:23,887 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f, message: {'status': 'completed', 'message': '1. Способ получения пористого железо-калиевооксидного композита.\n2. Приготовление шихты.\n3. Шихта содержит кристаллогидрат нитрат железа.\n4. Шихта содержит кристаллогидрат нитрат церия.\n5. Шихта содержит нитрат калия.\n6. Шихта содержит оксид молибдена.\n7. Шихта содержит оксид титана.\n8. Шихта содержит карбонат кальция.\n9. Шихта содержит тетраэтоксисилан.\n10. Компоненты шихты взяты в стехиометрическом соотношении.\n11. Импрегнирование в шихту выгорающей микродобавки продуктами гидролиза солей.\n12. Продукты гидролиза солей получены с использованием способа соосаждения.\n13. Продукты гидролиза солей получены с использованием способа золь-гель.\n14. В качестве выгорающей микродобавки используют диоксанлигнин березы.\n15. Количество выгорающей микродобавки составляет от 0,125 до 0,250 мас.%.\n16. Формование образцов композита методом полусухого прессования.\n17. Проведение обжига.\n18. Обжиг проводят в интервале температур от 20 до 700°С.\n19. Скорость нагрева при обжиге составляет 10°С/мин.\n20. Изотермическая выдержка в течение 3 часов.\n21. Формирование в получаемом композите бидисперсной структуры.\n22. Пористый железо-калиевооксидный композит, полученный способом по п.1.\n23. Композит содержит фазу оксида железа α-Fe2O3.\n24. Композит содержит фазу оксида церия CeO2.\n25. Композит содержит фазу молибдата калия K2MoO4.\n26. Композит содержит фазу феррита калия состава KFeO2.\n27. Композит содержит фазу феррита калия состава KFe11O17.\n28. Композит имеет бидисперсную структуру.\n29. Бидисперсная структура получена за счет введения в шихту диоксанлигнина березы в качестве выгорающей микродобавки.\n30. Общий объем пор композита составляет от 0,006 до 0,013 см³/г.\n31. Диаметр мезопор композита составляет от 16 до 40 нм.\n32. Диаметр макропор композита составляет от 75 до 130 нм.\n33. Удельная поверхность композита составляет от 2 до 5 м²/г.', 'stage': 'completed'}
2025-10-05 23:06:23,888 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6348D010>, 1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f
2025-10-05 23:06:23,903 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f disconnected
2025-10-05 23:06:23,904 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:06:23,904 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:6673e178-c3c4-4c9c-8aac-d9cb9113f58f cleanup completed
2025-10-05 23:06:23,907 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f
2025-10-05 23:06:23,907 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f создан новый список соединений
2025-10-05 23:06:23,907 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f: 1
2025-10-05 23:06:23,909 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f содержит 0 сообщений
2025-10-05 23:06:23,909 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:06:23,909 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f: 1 соединений
2025-10-05 23:06:23,910 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f содержит 0 сообщений
2025-10-05 23:06:23,910 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f
2025-10-05 23:06:23,910 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f connected successfully
2025-10-05 23:06:23,911 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:06:23,912 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — эксперт по патентном, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:06:23,913 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:06:23,913 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:06:23,914 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:06:23,914 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:06:23,914 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:06:23,915 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347ED60>
2025-10-05 23:06:23,915 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:06:23,915 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347ED60>
2025-10-05 23:06:23,915 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:06:23,915 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:06:23,934 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347ED60>
2025-10-05 23:06:23,934 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:06:23,935 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:06:23,936 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:06:23,938 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:06:23,938 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:06:23,938 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:06:23,939 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:06:23,939 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:06:23,939 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:06:23,940 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:06:23,940 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f
2025-10-05 23:06:23,940 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:06:23,941 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63443CD0>, 1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f
2025-10-05 23:06:23,941 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f
2025-10-05 23:06:23,941 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:06:23,942 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63443CD0>, 1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f
2025-10-05 23:06:23,942 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f
2025-10-05 23:06:23,942 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:06:23,943 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63443CD0>, 1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f
2025-10-05 23:06:23,943 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f
2025-10-05 23:06:23,943 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:06:23,944 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63443CD0>, 1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f
2025-10-05 23:06:39,663 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Способ получения пористых порошковых материалов.
2. Приготовление шихты.
3. Нанесение на частицы порообразователя связующего.
4. Смешивание частиц порообразователя со связующим с порошком.
5. Формование шихты.
6. Спекание шихты.
7. Использование при смешивании металлического порошка.
8. Использование при смешивании керамического порошка.
9. Нанесение на частицы порообразователя не менее двух слоев керамического порошка.
10. Нанесение на частицы порообразователя не более пяти слоев керамического порошка.
11. Использование органического связующего при нанесении первого слоя керамического порошка.
12. Использование неорганического связующего при нанесении второго слоя керамического порошка.
13. Использование неорганического связующего при нанесении последующих слоев керамического порошка.
14. Использование в качестве частиц порообразователя гранул пенополистирола.
15. Использование частиц порообразователя с размером в диапазоне 0,5-1 мм.
16. Использование органического связующего в виде водно-дисперсионного полиуретанового лака.
17. Использование неорганического связующего в виде водного раствора силиката натрия.
2025-10-05 23:06:39,664 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f
2025-10-05 23:06:39,665 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f, message: {'status': 'completed', 'message': '1. Способ получения пористых порошковых материалов.\n2. Приготовление шихты.\n3. Нанесение на частицы порообразователя связующего.\n4. Смешивание частиц порообразователя со связующим с порошком.\n5. Формование шихты.\n6. Спекание шихты.\n7. Использование при смешивании металлического порошка.\n8. Использование при смешивании керамического порошка.\n9. Нанесение на частицы порообразователя не менее двух слоев керамического порошка.\n10. Нанесение на частицы порообразователя не более пяти слоев керамического порошка.\n11. Использование органического связующего при нанесении первого слоя керамического порошка.\n12. Использование неорганического связующего при нанесении второго слоя керамического порошка.\n13. Использование неорганического связующего при нанесении последующих слоев керамического порошка.\n14. Использование в качестве частиц порообразователя гранул пенополистирола.\n15. Использование частиц порообразователя с размером в диапазоне 0,5-1 мм.\n16. Использование органического связующего в виде водно-дисперсионного полиуретанового лака.\n17. Использование неорганического связующего в виде водного раствора силиката натрия.', 'stage': 'completed'}
2025-10-05 23:06:39,666 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63443CD0>, 1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f
2025-10-05 23:06:39,678 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f disconnected
2025-10-05 23:06:39,678 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:06:39,679 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:a045fcd6-c1c1-40b5-bbdb-7113e9901f4f cleanup completed
2025-10-05 23:06:39,685 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:ae904a27-8650-491f-b836-9b4055c878a2
2025-10-05 23:06:39,685 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:ae904a27-8650-491f-b836-9b4055c878a2 создан новый список соединений
2025-10-05 23:06:39,686 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:ae904a27-8650-491f-b836-9b4055c878a2: 1
2025-10-05 23:06:39,686 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:ae904a27-8650-491f-b836-9b4055c878a2 содержит 0 сообщений
2025-10-05 23:06:39,686 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:06:39,686 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:ae904a27-8650-491f-b836-9b4055c878a2: 1 соединений
2025-10-05 23:06:39,686 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:ae904a27-8650-491f-b836-9b4055c878a2 содержит 0 сообщений
2025-10-05 23:06:39,687 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:ae904a27-8650-491f-b836-9b4055c878a2
2025-10-05 23:06:39,687 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:ae904a27-8650-491f-b836-9b4055c878a2 connected successfully
2025-10-05 23:06:39,689 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:06:39,690 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — эксперт по патентном, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:06:39,692 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:06:39,692 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:06:39,693 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:06:39,693 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:06:39,693 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:06:39,693 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347E6D0>
2025-10-05 23:06:39,693 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:06:39,694 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:ae904a27-8650-491f-b836-9b4055c878a2, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347E6D0>
2025-10-05 23:06:39,694 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:06:39,694 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:06:39,703 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347E6D0>
2025-10-05 23:06:39,704 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:06:39,705 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:06:39,707 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:06:39,708 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:06:39,708 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:06:39,709 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:06:39,709 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:06:39,709 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:06:39,710 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:06:39,710 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:06:39,711 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:ae904a27-8650-491f-b836-9b4055c878a2
2025-10-05 23:06:39,712 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:ae904a27-8650-491f-b836-9b4055c878a2, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:06:39,712 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63711D10>, 1830913972:ae904a27-8650-491f-b836-9b4055c878a2
2025-10-05 23:06:39,712 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:ae904a27-8650-491f-b836-9b4055c878a2
2025-10-05 23:06:39,713 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:ae904a27-8650-491f-b836-9b4055c878a2, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:06:39,713 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63711D10>, 1830913972:ae904a27-8650-491f-b836-9b4055c878a2
2025-10-05 23:06:39,713 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:ae904a27-8650-491f-b836-9b4055c878a2
2025-10-05 23:06:39,714 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:ae904a27-8650-491f-b836-9b4055c878a2, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:06:39,715 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63711D10>, 1830913972:ae904a27-8650-491f-b836-9b4055c878a2
2025-10-05 23:06:39,715 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:ae904a27-8650-491f-b836-9b4055c878a2
2025-10-05 23:06:39,716 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:ae904a27-8650-491f-b836-9b4055c878a2, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:06:39,716 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63711D10>, 1830913972:ae904a27-8650-491f-b836-9b4055c878a2
2025-10-05 23:06:51,337 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Способ соединения крупногабаритных порошковых деталей.
2. Приготовление шихты на основе железа.
3. Прессование деталей.
4. Нанесение на соединяемые поверхности слоя шликера на основе порошка железа.
5. Сборка деталей.
6. Размещение пропитывающих брикетов на основе меди.
7. Спекание с одновременной инфильтрацией.
8. Шликер готовят из бидисперсных порошков.
9. При сборке между соединяемыми поверхностями располагают непроницаемую для расплава на основе меди перегородку.
10. Слой шликера наносят на поверхность соединяемых деталей и непроницаемой перегородки.
11. Пропитывающие брикеты размещают сверху и снизу сборки.
2025-10-05 23:06:51,338 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:ae904a27-8650-491f-b836-9b4055c878a2
2025-10-05 23:06:51,338 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:ae904a27-8650-491f-b836-9b4055c878a2, message: {'status': 'completed', 'message': '1. Способ соединения крупногабаритных порошковых деталей.\n2. Приготовление шихты на основе железа.\n3. Прессование деталей.\n4. Нанесение на соединяемые поверхности слоя шликера на основе порошка железа.\n5. Сборка деталей.\n6. Размещение пропитывающих брикетов на основе меди.\n7. Спекание с одновременной инфильтрацией.\n8. Шликер готовят из бидисперсных порошков.\n9. При сборке между соединяемыми поверхностями располагают непроницаемую для расплава на основе меди перегородку.\n10. Слой шликера наносят на поверхность соединяемых деталей и непроницаемой перегородки.\n11. Пропитывающие брикеты размещают сверху и снизу сборки.', 'stage': 'completed'}
2025-10-05 23:06:51,341 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63711D10>, 1830913972:ae904a27-8650-491f-b836-9b4055c878a2
2025-10-05 23:06:51,348 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:ae904a27-8650-491f-b836-9b4055c878a2 disconnected
2025-10-05 23:06:51,349 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:06:51,349 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:ae904a27-8650-491f-b836-9b4055c878a2 cleanup completed
2025-10-05 23:08:29,969 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:08:29,971 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный семантичес, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:08:29,973 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:08:29,973 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:08:29,973 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:08:29,974 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:08:29,974 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:08:29,975 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347E4A0>
2025-10-05 23:08:29,975 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:08:29,975 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347E4A0>
2025-10-05 23:08:29,976 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:08:29,976 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:08:29,976 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347E4A0>
2025-10-05 23:08:29,977 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:08:29,977 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:08:29,978 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:08:29,979 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:08:29,980 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:08:29,980 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:08:29,980 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:08:29,981 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:08:29,981 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:08:29,981 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:08:29,981 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-05 23:08:29,982 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:08:29,982 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-05 23:08:29,983 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 1
2025-10-05 23:08:29,983 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-05 23:08:29,983 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:08:29,984 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-05 23:08:29,984 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 2
2025-10-05 23:08:29,984 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-05 23:08:29,985 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:08:29,985 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-05 23:08:29,985 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 3
2025-10-05 23:08:29,986 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-05 23:08:29,986 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:08:29,987 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-05 23:08:29,987 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 4
2025-10-05 23:08:29,991 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972
2025-10-05 23:08:29,992 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972 создан новый список соединений
2025-10-05 23:08:29,992 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972: 1
2025-10-05 23:08:29,992 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972 содержит 4 сообщений
2025-10-05 23:08:29,993 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:08:29,993 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972: 1 соединений
2025-10-05 23:08:29,993 - core.connection_manager - DEBUG - [connection_manager.py:187 - print_active_connections()] - 📦 Буферизованные сообщения:
2025-10-05 23:08:29,994 - core.connection_manager - DEBUG - [connection_manager.py:189 - print_active_connections()] -   1830913972: 4 сообщений
2025-10-05 23:08:29,994 - core.connection_manager - DEBUG - [connection_manager.py:190 - print_active_connections()] - buffer: deque([<core.connection_manager.BufferedMessage object at 0x0000022F63067E00>, <core.connection_manager.BufferedMessage object at 0x0000022F6341F9D0>, <core.connection_manager.BufferedMessage object at 0x0000022F6341EFD0>, <core.connection_manager.BufferedMessage object at 0x0000022F6346FE10>], maxlen=50)
2025-10-05 23:08:29,994 - core.connection_manager - DEBUG - [connection_manager.py:130 - _flush_buffer()] - Flushing buffer for 1830913972 (4 messages)
2025-10-05 23:08:29,995 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:08:29,997 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD370>, 1830913972
2025-10-05 23:08:29,997 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:08:29,998 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD370>, 1830913972
2025-10-05 23:08:29,998 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:08:29,999 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD370>, 1830913972
2025-10-05 23:08:29,999 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:08:30,011 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD370>, 1830913972
2025-10-05 23:08:30,012 - core.connection_manager - DEBUG - [connection_manager.py:150 - _flush_buffer()] - Flushed 4 messages for 1830913972
2025-10-05 23:08:30,012 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972 содержит 0 сообщений
2025-10-05 23:08:30,013 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972
2025-10-05 23:08:30,013 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972 connected successfully
2025-10-05 23:12:57,010 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Способ получения смесевого твердого топлива с металлическим горючим.
2. Механическое перемешивание компонентов.
3. Использование металлического горючего в виде бидисперсной смеси порошков.
4. Использование порошка алюминия микронных размеров.
5. Использование нанопорошка алюминия.
6. Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%.
7. Перемешивание бидисперсной смеси до осредненного состояния.
8. Введение бидисперсной смеси в количестве 10-25 мас.%.
9. Введение бидисперсной смеси в полностью перемешанную смесь других компонентов.
10. Дополнительное перемешивание полученной массы в течение не менее 30 мин.
11. Вакуумирование полученной массы в течение не менее 30 мин.
12. Использование перхлората аммония в качестве окислителя.
13. Использование нитрата аммония в качестве окислителя.
14. Использование смешанного окислителя, включающего нитрат аммония и нитрамин.
15. Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего.
16. Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего.
17. Способ получения порошковой смеси бидисперсных керамических и металлических частиц.
18. Перемешивание порошков в жидкой среде.
19. Двухэтапное перемешивание.
20. Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды.
21. Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1.
22. Перемешивание керамических наночастиц в жидкой среде на первом этапе.
23. Продолжительность перемешивания на первом этапе не менее 15 минут.
24. Добавление металлических микрочастиц на втором этапе.
25. Перемешивание смеси на втором этапе.
26. Продолжительность перемешивания на втором этапе не менее 15 минут.
27. Удаление жидкости после перемешивания.
28. Удаление жидкости в сушильном шкафу.
29. Температура удаления жидкости не менее 80°C.
30. Продолжительность удаления жидкости не менее 24 часов.
31. Использование керамических наночастиц.
32. Диаметр керамических наночастиц от 30 до 140 нм.
33. Использование металлических микрочастиц.
34. Диаметр металлических микрочастиц от 20 до 180 мкм.
35. Массовое соотношение порошков и жидкости 1/2.
36. Массовое соотношение наночастиц и микрочастиц 1/19.
37. Способ получения дифениламина.
38. Термическая обработка анилина.
39. Использование катализатора.
40. Использование алюмооксидного катализатора.
41. Катализатор с кислым характером.
42. Катализатор с бидисперсной пористой структурой.
43. Суммарный объем пор катализатора равен или более 0,45 см³/г.
44. Объем пор катализатора с радиусом более не менее 0,27 см³/г.
45. Удельная поверхность катализатора не менее 200 м²/г.
46. Получение катализатора из гидроксида алюминия.
47. Использование термоактивированного или термомеханохимически активированного гидроксида алюминия.
48. Смешивание активированного гидроксида алюминия с ортофосфорной кислотой.
49. Смешивание в водной среде.
50. Присутствие азотной кислоты при смешении.
51. Пластификация смеси.
52. Пластификация при кислотном модуле 0,02 - 0,07.
53. Формование катализатора.
54. Сушка катализатора.
55. Прокаливание катализатора при повышенной температуре.
56. Провяливание катализатора на воздухе перед сушкой.
57. Продолжительность провяливания на воздухе не менее 12 часов.
58. Сушка при 100 °C.
59. Продолжительность сушки не менее 12 часов.
60. Прокаливание при 500 °C.
61. Гранулированный наноструктурированный алюмооксидный катализатор.
62. Катализатор содержит оксид алюминия.
63. Катализатор содержит натрий.
64. Катализатор дополнительно содержит серу, или фосфор, или хлор.
65. Содержание натрия от 0,005 до 0,02 мас.%.
66. Содержание серы от 0 до 5 мас.%.
67. Содержание фосфора от 0 до 2,8 мас.%.
68. Содержание хлора от 0 до 2,6 мас.%.
69. Бидисперсная пористая структура катализатора.
70. Объем микропор катализатора от 0,06 до 0,18 см³/г.
71. Объем мезопор катализатора от 0,2 до 0,32 см³/г.
72. Суммарный объем пор катализатора от 0,25 до 0,55 см³/г.
73. Средний диаметр пор катализатора от 3 до 5,5 нм.
74. Удельная поверхность катализатора от 200 до 350 м²/г.
75. Оксид алюминия представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы оксида алюминия.
76. Суммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы оксида алюминия от 60 до 70 мас.%.
77. Содержание γ-Al₂O₃ от 30 до 40 мас.%.
78. Гранулы катализатора цилиндрической формы диаметром 3-5 мм.
79. Гранулы катализатора формы трилистника с диаметром описанной окружности 1,6-3,2 мм.
80. Термическая активация гидраргиллита.
81. Гидратация продуктов термической активации гидраргиллита в кислом растворе.
82. Отмывка продуктов гидратации от примесных ионов.
83. Введение модифицирующих добавок на стадии пластификации.
84. Формование гранул методом экструзии.
85. Термическая обработка гранул.
86. Отмывка продуктов гидратации дистиллированной водой.
87. Отмывка продуктов гидратации слабыми растворами серной кислоты.
88. Отмывка продуктов гидратации слабыми растворами азотной кислоты.
89. Пластификация гидроксида алюминия растворами серной кислоты.
90. Пластификация гидроксида алюминия растворами соляной кислоты.
91. Пластификация гидроксида алюминия растворами ортофосфорной кислоты.
92. Пластификация гидроксида алюминия растворами азотной кислоты.
93. Модифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃.
94. Модифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃.
95. Модифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃.
96. Модифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃.
97. Использование продукта центробежной термической активации гидраргиллита.
98. Использование термоактивированного гидроксида алюминия.
99. Термическая обработка гранул гидроксида алюминия при температуре 500-550°С.
100. Способ получения этилена путем дегидратации этанола.
101. Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора.
102. Использование катализатора для получения этилена.
103. Проведение процесса получения этилена при температуре 350-450°С.
104. Проведение процесса получения этилена при времени контакта 0.2-4.0 с.
105. Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов.
106. Активный компонент катализатора - палладий.
107. Содержание палладия 0,01÷1,0 мас.%.
108. Регулируемый размер частиц активного компонента.
109. Размер частиц активного компонента от 1,5 до 20 нм.
110. Носитель активного компонента - бидисперсный силикагель.
111. Бидисперсный силикагель содержит щелочной металл.
112. Содержание щелочного металла в силикагеле не выше 0,01 мас.%.
113. Удельная поверхность бидисперсного силикагеля 150÷350 м²/г.
114. Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г.
115. Отсутствие микропор в бидисперсном силикагеле.
116. Наличие мезопор в бидисперсном силикагеле.
117. Радиус мезопор около 50 Å.
118. Объем мезопор 0,60÷0,85 см³/г.
119. Наличие макропор в бидисперсном силикагеле.
120. Радиус макропор 1000-5500 Å.
121. Объем макропор 0,15÷0,30 см³/г.
122. Пропитывание предварительно высушенного носителя.
123. Пропитывание водным раствором стабилизированного нитрата палладия.
124. Регулирование pH пропиточного раствора.
125. Сушка пропитанного носителя.
126. Прокаливание высушенного носителя на воздухе.
127. Восстановление прокаленного носителя в потоке водородсодержащего газа.
128. Добавление лимонной кислоты в пропиточный раствор.
129. Регулирование pH пропиточного раствора без введения катионов щелочных металлов.
130. Регулирование pH пропиточного раствора подщелачиванием водным раствором тетраметиламмоний гидроксида.
131. Способ очистки олефинов каталитическим гидрированием.
132. Гидрирование при повышенных температурах.
133. Использование катализатора для гидрирования.
134. Гидрирование при атмосферном давлении.
135. Температура гидрирования 50-200°С.
136. Объемная скорость подачи сырья 10000-20000 ч⁻¹.
137. Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой.
138. Использование гидроксида алюминия в виде гидратированного соединения.
139. Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия.
140. Содержание в гидратированном соединении до 10% гиббсита.
141. Размол гидроксида алюминия до частиц размером менее 20 мкм.
142. Количество частиц размером менее 20 мкм после размола более 70%.
143. Смешивание размолотого гидроксида алюминия с водой.
144. Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты.
145. Пластификация смеси.
146. Формование гранул из пластифицированного продукта.
147. Формование гранул последовательно в слое керосина.
148. Формование гранул последовательно в водном растворе аммиака.
149. Сушка полученных гранул.
150. Прокаливание полученных гранул.
151. Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия 200-650 г/л.
152. Промывка гранул после прокаливания водой.
153. Промывка гранул водой с pH 6-9.
154. Продолжительность промывки гранул 15 минут.
155. Термообработка промытых гранул.
156. Термообработка при температуре 250°C.
157. Каталитический реактор трубчатого типа.
158. Реактор для проведения сильно экзотермических реакций.
159. Реакции с адиабатическими разогревами 500 - 2500°C.
160. Наличие корпуса.
161. Наличие трубных решеток.
162. Наличие устройств для ввода реагентов.
163. Наличие устройств для вывода реагентов.
164. Наличие устройств для ввода хладагентов.
165. Наличие устройств для вывода хладагентов.
166. Наличие каталитически активных теплообменных трубок.
167. Соединение каталитически активных теплообменных трубок с трубными решетками.
168. Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки.
169. Нанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок.
170. Слой каталитически активного армированного порометаллического материала образован плоскими лентами.
171. Слой каталитически активного армированного порометаллического материала образован гофрированными лентами.
172. Бидисперсная структура нанесенного на поверхность трубки слоя.
173. Толщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм.
174. Равномерное нанесение слоя катализатора по длине трубки.
175. Неравномерное нанесение слоя катализатора по длине трубки.
176. Способ осуществления сильно экзотермических реакций.
177. Подача реагирующей смеси стехиометрического состава в межтрубное пространство.
178. Подача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство.
179. Межтрубное пространство образовано каталитически активными теплообменными трубками.
180. Подача хладоагента внутрь каталитически активных теплообменных трубок.
181. Способ получения пористого железо-калиевооксидного композита.
182. Приготовление шихты.
183. Шихта содержит кристаллогидрат нитрата железа.
184. Шихта содержит кристаллогидрат нитрата церия.
185. Шихта содержит нитрат калия.
186. Шихта содержит оксид молибдена.
187. Шихта содержит оксид титана.
188. Шихта содержит карбонат кальция.
189. Шихта содержит тетраэтоксисилан.
190. Компоненты шихты в стехиометрическом соотношении.
191. Импрегнирование в шихту выгорающей микродобавки продуктами гидролиза солей.
192. Получение продуктов гидролиза солей способом соосаждения.
193. Получение продуктов гидролиза солей способом золь-гель.
194. Использование диоксанлигнина березы в качестве выгорающей микродобавки.
195. Количество выгорающей микродобавки от 0,125 до 0,250 мас.%.
196. Формование образцов композита методом полусухого прессования.
197. Проведение обжига.
198. Обжиг в интервале температур от 20 до 700°С.
199. Скорость нагрева при обжиге 10°С/мин.
200. Изотермическая выдержка в течение 3 часов.
201. Формирование бидисперсной структуры в композите.
202. Пористый железо-калиевооксидный композит.
203. Композит содержит фазу оксида железа α-Fe2O3.
204. Композит содержит фазу оксида церия CeO2.
205. Композит содержит фазу молибдата калия K2MoO4.
206. Композит содержит фазу феррита калия состава KFeO2.
207. Композит содержит фазу феррита калия состава KFe11O17.
208. Бидисперсная структура композита.
209. Формирование бидисперсной структуры за счет введения диоксанлигнина березы.
210. Общий объем пор композита от 0,006 до 0,013 см³/г.
211. Диаметр мезопор композита от 16 до 40 нм.
212. Диаметр макропор композита от 75 до 130 нм.
213. Удельная поверхность композита от 2 до 5 м²/г.
214. Способ получения пористых порошковых материалов.
215. Нанесение на частицы порообразователя связующего.
216. Смешивание частиц порообразователя со связующим с порошком.
217. Формование шихты.
218. Спекание шихты.
219. Использование металлического порошка при смешивании.
220. Использование керамического порошка при смешивании.
221. Нанесение на частицы порообразователя не менее двух слоев керамического порошка.
222. Нанесение на частицы порообразователя не более пяти слоев керамического порошка.
223. Использование органического связующего при нанесении первого слоя керамического порошка.
224. Использование неорганического связующего при нанесении второго слоя керамического порошка.
225. Использование неорганического связющего при нанесении последующих слоев керамического порошка.
226. Использование гранул пенополистирола в качестве частиц порообразователя.
227. Размер частиц порообразователя 0,5-1 мм.
228. Использование водно-дисперсионного полиуретанового лака в качестве органического связующего.
229. Использование водного раствора силиката натрия в качестве неорганического связующего.
230. Способ соединения крупногабаритных порошковых деталей.
231. Приготовление шихты на основе железа.
232. Прессование деталей.
233. Нанесение на соединяемые поверхности слоя шликера на основе порошка железа.
234. Сборка деталей.
235. Размещение пропитывающих брикетов на основе меди.
236. Спекание с одновременной инфильтрацией.
237. Использование бидисперсных порошков для приготовления шликера.
238. Расположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями.
239. Нанесение слоя шликера на поверхность соединяемых деталей и непроницаемой перегородки.
240. Размещение пропитывающих брикетов сверху и снизу сборки.
2025-10-05 23:12:57,024 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-05 23:12:57,025 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'completed', 'message': '1. Способ получения смесевого твердого топлива с металлическим горючим.\n2. Механическое перемешивание компонентов.\n3. Использование металлического горючего в виде бидисперсной смеси порошков.\n4. Использование порошка алюминия микронных размеров.\n5. Использование нанопорошка алюминия.\n6. Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%.\n7. Перемешивание бидисперсной смеси до осредненного состояния.\n8. Введение бидисперсной смеси в количестве 10-25 мас.%.\n9. Введение бидисперсной смеси в полностью перемешанную смесь других компонентов.\n10. Дополнительное перемешивание полученной массы в течение не менее 30 мин.\n11. Вакуумирование полученной массы в течение не менее 30 мин.\n12. Использование перхлората аммония в качестве окислителя.\n13. Использование нитрата аммония в качестве окислителя.\n14. Использование смешанного окислителя, включающего нитрат аммония и нитрамин.\n15. Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего.\n16. Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего.\n17. Способ получения порошковой смеси бидисперсных керамических и металлических частиц.\n18. Перемешивание порошков в жидкой среде.\n19. Двухэтапное перемешивание.\n20. Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды.\n21. Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1.\n22. Перемешивание керамических наночастиц в жидкой среде на первом этапе.\n23. Продолжительность перемешивания на первом этапе не менее 15 минут.\n24. Добавление металлических микрочастиц на втором этапе.\n25. Перемешивание смеси на втором этапе.\n26. Продолжительность перемешивания на втором этапе не менее 15 минут.\n27. Удаление жидкости после перемешивания.\n28. Удаление жидкости в сушильном шкафу.\n29. Температура удаления жидкости не менее 80°C.\n30. Продолжительность удаления жидкости не менее 24 часов.\n31. Использование керамических наночастиц.\n32. Диаметр керамических наночастиц от 30 до 140 нм.\n33. Использование металлических микрочастиц.\n34. Диаметр металлических микрочастиц от 20 до 180 мкм.\n35. Массовое соотношение порошков и жидкости 1/2.\n36. Массовое соотношение наночастиц и микрочастиц 1/19.\n37. Способ получения дифениламина.\n38. Термическая обработка анилина.\n39. Использование катализатора.\n40. Использование алюмооксидного катализатора.\n41. Катализатор с кислым характером.\n42. Катализатор с бидисперсной пористой структурой.\n43. Суммарный объем пор катализатора равен или более 0,45 см³/г.\n44. Объем пор катализатора с радиусом более не менее 0,27 см³/г.\n45. Удельная поверхность катализатора не менее 200 м²/г.\n46. Получение катализатора из гидроксида алюминия.\n47. Использование термоактивированного или термомеханохимически активированного гидроксида алюминия.\n48. Смешивание активированного гидроксида алюминия с ортофосфорной кислотой.\n49. Смешивание в водной среде.\n50. Присутствие азотной кислоты при смешении.\n51. Пластификация смеси.\n52. Пластификация при кислотном модуле 0,02 - 0,07.\n53. Формование катализатора.\n54. Сушка катализатора.\n55. Прокаливание катализатора при повышенной температуре.\n56. Провяливание катализатора на воздухе перед сушкой.\n57. Продолжительность провяливания на воздухе не менее 12 часов.\n58. Сушка при 100 °C.\n59. Продолжительность сушки не менее 12 часов.\n60. Прокаливание при 500 °C.\n61. Гранулированный наноструктурированный алюмооксидный катализатор.\n62. Катализатор содержит оксид алюминия.\n63. Катализатор содержит натрий.\n64. Катализатор дополнительно содержит серу, или фосфор, или хлор.\n65. Содержание натрия от 0,005 до 0,02 мас.%.\n66. Содержание серы от 0 до 5 мас.%.\n67. Содержание фосфора от 0 до 2,8 мас.%.\n68. Содержание хлора от 0 до 2,6 мас.%.\n69. Бидисперсная пористая структура катализатора.\n70. Объем микропор катализатора от 0,06 до 0,18 см³/г.\n71. Объем мезопор катализатора от 0,2 до 0,32 см³/г.\n72. Суммарный объем пор катализатора от 0,25 до 0,55 см³/г.\n73. Средний диаметр пор катализатора от 3 до 5,5 нм.\n74. Удельная поверхность катализатора от 200 до 350 м²/г.\n75. Оксид алюминия представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы оксида алюминия.\n76. Суммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы оксида алюминия от 60 до 70 мас.%.\n77. Содержание γ-Al₂O₃ от 30 до 40 мас.%.\n78. Гранулы катализатора цилиндрической формы диаметром 3-5 мм.\n79. Гранулы катализатора формы трилистника с диаметром описанной окружности 1,6-3,2 мм.\n80. Термическая активация гидраргиллита.\n81. Гидратация продуктов термической активации гидраргиллита в кислом растворе.\n82. Отмывка продуктов гидратации от примесных ионов.\n83. Введение модифицирующих добавок на стадии пластификации.\n84. Формование гранул методом экструзии.\n85. Термическая обработка гранул.\n86. Отмывка продуктов гидратации дистиллированной водой.\n87. Отмывка продуктов гидратации слабыми растворами серной кислоты.\n88. Отмывка продуктов гидратации слабыми растворами азотной кислоты.\n89. Пластификация гидроксида алюминия растворами серной кислоты.\n90. Пластификация гидроксида алюминия растворами соляной кислоты.\n91. Пластификация гидроксида алюминия растворами ортофосфорной кислоты.\n92. Пластификация гидроксида алюминия растворами азотной кислоты.\n93. Модифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃.\n94. Модифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃.\n95. Модифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃.\n96. Модифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃.\n97. Использование продукта центробежной термической активации гидраргиллита.\n98. Использование термоактивированного гидроксида алюминия.\n99. Термическая обработка гранул гидроксида алюминия при температуре 500-550°С.\n100. Способ получения этилена путем дегидратации этанола.\n101. Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора.\n102. Использование катализатора для получения этилена.\n103. Проведение процесса получения этилена при температуре 350-450°С.\n104. Проведение процесса получения этилена при времени контакта 0.2-4.0 с.\n105. Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов.\n106. Активный компонент катализатора - палладий.\n107. Содержание палладия 0,01÷1,0 мас.%.\n108. Регулируемый размер частиц активного компонента.\n109. Размер частиц активного компонента от 1,5 до 20 нм.\n110. Носитель активного компонента - бидисперсный силикагель.\n111. Бидисперсный силикагель содержит щелочной металл.\n112. Содержание щелочного металла в силикагеле не выше 0,01 мас.%.\n113. Удельная поверхность бидисперсного силикагеля 150÷350 м²/г.\n114. Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г.\n115. Отсутствие микропор в бидисперсном силикагеле.\n116. Наличие мезопор в бидисперсном силикагеле.\n117. Радиус мезопор около 50 Å.\n118. Объем мезопор 0,60÷0,85 см³/г.\n119. Наличие макропор в бидисперсном силикагеле.\n120. Радиус макропор 1000-5500 Å.\n121. Объем макропор 0,15÷0,30 см³/г.\n122. Пропитывание предварительно высушенного носителя.\n123. Пропитывание водным раствором стабилизированного нитрата палладия.\n124. Регулирование pH пропиточного раствора.\n125. Сушка пропитанного носителя.\n126. Прокаливание высушенного носителя на воздухе.\n127. Восстановление прокаленного носителя в потоке водородсодержащего газа.\n128. Добавление лимонной кислоты в пропиточный раствор.\n129. Регулирование pH пропиточного раствора без введения катионов щелочных металлов.\n130. Регулирование pH пропиточного раствора подщелачиванием водным раствором тетраметиламмоний гидроксида.\n131. Способ очистки олефинов каталитическим гидрированием.\n132. Гидрирование при повышенных температурах.\n133. Использование катализатора для гидрирования.\n134. Гидрирование при атмосферном давлении.\n135. Температура гидрирования 50-200°С.\n136. Объемная скорость подачи сырья 10000-20000 ч⁻¹.\n137. Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой.\n138. Использование гидроксида алюминия в виде гидратированного соединения.\n139. Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия.\n140. Содержание в гидратированном соединении до 10% гиббсита.\n141. Размол гидроксида алюминия до частиц размером менее 20 мкм.\n142. Количество частиц размером менее 20 мкм после размола более 70%.\n143. Смешивание размолотого гидроксида алюминия с водой.\n144. Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты.\n145. Пластификация смеси.\n146. Формование гранул из пластифицированного продукта.\n147. Формование гранул последовательно в слое керосина.\n148. Формование гранул последовательно в водном растворе аммиака.\n149. Сушка полученных гранул.\n150. Прокаливание полученных гранул.\n151. Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия 200-650 г/л.\n152. Промывка гранул после прокаливания водой.\n153. Промывка гранул водой с pH 6-9.\n154. Продолжительность промывки гранул 15 минут.\n155. Термообработка промытых гранул.\n156. Термообработка при температуре 250°C.\n157. Каталитический реактор трубчатого типа.\n158. Реактор для проведения сильно экзотермических реакций.\n159. Реакции с адиабатическими разогревами 500 - 2500°C.\n160. Наличие корпуса.\n161. Наличие трубных решеток.\n162. Наличие устройств для ввода реагентов.\n163. Наличие устройств для вывода реагентов.\n164. Наличие устройств для ввода хладагентов.\n165. Наличие устройств для вывода хладагентов.\n166. Наличие каталитически активных теплообменных трубок.\n167. Соединение каталитически активных теплообменных трубок с трубными решетками.\n168. Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки.\n169. Нанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок.\n170. Слой каталитически активного армированного порометаллического материала образован плоскими лентами.\n171. Слой каталитически активного армированного порометаллического материала образован гофрированными лентами.\n172. Бидисперсная структура нанесенного на поверхность трубки слоя.\n173. Толщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм.\n174. Равномерное нанесение слоя катализатора по длине трубки.\n175. Неравномерное нанесение слоя катализатора по длине трубки.\n176. Способ осуществления сильно экзотермических реакций.\n177. Подача реагирующей смеси стехиометрического состава в межтрубное пространство.\n178. Подача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство.\n179. Межтрубное пространство образовано каталитически активными теплообменными трубками.\n180. Подача хладоагента внутрь каталитически активных теплообменных трубок.\n181. Способ получения пористого железо-калиевооксидного композита.\n182. Приготовление шихты.\n183. Шихта содержит кристаллогидрат нитрата железа.\n184. Шихта содержит кристаллогидрат нитрата церия.\n185. Шихта содержит нитрат калия.\n186. Шихта содержит оксид молибдена.\n187. Шихта содержит оксид титана.\n188. Шихта содержит карбонат кальция.\n189. Шихта содержит тетраэтоксисилан.\n190. Компоненты шихты в стехиометрическом соотношении.\n191. Импрегнирование в шихту выгорающей микродобавки продуктами гидролиза солей.\n192. Получение продуктов гидролиза солей способом соосаждения.\n193. Получение продуктов гидролиза солей способом золь-гель.\n194. Использование диоксанлигнина березы в качестве выгорающей микродобавки.\n195. Количество выгорающей микродобавки от 0,125 до 0,250 мас.%.\n196. Формование образцов композита методом полусухого прессования.\n197. Проведение обжига.\n198. Обжиг в интервале температур от 20 до 700°С.\n199. Скорость нагрева при обжиге 10°С/мин.\n200. Изотермическая выдержка в течение 3 часов.\n201. Формирование бидисперсной структуры в композите.\n202. Пористый железо-калиевооксидный композит.\n203. Композит содержит фазу оксида железа α-Fe2O3.\n204. Композит содержит фазу оксида церия CeO2.\n205. Композит содержит фазу молибдата калия K2MoO4.\n206. Композит содержит фазу феррита калия состава KFeO2.\n207. Композит содержит фазу феррита калия состава KFe11O17.\n208. Бидисперсная структура композита.\n209. Формирование бидисперсной структуры за счет введения диоксанлигнина березы.\n210. Общий объем пор композита от 0,006 до 0,013 см³/г.\n211. Диаметр мезопор композита от 16 до 40 нм.\n212. Диаметр макропор композита от 75 до 130 нм.\n213. Удельная поверхность композита от 2 до 5 м²/г.\n214. Способ получения пористых порошковых материалов.\n215. Нанесение на частицы порообразователя связующего.\n216. Смешивание частиц порообразователя со связующим с порошком.\n217. Формование шихты.\n218. Спекание шихты.\n219. Использование металлического порошка при смешивании.\n220. Использование керамического порошка при смешивании.\n221. Нанесение на частицы порообразователя не менее двух слоев керамического порошка.\n222. Нанесение на частицы порообразователя не более пяти слоев керамического порошка.\n223. Использование органического связующего при нанесении первого слоя керамического порошка.\n224. Использование неорганического связующего при нанесении второго слоя керамического порошка.\n225. Использование неорганического связющего при нанесении последующих слоев керамического порошка.\n226. Использование гранул пенополистирола в качестве частиц порообразователя.\n227. Размер частиц порообразователя 0,5-1 мм.\n228. Использование водно-дисперсионного полиуретанового лака в качестве органического связующего.\n229. Использование водного раствора силиката натрия в качестве неорганического связующего.\n230. Способ соединения крупногабаритных порошковых деталей.\n231. Приготовление шихты на основе железа.\n232. Прессование деталей.\n233. Нанесение на соединяемые поверхности слоя шликера на основе порошка железа.\n234. Сборка деталей.\n235. Размещение пропитывающих брикетов на основе меди.\n236. Спекание с одновременной инфильтрацией.\n237. Использование бидисперсных порошков для приготовления шликера.\n238. Расположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями.\n239. Нанесение слоя шликера на поверхность соединяемых деталей и непроницаемой перегородки.\n240. Размещение пропитывающих брикетов сверху и снизу сборки.', 'stage': 'completed'}
2025-10-05 23:12:57,060 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD370>, 1830913972
2025-10-05 23:12:57,143 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972 disconnected
2025-10-05 23:12:57,144 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:12:57,144 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972 cleanup completed
2025-10-05 23:13:06,445 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:13:06,446 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:13:06,447 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:13:06,448 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:13:06,448 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:13:06,449 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:13:06,449 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:13:06,449 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FF50>
2025-10-05 23:13:06,450 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:13:06,450 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FF50>
2025-10-05 23:13:06,450 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:13:06,450 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:13:06,451 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FF50>
2025-10-05 23:13:06,451 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:13:06,452 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:13:06,452 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:13:06,453 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:13:06,454 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:13:06,454 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:13:06,455 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:13:06,455 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:13:06,455 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:13:06,456 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:13:06,456 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-05 23:13:06,457 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:13:06,457 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-05 23:13:06,457 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 1
2025-10-05 23:13:06,458 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-05 23:13:06,458 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:13:06,458 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-05 23:13:06,458 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 2
2025-10-05 23:13:06,459 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-05 23:13:06,459 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:13:06,459 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-05 23:13:06,460 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 3
2025-10-05 23:13:06,460 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-05 23:13:06,461 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:13:06,461 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-05 23:13:06,461 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 4
2025-10-05 23:13:06,465 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972
2025-10-05 23:13:06,465 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972 создан новый список соединений
2025-10-05 23:13:06,465 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972: 1
2025-10-05 23:13:06,465 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972 содержит 4 сообщений
2025-10-05 23:13:06,466 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:13:06,466 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972: 1 соединений
2025-10-05 23:13:06,467 - core.connection_manager - DEBUG - [connection_manager.py:187 - print_active_connections()] - 📦 Буферизованные сообщения:
2025-10-05 23:13:06,467 - core.connection_manager - DEBUG - [connection_manager.py:189 - print_active_connections()] -   1830913972: 4 сообщений
2025-10-05 23:13:06,467 - core.connection_manager - DEBUG - [connection_manager.py:190 - print_active_connections()] - buffer: deque([<core.connection_manager.BufferedMessage object at 0x0000022F6346E9E0>, <core.connection_manager.BufferedMessage object at 0x0000022F634E9C70>, <core.connection_manager.BufferedMessage object at 0x0000022F634AA470>, <core.connection_manager.BufferedMessage object at 0x0000022F634A9F20>], maxlen=50)
2025-10-05 23:13:06,468 - core.connection_manager - DEBUG - [connection_manager.py:130 - _flush_buffer()] - Flushing buffer for 1830913972 (4 messages)
2025-10-05 23:13:06,468 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:13:06,470 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD400>, 1830913972
2025-10-05 23:13:06,470 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:13:06,471 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD400>, 1830913972
2025-10-05 23:13:06,471 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:13:06,471 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD400>, 1830913972
2025-10-05 23:13:06,472 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:13:06,472 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD400>, 1830913972
2025-10-05 23:13:06,473 - core.connection_manager - DEBUG - [connection_manager.py:150 - _flush_buffer()] - Flushed 4 messages for 1830913972
2025-10-05 23:13:06,474 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972 содержит 0 сообщений
2025-10-05 23:13:06,474 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972
2025-10-05 23:13:06,474 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972 connected successfully
2025-10-05 23:13:35,269 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Способ получения бидисперсных порошковых смесей оксидов металлов.
2. Приготовление однородной смеси из нитрата металла и топливного компонента.
3. Использование нитрата металла в качестве окислителя.
4. Использование топливного компонента в качестве восстановителя.
5. Использование глицерина в качестве топливного компонента.
6. Использование тиомочевины в качестве топливного компонента.
7. Использование этиленгликоля в качестве топливного компонента.
8. Пропитка микропорошка оксида приготовленной смесью.
9. Использование готового микропорошка оксида.
10. Распределение реагентов на поверхности частиц микропорошка.
11. Удаление воды из системы выпариванием.
12. Сушка пропитанной смеси.
13. Образование сухой смеси после удаления воды.
14. Нагрев сухой смеси до заданной температуры.
15. Инициация окислительно-восстановительной реакции.
16. Проведение экзотермической реакции между нитратом металла и топливным компонентом.
17. Осуществление самораспространяющейся реакции горения.
18. Формирование нанопорошка оксида металла in situ.
19. Формирование нанопорошка на поверхности микронных частиц.
20. Создание бидисперсной смеси.
21. Система для проведения СВС-смешения.
22. Емкость для приготовления начальной пасты.
23. Емкость для смешения начальной пасты.
24. Оборудование для пропитки микропорошка подготовленной смесью.
25. Установка для выпаривания воды.
26. Установка для сушки.
27. Нагревательное устройство для инициации реакции.
2025-10-05 23:13:35,270 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-05 23:13:35,270 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'completed', 'message': '1. Способ получения бидисперсных порошковых смесей оксидов металлов.\n2. Приготовление однородной смеси из нитрата металла и топливного компонента.\n3. Использование нитрата металла в качестве окислителя.\n4. Использование топливного компонента в качестве восстановителя.\n5. Использование глицерина в качестве топливного компонента.\n6. Использование тиомочевины в качестве топливного компонента.\n7. Использование этиленгликоля в качестве топливного компонента.\n8. Пропитка микропорошка оксида приготовленной смесью.\n9. Использование готового микропорошка оксида.\n10. Распределение реагентов на поверхности частиц микропорошка.\n11. Удаление воды из системы выпариванием.\n12. Сушка пропитанной смеси.\n13. Образование сухой смеси после удаления воды.\n14. Нагрев сухой смеси до заданной температуры.\n15. Инициация окислительно-восстановительной реакции.\n16. Проведение экзотермической реакции между нитратом металла и топливным компонентом.\n17. Осуществление самораспространяющейся реакции горения.\n18. Формирование нанопорошка оксида металла in situ.\n19. Формирование нанопорошка на поверхности микронных частиц.\n20. Создание бидисперсной смеси.\n21. Система для проведения СВС-смешения.\n22. Емкость для приготовления начальной пасты.\n23. Емкость для смешения начальной пасты.\n24. Оборудование для пропитки микропорошка подготовленной смесью.\n25. Установка для выпаривания воды.\n26. Установка для сушки.\n27. Нагревательное устройство для инициации реакции.', 'stage': 'completed'}
2025-10-05 23:13:35,271 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD400>, 1830913972
2025-10-05 23:13:35,275 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972 disconnected
2025-10-05 23:13:35,276 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:13:35,276 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972 cleanup completed
2025-10-05 23:15:18,786 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2
2025-10-05 23:15:18,786 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:15:18,786 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2 создан новый список соединений
2025-10-05 23:15:18,787 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2: 1
2025-10-05 23:15:18,787 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2 содержит 0 сообщений
2025-10-05 23:15:18,788 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:15:18,788 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2: 1 соединений
2025-10-05 23:15:18,788 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2 содержит 0 сообщений
2025-10-05 23:15:18,788 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2
2025-10-05 23:15:18,789 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2 connected successfully
2025-10-05 23:15:18,791 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — эксперт по патентном, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:15:18,792 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:15:18,792 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:15:18,793 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:15:18,793 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:15:18,793 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:15:18,794 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C980>
2025-10-05 23:15:18,794 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:15:18,795 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C980>
2025-10-05 23:15:18,795 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:15:18,795 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:15:18,796 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C980>
2025-10-05 23:15:18,796 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:15:18,797 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:15:18,797 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:15:18,799 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:15:18,799 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:15:18,800 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:15:18,800 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:15:18,800 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:15:18,801 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:15:18,801 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:15:18,801 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2
2025-10-05 23:15:18,802 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:15:18,802 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDAC0>, 1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2
2025-10-05 23:15:18,803 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2
2025-10-05 23:15:18,803 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:15:18,804 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDAC0>, 1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2
2025-10-05 23:15:18,804 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2
2025-10-05 23:15:18,805 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:15:18,805 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDAC0>, 1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2
2025-10-05 23:15:18,806 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2
2025-10-05 23:15:18,806 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:15:18,807 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDAC0>, 1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2
2025-10-05 23:15:44,844 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Способ получения смесевого твердого топлива с металлическим горючим.
2. Механическое перемешивание окислителя, горючего-связующего, металлического горючего и технологических добавок.
3. Использование в качестве металлического горючего бидисперсной смеси порошка алюминия микронных размеров и нанопорошка алюминия.
4. Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%.
5. Перемешивание бидисперсной смеси порошков алюминия до осредненного состояния.
6. Введение бидисперсной смеси порошков алюминия в количестве 10-25 мас.%.
7. Введение бидисперсной смеси порошков алюминия в полностью перемешанную смесь окислителя, горючего-связующего и технологических добавок.
8. Дополнительное перемешивание полученной топливной массы в течение не менее 30 мин.
9. Вакуумирование полученной топливной массы в течение не менее 30 мин.
10. Использование в качестве окислителя перхлората аммония.
11. Использование в качестве окислителя нитрата аммония.
12. Использование в качестве окислителя смешанного окислителя, включающего нитрат аммония и нитрамин.
13. Использование в качестве горючего-связующего каучуков.
14. Использование в качестве горючего-связующего каучуков, пластифицированных трансформаторным маслом.
15. Использование в качестве горючего-связующего каучуков, пластифицированных нитросодержащими соединениями.
2025-10-05 23:15:44,845 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2
2025-10-05 23:15:44,846 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2, message: {'status': 'completed', 'message': '1. Способ получения смесевого твердого топлива с металлическим горючим.\n2. Механическое перемешивание окислителя, горючего-связующего, металлического горючего и технологических добавок.\n3. Использование в качестве металлического горючего бидисперсной смеси порошка алюминия микронных размеров и нанопорошка алюминия.\n4. Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%.\n5. Перемешивание бидисперсной смеси порошков алюминия до осредненного состояния.\n6. Введение бидисперсной смеси порошков алюминия в количестве 10-25 мас.%.\n7. Введение бидисперсной смеси порошков алюминия в полностью перемешанную смесь окислителя, горючего-связующего и технологических добавок.\n8. Дополнительное перемешивание полученной топливной массы в течение не менее 30 мин.\n9. Вакуумирование полученной топливной массы в течение не менее 30 мин.\n10. Использование в качестве окислителя перхлората аммония.\n11. Использование в качестве окислителя нитрата аммония.\n12. Использование в качестве окислителя смешанного окислителя, включающего нитрат аммония и нитрамин.\n13. Использование в качестве горючего-связующего каучуков.\n14. Использование в качестве горючего-связующего каучуков, пластифицированных трансформаторным маслом.\n15. Использование в качестве горючего-связующего каучуков, пластифицированных нитросодержащими соединениями.', 'stage': 'completed'}
2025-10-05 23:15:44,849 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDAC0>, 1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2
2025-10-05 23:15:44,864 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2 disconnected
2025-10-05 23:15:44,865 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:15:44,865 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:b8037167-7f5f-49ad-90c2-fab4d83601a2 cleanup completed
2025-10-05 23:15:44,868 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9
2025-10-05 23:15:44,868 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9 создан новый список соединений
2025-10-05 23:15:44,869 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9: 1
2025-10-05 23:15:44,869 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9 содержит 0 сообщений
2025-10-05 23:15:44,870 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:15:44,870 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9: 1 соединений
2025-10-05 23:15:44,871 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9 содержит 0 сообщений
2025-10-05 23:15:44,871 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9
2025-10-05 23:15:44,871 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9 connected successfully
2025-10-05 23:15:44,873 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:15:44,874 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — эксперт по патентном, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:15:44,876 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:15:44,876 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:15:44,877 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:15:44,877 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:15:44,878 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:15:44,878 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CB40>
2025-10-05 23:15:44,878 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:15:44,878 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CB40>
2025-10-05 23:15:44,878 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:15:44,878 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:15:44,879 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CB40>
2025-10-05 23:15:44,879 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:15:44,880 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:15:44,881 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:15:44,882 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:15:44,882 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:15:44,883 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:15:44,883 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:15:44,884 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:15:44,884 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:15:44,885 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:15:44,885 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9
2025-10-05 23:15:44,886 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:15:44,886 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDAC0>, 1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9
2025-10-05 23:15:44,887 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9
2025-10-05 23:15:44,887 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:15:44,888 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDAC0>, 1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9
2025-10-05 23:15:44,888 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9
2025-10-05 23:15:44,888 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:15:44,889 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDAC0>, 1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9
2025-10-05 23:15:44,890 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9
2025-10-05 23:15:44,890 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:15:44,891 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDAC0>, 1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9
2025-10-05 23:16:08,498 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Перемешивание порошков в жидкой среде проводят в два этапа.
2. В качестве жидкой среды используют раствор петролейного эфира и стеариновой кислоты.
3. Массовое соотношение петролейного эфира и стеариновой кислоты в растворе составляет 199/1.
4. На первом этапе перемешивают керамические наночастицы в жидкой среде.
5. Продолжительность перемешивания на первом этапе составляет не менее 15 минут.
6. На втором этапе в полученную смесь добавляют металлические микрочастицы.
7. На втором этапе проводят перемешивание полученной смеси.
8. Продолжительность перемешивания на втором этапе составляет не менее 15 минут.
9. После перемешивания проводят удаление жидкости.
10. Удаление жидкости осуществляют в сушильном шкафу.
11. Температура удаления жидкости в сушильном шкафу составляет не менее 80°С.
12. Продолжительность удаления жидкости составляет не менее 24 часов.
13. Используют керамические наночастицы.
14. Диаметр керамических наночастиц находится в диапазоне от 30 до 140 нм.
15. Используют металлические микрочастицы.
16. Диаметр металлических микрочастиц находится в диапазоне от 20 до 180 мкм.
17. Массовые доли порошков и жидкости выбирают в соотношении 1/2.
18. Массовые доли наночастиц и микрочастиц выбирают в соотношении 1/19.
2025-10-05 23:16:08,499 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9
2025-10-05 23:16:08,499 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9, message: {'status': 'completed', 'message': '1. Перемешивание порошков в жидкой среде проводят в два этапа.\n2. В качестве жидкой среды используют раствор петролейного эфира и стеариновой кислоты.\n3. Массовое соотношение петролейного эфира и стеариновой кислоты в растворе составляет 199/1.\n4. На первом этапе перемешивают керамические наночастицы в жидкой среде.\n5. Продолжительность перемешивания на первом этапе составляет не менее 15 минут.\n6. На втором этапе в полученную смесь добавляют металлические микрочастицы.\n7. На втором этапе проводят перемешивание полученной смеси.\n8. Продолжительность перемешивания на втором этапе составляет не менее 15 минут.\n9. После перемешивания проводят удаление жидкости.\n10. Удаление жидкости осуществляют в сушильном шкафу.\n11. Температура удаления жидкости в сушильном шкафу составляет не менее 80°С.\n12. Продолжительность удаления жидкости составляет не менее 24 часов.\n13. Используют керамические наночастицы.\n14. Диаметр керамических наночастиц находится в диапазоне от 30 до 140 нм.\n15. Используют металлические микрочастицы.\n16. Диаметр металлических микрочастиц находится в диапазоне от 20 до 180 мкм.\n17. Массовые доли порошков и жидкости выбирают в соотношении 1/2.\n18. Массовые доли наночастиц и микрочастиц выбирают в соотношении 1/19.', 'stage': 'completed'}
2025-10-05 23:16:08,503 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDAC0>, 1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9
2025-10-05 23:16:08,515 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9 disconnected
2025-10-05 23:16:08,515 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:16:08,516 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:9dc41a08-d9e6-4128-a4a8-14dad7c444a9 cleanup completed
2025-10-05 23:16:08,519 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c
2025-10-05 23:16:08,519 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c создан новый список соединений
2025-10-05 23:16:08,520 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c: 1
2025-10-05 23:16:08,521 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c содержит 0 сообщений
2025-10-05 23:16:08,521 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:16:08,522 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c: 1 соединений
2025-10-05 23:16:08,522 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c содержит 0 сообщений
2025-10-05 23:16:08,522 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c
2025-10-05 23:16:08,523 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c connected successfully
2025-10-05 23:16:08,524 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:16:08,525 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — эксперт по патентном, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:16:08,527 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:16:08,527 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:16:08,528 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:16:08,528 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:16:08,529 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:16:08,529 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C360>
2025-10-05 23:16:08,530 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:16:08,531 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C360>
2025-10-05 23:16:08,531 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:16:08,532 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:16:08,532 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C360>
2025-10-05 23:16:08,532 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:16:08,533 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:16:08,535 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:16:08,536 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:16:08,537 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:16:08,537 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:16:08,538 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:16:08,538 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:16:08,538 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:16:08,539 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:16:08,539 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c
2025-10-05 23:16:08,540 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:16:08,541 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDAC0>, 1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c
2025-10-05 23:16:08,541 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c
2025-10-05 23:16:08,542 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:16:08,542 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDAC0>, 1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c
2025-10-05 23:16:08,542 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c
2025-10-05 23:16:08,543 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:16:08,543 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDAC0>, 1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c
2025-10-05 23:16:08,544 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c
2025-10-05 23:16:08,544 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:16:08,545 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDAC0>, 1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c
2025-10-05 23:16:28,497 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Способ получения дифениламина термической обработкой анилина.
2. Осуществление способа в присутствии алюмооксидного катализатора кислого характера.
3. Катализатор имеет бидисперсную пористую структуру.
4. Суммарный объем пор катализатора равен или более 0,45 см³/г.
5. Объем пор катализатора с радиусом более не менее 0,27 см³/г.
6. Удельная поверхность катализатора не менее 200 м²/г.
7. Катализатор получен из термо- или термомеханохимически активированного гидроксида алюминия.
8. Катализатор получен смешением активированного гидроксида алюминия с ортофосфорной кислотой.
9. Катализатор пластифицирован.
10. Пластификация катализатора осуществляется при кислотном модуле 0,02-0,07.
11. Перед сушкой катализатор провяливают на воздухе.
12. Катализатор формуют после пластификации.
13. Катализатор сушат после провяливания.
14. Катализатор прокаливают при повышенной температуре после сушки.
15. Использование катализатора, провяленного на воздухе не менее 12 ч.
16. Использование катализатора, высушенного при 100 °C не менее 12 ч после провяливания.
17. Использование катализатора, прокаленного при 500 °C после сушки.
2025-10-05 23:16:28,498 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c
2025-10-05 23:16:28,499 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c, message: {'status': 'completed', 'message': '1. Способ получения дифениламина термической обработкой анилина.\n2. Осуществление способа в присутствии алюмооксидного катализатора кислого характера.\n3. Катализатор имеет бидисперсную пористую структуру.\n4. Суммарный объем пор катализатора равен или более 0,45 см³/г.\n5. Объем пор катализатора с радиусом более не менее 0,27 см³/г.\n6. Удельная поверхность катализатора не менее 200 м²/г.\n7. Катализатор получен из термо- или термомеханохимически активированного гидроксида алюминия.\n8. Катализатор получен смешением активированного гидроксида алюминия с ортофосфорной кислотой.\n9. Катализатор пластифицирован.\n10. Пластификация катализатора осуществляется при кислотном модуле 0,02-0,07.\n11. Перед сушкой катализатор провяливают на воздухе.\n12. Катализатор формуют после пластификации.\n13. Катализатор сушат после провяливания.\n14. Катализатор прокаливают при повышенной температуре после сушки.\n15. Использование катализатора, провяленного на воздухе не менее 12 ч.\n16. Использование катализатора, высушенного при 100 °C не менее 12 ч после провяливания.\n17. Использование катализатора, прокаленного при 500 °C после сушки.', 'stage': 'completed'}
2025-10-05 23:16:28,500 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDAC0>, 1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c
2025-10-05 23:16:28,514 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:16:28,514 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f
2025-10-05 23:16:28,515 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f создан новый список соединений
2025-10-05 23:16:28,516 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f: 1
2025-10-05 23:16:28,516 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f содержит 0 сообщений
2025-10-05 23:16:28,516 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:16:28,516 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c: 1 соединений
2025-10-05 23:16:28,517 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f: 1 соединений
2025-10-05 23:16:28,517 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f содержит 0 сообщений
2025-10-05 23:16:28,517 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f
2025-10-05 23:16:28,517 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f connected successfully
2025-10-05 23:16:28,517 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c disconnected
2025-10-05 23:16:28,518 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:16:28,518 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f: 1 соединений
2025-10-05 23:16:28,518 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:d8258e8b-3bf2-46f3-9837-b5b55e23094c cleanup completed
2025-10-05 23:16:28,520 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — эксперт по патентном, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:16:28,522 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:16:28,522 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:16:28,523 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:16:28,523 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:16:28,524 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:16:28,524 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C750>
2025-10-05 23:16:28,524 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:16:28,525 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C750>
2025-10-05 23:16:28,525 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:16:28,526 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:16:28,526 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C750>
2025-10-05 23:16:28,526 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:16:28,527 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:16:28,528 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:16:28,529 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:16:28,530 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:16:28,530 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:16:28,530 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:16:28,531 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:16:28,531 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:16:28,531 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:16:28,532 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f
2025-10-05 23:16:28,532 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:16:28,533 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE330>, 1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f
2025-10-05 23:16:28,533 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f
2025-10-05 23:16:28,534 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:16:28,534 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE330>, 1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f
2025-10-05 23:16:28,535 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f
2025-10-05 23:16:28,535 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:16:28,535 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE330>, 1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f
2025-10-05 23:16:28,536 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f
2025-10-05 23:16:28,536 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:16:28,537 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE330>, 1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f
2025-10-05 23:17:23,557 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Гранулированный наноструктурированный алюмооксидный катализатор процесса дегидратации этанола в этилен.
2. Содержание оксида алюминия.
3. Содержание натрия в количестве 0,005-0,02 мас.%.
4. Содержание серы в количестве 0-5 мас.%.
5. Содержание фосфора в количестве 0-2,8 мас.%.
6. Содержание хлора в количестве 0-2,6 мас.%.
7. Бидисперсная пористая структура.
8. Объем микропор от 0,06 до 0,18 см³/г.
9. Объем мезопор от 0,2 до 0,32 см³/г.
10. Суммарный объем пор от 0,25 до 0,55 см³/г.
11. Средний диаметр пор от 3 до 5,5 нм.
12. Удельная поверхность катализатора от 200 до 350 м²/г.
13. Оксид алюминия представляет собой смесь γ-Al2O3, χ-Al2O3 и рентгеноаморфной фазы оксида алюминия.
14. Содержание χ-Al2O3 и рентгеноаморфной фазы в количестве 60-70 мас.%.
15. Содержание γ-Al2O3 в количестве 30-40 мас.%.
16. Гранулы имеют форму цилиндра диаметром 3-5 мм.
17. Гранулы имеют форму трилистника с диаметром описанной окружности 1,6-3,2 мм.
18. Способ приготовления катализатора, включающий термическую активацию гидраргиллита.
19. Гидратация продуктов термической активации гидраргиллита в кислом растворе.
20. Отмывка от примесных ионов.
21. Введение модифицирующих добавок на стадии пластификации.
22. Формование в гранулы методом экструзии.
23. Проведение термической обработки.
24. Отмывка продуктов гидратации дистиллированной водой.
25. Отмывка продуктов гидратации слабыми растворами серной кислоты.
26. Отмывка продуктов гидратации слабыми растворами азотной кислоты.
27. Использование для пластификации гидроксида алюминия растворов серной кислоты.
28. Использование для пластификации гидроксида алюминия растворов соляной кислоты.
29. Использование для пластификации гидроксида алюминия растворов ортофосфорной кислоты.
30. Использование для пластификации гидроксида алюминия растворов азотной кислоты.
31. Модифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H2SO4/моль Al2O3.
32. Модифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al2O3.
33. Модифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H3PO4/моль Al2O3.
34. Модифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO3/моль Al2O3.
35. Использование в качестве продуктов термической активации гидраргиллита продукта центробежной термической активации гидраргиллита.
36. Использование в качестве продуктов термической активации гидраргиллита термоактивированного гидроксида алюминия.
37. Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С.
38. Способ получения этилена путем дегидратации этанола, заключающийся в пропускании содержащего этанол газа через неподвижный слой алюмооксидного катализатора.
39. Использование катализатора по п. 1-2.
40. Использование катализатора, приготовленного по п. 3-11.
41. Проведение процесса получения этилена при температуре 350-450°С.
42. Проведение процесса получения этилена при времени контакта 0.2-4.0 с.
2025-10-05 23:17:23,559 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f
2025-10-05 23:17:23,559 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f, message: {'status': 'completed', 'message': '1. Гранулированный наноструктурированный алюмооксидный катализатор процесса дегидратации этанола в этилен.\n2. Содержание оксида алюминия.\n3. Содержание натрия в количестве 0,005-0,02 мас.%.\n4. Содержание серы в количестве 0-5 мас.%.\n5. Содержание фосфора в количестве 0-2,8 мас.%.\n6. Содержание хлора в количестве 0-2,6 мас.%.\n7. Бидисперсная пористая структура.\n8. Объем микропор от 0,06 до 0,18 см³/г.\n9. Объем мезопор от 0,2 до 0,32 см³/г.\n10. Суммарный объем пор от 0,25 до 0,55 см³/г.\n11. Средний диаметр пор от 3 до 5,5 нм.\n12. Удельная поверхность катализатора от 200 до 350 м²/г.\n13. Оксид алюминия представляет собой смесь γ-Al2O3, χ-Al2O3 и рентгеноаморфной фазы оксида алюминия.\n14. Содержание χ-Al2O3 и рентгеноаморфной фазы в количестве 60-70 мас.%.\n15. Содержание γ-Al2O3 в количестве 30-40 мас.%.\n16. Гранулы имеют форму цилиндра диаметром 3-5 мм.\n17. Гранулы имеют форму трилистника с диаметром описанной окружности 1,6-3,2 мм.\n18. Способ приготовления катализатора, включающий термическую активацию гидраргиллита.\n19. Гидратация продуктов термической активации гидраргиллита в кислом растворе.\n20. Отмывка от примесных ионов.\n21. Введение модифицирующих добавок на стадии пластификации.\n22. Формование в гранулы методом экструзии.\n23. Проведение термической обработки.\n24. Отмывка продуктов гидратации дистиллированной водой.\n25. Отмывка продуктов гидратации слабыми растворами серной кислоты.\n26. Отмывка продуктов гидратации слабыми растворами азотной кислоты.\n27. Использование для пластификации гидроксида алюминия растворов серной кислоты.\n28. Использование для пластификации гидроксида алюминия растворов соляной кислоты.\n29. Использование для пластификации гидроксида алюминия растворов ортофосфорной кислоты.\n30. Использование для пластификации гидроксида алюминия растворов азотной кислоты.\n31. Модифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H2SO4/моль Al2O3.\n32. Модифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al2O3.\n33. Модифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H3PO4/моль Al2O3.\n34. Модифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO3/моль Al2O3.\n35. Использование в качестве продуктов термической активации гидраргиллита продукта центробежной термической активации гидраргиллита.\n36. Использование в качестве продуктов термической активации гидраргиллита термоактивированного гидроксида алюминия.\n37. Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С.\n38. Способ получения этилена путем дегидратации этанола, заключающийся в пропускании содержащего этанол газа через неподвижный слой алюмооксидного катализатора.\n39. Использование катализатора по п. 1-2.\n40. Использование катализатора, приготовленного по п. 3-11.\n41. Проведение процесса получения этилена при температуре 350-450°С.\n42. Проведение процесса получения этилена при времени контакта 0.2-4.0 с.', 'stage': 'completed'}
2025-10-05 23:17:23,561 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE330>, 1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f
2025-10-05 23:17:23,576 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f disconnected
2025-10-05 23:17:23,576 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:17:23,577 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:c585b15c-593b-46e7-9554-2a0fb722aa4f cleanup completed
2025-10-05 23:17:23,578 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:17:23,578 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:e323ee92-1613-440b-a172-74a3039d7acf
2025-10-05 23:17:23,579 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:e323ee92-1613-440b-a172-74a3039d7acf создан новый список соединений
2025-10-05 23:17:23,579 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:e323ee92-1613-440b-a172-74a3039d7acf: 1
2025-10-05 23:17:23,580 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:e323ee92-1613-440b-a172-74a3039d7acf содержит 0 сообщений
2025-10-05 23:17:23,580 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:17:23,580 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:e323ee92-1613-440b-a172-74a3039d7acf: 1 соединений
2025-10-05 23:17:23,580 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:e323ee92-1613-440b-a172-74a3039d7acf содержит 0 сообщений
2025-10-05 23:17:23,580 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:e323ee92-1613-440b-a172-74a3039d7acf
2025-10-05 23:17:23,581 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:e323ee92-1613-440b-a172-74a3039d7acf connected successfully
2025-10-05 23:17:23,582 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — эксперт по патентном, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:17:23,583 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:17:23,583 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:17:23,584 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:17:23,584 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:17:23,585 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:17:23,585 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CEC0>
2025-10-05 23:17:23,585 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:17:23,585 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:e323ee92-1613-440b-a172-74a3039d7acf, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CEC0>
2025-10-05 23:17:23,585 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:17:23,585 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:17:23,586 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CEC0>
2025-10-05 23:17:23,586 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:17:23,586 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:17:23,587 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:17:23,588 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:17:23,588 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:17:23,588 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:17:23,588 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:17:23,588 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:17:23,588 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:17:23,588 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:17:23,589 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e323ee92-1613-440b-a172-74a3039d7acf
2025-10-05 23:17:23,589 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e323ee92-1613-440b-a172-74a3039d7acf, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:17:23,592 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDFD0>, 1830913972:e323ee92-1613-440b-a172-74a3039d7acf
2025-10-05 23:17:23,592 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e323ee92-1613-440b-a172-74a3039d7acf
2025-10-05 23:17:23,592 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e323ee92-1613-440b-a172-74a3039d7acf, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:17:23,592 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDFD0>, 1830913972:e323ee92-1613-440b-a172-74a3039d7acf
2025-10-05 23:17:23,593 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e323ee92-1613-440b-a172-74a3039d7acf
2025-10-05 23:17:23,593 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e323ee92-1613-440b-a172-74a3039d7acf, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:17:23,593 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDFD0>, 1830913972:e323ee92-1613-440b-a172-74a3039d7acf
2025-10-05 23:17:23,593 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e323ee92-1613-440b-a172-74a3039d7acf
2025-10-05 23:17:23,594 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e323ee92-1613-440b-a172-74a3039d7acf, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:17:23,594 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDFD0>, 1830913972:e323ee92-1613-440b-a172-74a3039d7acf
2025-10-05 23:18:06,668 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов.
2. Катализатор содержит палладий.
3. Содержание палладия составляет 0,01÷1,0 мас.%.
4. Размер частиц активного компонента регулируется в диапазоне от 1,5 до 20 нм.
5. Активный компонент нанесен на бидисперсный силикагель.
6. Бидисперсный силикагель содержит щелочной металл в количестве не выше 0,01 мас.%.
7. Удельная поверхность бидисперсного силикагеля составляет 150÷350 м²/г.
8. Общий объем пор бидисперсного силикагеля составляет 0,8÷1,2 см³/г.
9. Микропоры в бидисперсном силикагеле отсутствуют.
10. Объем мезопор с радиусом около 50 Å в бидисперсном силикагеле составляет 0,60÷0,85 см³/г.
11. Объем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле составляет 0,15÷0,30 см³/г.
12. Способ приготовления катализатора включает пропитку предварительно высушенного носителя водным раствором стабилизированного нитрата палладия.
13. Носителем является бидисперсный силикагель, содержащий щелочной металл в количестве не выше 0,01 мас.%.
14. Носитель имеет удельную поверхность 150÷350 м²/г.
15. Носитель имеет общий объем пор 0,8÷1,2 см³/г.
16. Носитель не имеет микропор.
17. Носитель имеет объем мезопор с радиусом около 50 Å 0,60÷0,85 см³/г.
18. Носитель имеет объем макропор с радиусом 1000-5500 Å 0,15÷0,30 см³/г.
19. Пропитка осуществляется при определенных значениях рН.
20. После пропитки катализатор сушат.
21. После сушки катализатор прокаливают на воздухе.
22. После прокаливания катализатор восстанавливают в потоке водородсодержащего газа.
23. В пропиточный раствор добавляют лимонную кислоту.
24. Регулирование рН пропиточных растворов проводят без введения катионов щелочных металлов.
25. Регулирование рН осуществляют за счет подщелачивания водным раствором тетраметиламмоний гидроксида.
26. Способ очистки олефинов от примесей полиненасыщенных углеводородов путем каталитического гидрирования.
27. Гидрирование проводят при повышенных температурах.
28. Гидрирование проводят в присутствии нанесенного палладиевого катализатора.
29. Используется катализатор по пп.1 и 2 или приготовленный по пп.3-5.
30. Гидрирование проводят при атмосферном давлении.
31. Гидрирование проводят при температуре 50-200°С.
32. Гидрирование проводят при объемной скорости 10000-20000 ч⁻¹.
2025-10-05 23:18:06,669 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e323ee92-1613-440b-a172-74a3039d7acf
2025-10-05 23:18:06,669 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e323ee92-1613-440b-a172-74a3039d7acf, message: {'status': 'completed', 'message': '1. Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов.\n2. Катализатор содержит палладий.\n3. Содержание палладия составляет 0,01÷1,0 мас.%.\n4. Размер частиц активного компонента регулируется в диапазоне от 1,5 до 20 нм.\n5. Активный компонент нанесен на бидисперсный силикагель.\n6. Бидисперсный силикагель содержит щелочной металл в количестве не выше 0,01 мас.%.\n7. Удельная поверхность бидисперсного силикагеля составляет 150÷350 м²/г.\n8. Общий объем пор бидисперсного силикагеля составляет 0,8÷1,2 см³/г.\n9. Микропоры в бидисперсном силикагеле отсутствуют.\n10. Объем мезопор с радиусом около 50 Å в бидисперсном силикагеле составляет 0,60÷0,85 см³/г.\n11. Объем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле составляет 0,15÷0,30 см³/г.\n12. Способ приготовления катализатора включает пропитку предварительно высушенного носителя водным раствором стабилизированного нитрата палладия.\n13. Носителем является бидисперсный силикагель, содержащий щелочной металл в количестве не выше 0,01 мас.%.\n14. Носитель имеет удельную поверхность 150÷350 м²/г.\n15. Носитель имеет общий объем пор 0,8÷1,2 см³/г.\n16. Носитель не имеет микропор.\n17. Носитель имеет объем мезопор с радиусом около 50 Å 0,60÷0,85 см³/г.\n18. Носитель имеет объем макропор с радиусом 1000-5500 Å 0,15÷0,30 см³/г.\n19. Пропитка осуществляется при определенных значениях рН.\n20. После пропитки катализатор сушат.\n21. После сушки катализатор прокаливают на воздухе.\n22. После прокаливания катализатор восстанавливают в потоке водородсодержащего газа.\n23. В пропиточный раствор добавляют лимонную кислоту.\n24. Регулирование рН пропиточных растворов проводят без введения катионов щелочных металлов.\n25. Регулирование рН осуществляют за счет подщелачивания водным раствором тетраметиламмоний гидроксида.\n26. Способ очистки олефинов от примесей полиненасыщенных углеводородов путем каталитического гидрирования.\n27. Гидрирование проводят при повышенных температурах.\n28. Гидрирование проводят в присутствии нанесенного палладиевого катализатора.\n29. Используется катализатор по пп.1 и 2 или приготовленный по пп.3-5.\n30. Гидрирование проводят при атмосферном давлении.\n31. Гидрирование проводят при температуре 50-200°С.\n32. Гидрирование проводят при объемной скорости 10000-20000 ч⁻¹.', 'stage': 'completed'}
2025-10-05 23:18:06,671 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDFD0>, 1830913972:e323ee92-1613-440b-a172-74a3039d7acf
2025-10-05 23:18:06,686 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:e323ee92-1613-440b-a172-74a3039d7acf disconnected
2025-10-05 23:18:06,687 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:18:06,687 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:e323ee92-1613-440b-a172-74a3039d7acf cleanup completed
2025-10-05 23:18:06,691 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:f8c7833f-151e-4043-954e-b28be38af271
2025-10-05 23:18:06,691 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:f8c7833f-151e-4043-954e-b28be38af271 создан новый список соединений
2025-10-05 23:18:06,691 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:f8c7833f-151e-4043-954e-b28be38af271: 1
2025-10-05 23:18:06,692 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:f8c7833f-151e-4043-954e-b28be38af271 содержит 0 сообщений
2025-10-05 23:18:06,692 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:18:06,692 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:f8c7833f-151e-4043-954e-b28be38af271: 1 соединений
2025-10-05 23:18:06,692 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:f8c7833f-151e-4043-954e-b28be38af271 содержит 0 сообщений
2025-10-05 23:18:06,693 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:f8c7833f-151e-4043-954e-b28be38af271
2025-10-05 23:18:06,693 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:f8c7833f-151e-4043-954e-b28be38af271 connected successfully
2025-10-05 23:18:06,694 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:18:06,694 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — эксперт по патентном, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:18:06,695 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:18:06,695 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:18:06,695 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:18:06,696 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:18:06,696 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:18:06,696 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CD00>
2025-10-05 23:18:06,696 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:18:06,701 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:f8c7833f-151e-4043-954e-b28be38af271, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CD00>
2025-10-05 23:18:06,701 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:18:06,701 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:18:06,702 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CD00>
2025-10-05 23:18:06,702 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:18:06,703 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:18:06,704 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:18:06,705 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:18:06,705 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:18:06,705 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:18:06,705 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:18:06,706 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:18:06,706 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:18:06,706 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:18:06,706 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f8c7833f-151e-4043-954e-b28be38af271
2025-10-05 23:18:06,706 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f8c7833f-151e-4043-954e-b28be38af271, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:18:06,707 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDFD0>, 1830913972:f8c7833f-151e-4043-954e-b28be38af271
2025-10-05 23:18:06,707 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f8c7833f-151e-4043-954e-b28be38af271
2025-10-05 23:18:06,707 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f8c7833f-151e-4043-954e-b28be38af271, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:18:06,708 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDFD0>, 1830913972:f8c7833f-151e-4043-954e-b28be38af271
2025-10-05 23:18:06,709 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f8c7833f-151e-4043-954e-b28be38af271
2025-10-05 23:18:06,709 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f8c7833f-151e-4043-954e-b28be38af271, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:18:06,709 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDFD0>, 1830913972:f8c7833f-151e-4043-954e-b28be38af271
2025-10-05 23:18:06,710 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f8c7833f-151e-4043-954e-b28be38af271
2025-10-05 23:18:06,710 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f8c7833f-151e-4043-954e-b28be38af271, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:18:06,710 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDFD0>, 1830913972:f8c7833f-151e-4043-954e-b28be38af271
2025-10-05 23:18:32,082 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Способ получения гранулированного активного оксида алюминия с биодисперсной пористой структурой.
2. Формование гранул гидроксида алюминия последовательно в слое керосина.
3. Формование гранул гидроксида алюминия последовательно в водном растворе аммиака.
4. Сушка гранул.
5. Прокаливание гранул.
6. Использование гидроксида алюминия в виде гидратированного соединения, содержащего не более 30% Al2O3.
7. Использование гидроксида алюминия в виде аморфного гидроксида алюминия.
8. Использование гидроксида алюминия, содержащего до 10% гиббсита.
9. Размол гидроксида алюминия до частиц менее 20 мкм перед формованием.
10. Количество размолотых частиц гидроксида алюминия менее 20 мкм составляет более 70%.
11. Смешивание размолотого гидроксида алюминия с водой.
12. Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты.
13. Проведение пластификации полученной смеси.
14. Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия 200-650 г/л.
15. Промывка гранул водой после прокаливания.
16. Промывка гранул водой с pH 6-9.
17. Время промывки гранул составляет 15 минут.
18. Термообработка гранул после промывки при температуре 250 °C.
2025-10-05 23:18:32,083 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f8c7833f-151e-4043-954e-b28be38af271
2025-10-05 23:18:32,083 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f8c7833f-151e-4043-954e-b28be38af271, message: {'status': 'completed', 'message': '1. Способ получения гранулированного активного оксида алюминия с биодисперсной пористой структурой.\n2. Формование гранул гидроксида алюминия последовательно в слое керосина.\n3. Формование гранул гидроксида алюминия последовательно в водном растворе аммиака.\n4. Сушка гранул.\n5. Прокаливание гранул.\n6. Использование гидроксида алюминия в виде гидратированного соединения, содержащего не более 30% Al2O3.\n7. Использование гидроксида алюминия в виде аморфного гидроксида алюминия.\n8. Использование гидроксида алюминия, содержащего до 10% гиббсита.\n9. Размол гидроксида алюминия до частиц менее 20 мкм перед формованием.\n10. Количество размолотых частиц гидроксида алюминия менее 20 мкм составляет более 70%.\n11. Смешивание размолотого гидроксида алюминия с водой.\n12. Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты.\n13. Проведение пластификации полученной смеси.\n14. Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия 200-650 г/л.\n15. Промывка гранул водой после прокаливания.\n16. Промывка гранул водой с pH 6-9.\n17. Время промывки гранул составляет 15 минут.\n18. Термообработка гранул после промывки при температуре 250 °C.', 'stage': 'completed'}
2025-10-05 23:18:32,084 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDFD0>, 1830913972:f8c7833f-151e-4043-954e-b28be38af271
2025-10-05 23:18:32,097 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:f8c7833f-151e-4043-954e-b28be38af271 disconnected
2025-10-05 23:18:32,098 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:18:32,098 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:f8c7833f-151e-4043-954e-b28be38af271 cleanup completed
2025-10-05 23:18:32,100 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba
2025-10-05 23:18:32,100 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba создан новый список соединений
2025-10-05 23:18:32,100 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba: 1
2025-10-05 23:18:32,101 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba содержит 0 сообщений
2025-10-05 23:18:32,101 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:18:32,101 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba: 1 соединений
2025-10-05 23:18:32,101 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba содержит 0 сообщений
2025-10-05 23:18:32,102 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba
2025-10-05 23:18:32,102 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba connected successfully
2025-10-05 23:18:32,104 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:18:32,105 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — эксперт по патентном, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:18:32,106 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:18:32,106 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:18:32,107 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:18:32,107 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:18:32,107 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:18:32,108 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D010>
2025-10-05 23:18:32,108 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:18:32,108 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D010>
2025-10-05 23:18:32,108 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:18:32,108 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:18:32,109 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D010>
2025-10-05 23:18:32,109 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:18:32,110 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:18:32,111 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:18:32,112 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:18:32,112 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:18:32,113 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:18:32,113 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:18:32,113 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:18:32,113 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:18:32,113 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:18:32,114 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba
2025-10-05 23:18:32,114 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:18:32,115 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEA80>, 1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba
2025-10-05 23:18:32,115 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba
2025-10-05 23:18:32,115 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:18:32,116 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEA80>, 1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba
2025-10-05 23:18:32,116 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba
2025-10-05 23:18:32,117 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:18:32,117 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEA80>, 1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba
2025-10-05 23:18:32,117 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba
2025-10-05 23:18:32,118 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:18:32,118 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEA80>, 1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba
2025-10-05 23:19:00,110 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Каталитический реактор трубчатого типа.
2. Назначение реактора: проведение сильно экзотермических реакций.
3. Адиабатический разогрев реакций составляет от 500 до 2500 °C.
4. Наличие корпуса.
5. Наличие трубных решеток.
6. Наличие устройств для ввода реагентов.
7. Наличие устройств для вывода реагентов.
8. Наличие устройств для ввода хладагентов.
9. Наличие устройств для вывода хладагентов.
10. Наличие каталитически активных теплообменных трубок.
11. Каталитически активные теплообменные трубки соединены с трубными решетками.
12. Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки.
13. На внешней поверхности непроницаемых трубок нанесен слой каталитически активного материала.
14. Каталитически активный материал является армированным порометаллическим материалом.
15. Армированный порометаллический материал образован плоскими лентами.
16. Армированный порометаллический материал образован гофрированными лентами.
17. Толщина слоя катализатора на поверхности непроницаемой трубки составляет от 1 до 10 мм.
18. Слой катализатора на поверхности непроницаемой трубки нанесен равномерно по ее длине.
19. Слой катализатора на поверхности непроницаемой трубки нанесен неравномерно по ее длине.
20. Способ осуществления сильно экзотермических реакций с адиабатическими разогревами от 500 до 2500 °C.
21. Способ осуществляется в каталитическом реакторе трубчатого типа.
22. Реагирующую смесь стехиометрического состава подают в межтрубное пространство.
23. Реагирующую смесь состава, близкого к стехиометрическому, подают в межтрубное пространство.
24. Межтрубное пространство образовано каталитически активными теплообменными трубками.
25. Хладоагент подают внутрь каталитически активных теплообменных трубок.
2025-10-05 23:19:00,111 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba
2025-10-05 23:19:00,112 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba, message: {'status': 'completed', 'message': '1. Каталитический реактор трубчатого типа.\n2. Назначение реактора: проведение сильно экзотермических реакций.\n3. Адиабатический разогрев реакций составляет от 500 до 2500 °C.\n4. Наличие корпуса.\n5. Наличие трубных решеток.\n6. Наличие устройств для ввода реагентов.\n7. Наличие устройств для вывода реагентов.\n8. Наличие устройств для ввода хладагентов.\n9. Наличие устройств для вывода хладагентов.\n10. Наличие каталитически активных теплообменных трубок.\n11. Каталитически активные теплообменные трубки соединены с трубными решетками.\n12. Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки.\n13. На внешней поверхности непроницаемых трубок нанесен слой каталитически активного материала.\n14. Каталитически активный материал является армированным порометаллическим материалом.\n15. Армированный порометаллический материал образован плоскими лентами.\n16. Армированный порометаллический материал образован гофрированными лентами.\n17. Толщина слоя катализатора на поверхности непроницаемой трубки составляет от 1 до 10 мм.\n18. Слой катализатора на поверхности непроницаемой трубки нанесен равномерно по ее длине.\n19. Слой катализатора на поверхности непроницаемой трубки нанесен неравномерно по ее длине.\n20. Способ осуществления сильно экзотермических реакций с адиабатическими разогревами от 500 до 2500 °C.\n21. Способ осуществляется в каталитическом реакторе трубчатого типа.\n22. Реагирующую смесь стехиометрического состава подают в межтрубное пространство.\n23. Реагирующую смесь состава, близкого к стехиометрическому, подают в межтрубное пространство.\n24. Межтрубное пространство образовано каталитически активными теплообменными трубками.\n25. Хладоагент подают внутрь каталитически активных теплообменных трубок.', 'stage': 'completed'}
2025-10-05 23:19:00,114 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEA80>, 1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba
2025-10-05 23:19:00,125 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:19:00,126 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3
2025-10-05 23:19:00,127 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3 создан новый список соединений
2025-10-05 23:19:00,127 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3: 1
2025-10-05 23:19:00,129 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3 содержит 0 сообщений
2025-10-05 23:19:00,129 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:19:00,130 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba: 1 соединений
2025-10-05 23:19:00,130 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3: 1 соединений
2025-10-05 23:19:00,131 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3 содержит 0 сообщений
2025-10-05 23:19:00,131 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3
2025-10-05 23:19:00,132 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3 connected successfully
2025-10-05 23:19:00,132 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba disconnected
2025-10-05 23:19:00,133 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:19:00,133 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3: 1 соединений
2025-10-05 23:19:00,133 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:3b56785a-33fe-4f01-bcfa-e7d1757d11ba cleanup completed
2025-10-05 23:19:00,135 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — эксперт по патентном, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:19:00,136 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:19:00,137 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:19:00,137 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:19:00,137 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:19:00,137 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:19:00,138 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C830>
2025-10-05 23:19:00,138 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:19:00,139 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C830>
2025-10-05 23:19:00,139 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:19:00,140 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:19:00,140 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C830>
2025-10-05 23:19:00,140 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:19:00,141 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:19:00,142 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:19:00,143 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:19:00,143 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:19:00,145 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:19:00,145 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:19:00,146 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:19:00,146 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:19:00,146 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:19:00,147 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3
2025-10-05 23:19:00,147 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:19:00,148 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE0F0>, 1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3
2025-10-05 23:19:00,148 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3
2025-10-05 23:19:00,148 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:19:00,149 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE0F0>, 1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3
2025-10-05 23:19:00,149 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3
2025-10-05 23:19:00,150 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:19:00,150 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE0F0>, 1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3
2025-10-05 23:19:00,150 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3
2025-10-05 23:19:00,150 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:19:00,151 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE0F0>, 1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3
2025-10-05 23:19:32,520 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Способ получения пористого железо-калиевооксидного композита.
2. Приготовление шихты.
3. Шихта содержит кристаллогидрат нитрата железа.
4. Шихта содержит кристаллогидрат нитрата церия.
5. Шихта содержит нитрат калия.
6. Шихта содержит оксид молибдена.
7. Шихта содержит оксид титана.
8. Шихта содержит карбонат кальция.
9. Шихта содержит тетраэтоксисилан.
10. Компоненты шихты взяты в стехиометрическом соотношении.
11. Импрегнирование в шихту выгорающей микродобавки продуктами гидролиза солей.
12. Продукты гидролиза солей получены с использованием способов соосаждения или золь-гель.
13. Формование образцов композита методом полусухого прессования.
14. В качестве выгорающей микродобавки используют диоксанлигнин березы.
15. Количество диоксанлигнина березы составляет 0,125-0,250 мас.%.
16. Обжиг проводят в интервале температур 20-700°С.
17. Скорость нагрева при обжиге составляет 10 °С/мин.
18. Изотермическая выдержка при обжиге в течение 3 часов.
19. В получаемом композите формируется бидисперсная структура.
20. Пористый железо-калиевооксидный композит, полученный указанным способом.
21. Композит содержит фазу оксида железа α-Fe₂O₃.
22. Композит содержит фазу оксида церия CeO₂.
23. Композит содержит фазу молибдата калия K₂MoO₄.
24. Композит содержит фазу феррита калия состава KFeO₂.
25. Композит содержит фазу феррита калия состава KFe₁₁O₁₇.
26. Композит имеет бидисперсную структуру.
27. Бидисперсная структура получена за счет введения в шихту диоксанлигнина березы в качестве выгорающей микродобавки.
28. Общий объем пор композита составляет от 0,006 до 0,013 см³/г.
29. Диаметр мезопор композита составляет от 16 до 40 нм.
30. Диаметр макропор композита составляет от 75 до 130 нм.
31. Удельная поверхность композита составляет от 2 до 5 м²/г.
2025-10-05 23:19:32,522 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3
2025-10-05 23:19:32,523 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3, message: {'status': 'completed', 'message': '1. Способ получения пористого железо-калиевооксидного композита.\n2. Приготовление шихты.\n3. Шихта содержит кристаллогидрат нитрата железа.\n4. Шихта содержит кристаллогидрат нитрата церия.\n5. Шихта содержит нитрат калия.\n6. Шихта содержит оксид молибдена.\n7. Шихта содержит оксид титана.\n8. Шихта содержит карбонат кальция.\n9. Шихта содержит тетраэтоксисилан.\n10. Компоненты шихты взяты в стехиометрическом соотношении.\n11. Импрегнирование в шихту выгорающей микродобавки продуктами гидролиза солей.\n12. Продукты гидролиза солей получены с использованием способов соосаждения или золь-гель.\n13. Формование образцов композита методом полусухого прессования.\n14. В качестве выгорающей микродобавки используют диоксанлигнин березы.\n15. Количество диоксанлигнина березы составляет 0,125-0,250 мас.%.\n16. Обжиг проводят в интервале температур 20-700°С.\n17. Скорость нагрева при обжиге составляет 10 °С/мин.\n18. Изотермическая выдержка при обжиге в течение 3 часов.\n19. В получаемом композите формируется бидисперсная структура.\n20. Пористый железо-калиевооксидный композит, полученный указанным способом.\n21. Композит содержит фазу оксида железа α-Fe₂O₃.\n22. Композит содержит фазу оксида церия CeO₂.\n23. Композит содержит фазу молибдата калия K₂MoO₄.\n24. Композит содержит фазу феррита калия состава KFeO₂.\n25. Композит содержит фазу феррита калия состава KFe₁₁O₁₇.\n26. Композит имеет бидисперсную структуру.\n27. Бидисперсная структура получена за счет введения в шихту диоксанлигнина березы в качестве выгорающей микродобавки.\n28. Общий объем пор композита составляет от 0,006 до 0,013 см³/г.\n29. Диаметр мезопор композита составляет от 16 до 40 нм.\n30. Диаметр макропор композита составляет от 75 до 130 нм.\n31. Удельная поверхность композита составляет от 2 до 5 м²/г.', 'stage': 'completed'}
2025-10-05 23:19:32,524 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE0F0>, 1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3
2025-10-05 23:19:32,536 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3 disconnected
2025-10-05 23:19:32,536 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:19:32,536 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:c94eeb88-f4b2-497d-95ce-57660e4c0ac3 cleanup completed
2025-10-05 23:19:32,539 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59
2025-10-05 23:19:32,540 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59 создан новый список соединений
2025-10-05 23:19:32,540 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59: 1
2025-10-05 23:19:32,540 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59 содержит 0 сообщений
2025-10-05 23:19:32,541 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:19:32,541 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59: 1 соединений
2025-10-05 23:19:32,541 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59 содержит 0 сообщений
2025-10-05 23:19:32,542 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59
2025-10-05 23:19:32,542 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59 connected successfully
2025-10-05 23:19:32,543 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:19:32,544 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — эксперт по патентном, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:19:32,545 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:19:32,546 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:19:32,547 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:19:32,547 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:19:32,548 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:19:32,548 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347D630>
2025-10-05 23:19:32,548 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:19:32,549 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347D630>
2025-10-05 23:19:32,549 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:19:32,549 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:19:32,550 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347D630>
2025-10-05 23:19:32,550 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:19:32,551 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:19:32,552 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:19:32,554 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:19:32,554 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:19:32,555 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:19:32,555 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:19:32,555 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:19:32,555 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:19:32,556 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:19:32,556 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59
2025-10-05 23:19:32,556 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:19:32,557 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6300F140>, 1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59
2025-10-05 23:19:32,558 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59
2025-10-05 23:19:32,558 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:19:32,558 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6300F140>, 1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59
2025-10-05 23:19:32,558 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59
2025-10-05 23:19:32,559 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:19:32,559 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6300F140>, 1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59
2025-10-05 23:19:32,603 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59
2025-10-05 23:19:32,604 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:19:32,605 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6300F140>, 1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59
2025-10-05 23:19:47,926 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Способ получения пористых порошковых материалов.
2. Приготовление шихты.
3. Нанесение на частицы порообразователя связующего.
4. Смешивание частиц порообразователя с порошком.
5. Формование шихты.
6. Спекание шихты.
7. Использование при смешивании металлического или керамического порошка.
8. Нанесение на частицы порообразователя не менее двух слоев керамического порошка.
9. Нанесение на частицы порообразователя не более пяти слоев керамического порошка.
10. Использование органического связующего при нанесении первого слоя керамического порошка.
11. Использование неорганического связующего при нанесении второго слоя керамического порошка.
12. Использование неорганического связующего при нанесении последующих слоев керамического порошка.
13. Использование в качестве частиц порообразователя гранул пенополистирола.
14. Использование частиц порообразователя с размером в диапазоне 0,5-1 мм.
15. Использование органического связующего в виде водно-дисперсионного полиуретанового лака.
16. Использование неорганического связующего в виде водного раствора силиката натрия.
2025-10-05 23:19:47,927 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59
2025-10-05 23:19:47,927 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59, message: {'status': 'completed', 'message': '1. Способ получения пористых порошковых материалов.\n2. Приготовление шихты.\n3. Нанесение на частицы порообразователя связующего.\n4. Смешивание частиц порообразователя с порошком.\n5. Формование шихты.\n6. Спекание шихты.\n7. Использование при смешивании металлического или керамического порошка.\n8. Нанесение на частицы порообразователя не менее двух слоев керамического порошка.\n9. Нанесение на частицы порообразователя не более пяти слоев керамического порошка.\n10. Использование органического связующего при нанесении первого слоя керамического порошка.\n11. Использование неорганического связующего при нанесении второго слоя керамического порошка.\n12. Использование неорганического связующего при нанесении последующих слоев керамического порошка.\n13. Использование в качестве частиц порообразователя гранул пенополистирола.\n14. Использование частиц порообразователя с размером в диапазоне 0,5-1 мм.\n15. Использование органического связующего в виде водно-дисперсионного полиуретанового лака.\n16. Использование неорганического связующего в виде водного раствора силиката натрия.', 'stage': 'completed'}
2025-10-05 23:19:47,928 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6300F140>, 1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59
2025-10-05 23:19:47,940 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59 disconnected
2025-10-05 23:19:47,940 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:19:47,940 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:7b0fc0ee-1c38-4031-848b-3fdd1a41bd59 cleanup completed
2025-10-05 23:19:47,944 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954
2025-10-05 23:19:47,944 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954 создан новый список соединений
2025-10-05 23:19:47,944 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954: 1
2025-10-05 23:19:47,945 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954 содержит 0 сообщений
2025-10-05 23:19:47,945 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:19:47,945 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954: 1 соединений
2025-10-05 23:19:47,946 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954 содержит 0 сообщений
2025-10-05 23:19:47,946 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954
2025-10-05 23:19:47,946 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954 connected successfully
2025-10-05 23:19:47,948 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:19:47,949 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — эксперт по патентном, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:19:47,950 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:19:47,951 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:19:47,952 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:19:47,952 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:19:47,952 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:19:47,953 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347D6A0>
2025-10-05 23:19:47,953 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:19:47,953 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347D6A0>
2025-10-05 23:19:47,953 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:19:47,953 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:19:47,974 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347D6A0>
2025-10-05 23:19:47,975 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:19:47,976 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:19:47,976 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:19:47,978 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:19:47,978 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:19:47,978 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:19:47,978 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:19:47,979 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:19:47,979 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:19:47,979 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:19:47,979 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954
2025-10-05 23:19:47,979 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:19:47,980 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDFD0>, 1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954
2025-10-05 23:19:47,980 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954
2025-10-05 23:19:47,981 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:19:47,981 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDFD0>, 1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954
2025-10-05 23:19:47,982 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954
2025-10-05 23:19:47,982 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:19:47,982 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDFD0>, 1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954
2025-10-05 23:19:48,005 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954
2025-10-05 23:19:48,006 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:19:48,006 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDFD0>, 1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954
2025-10-05 23:20:00,333 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Способ соединения крупногабаритных порошковых деталей.
2. Приготовление шихты на основе железа.
3. Прессование деталей.
4. Нанесение на соединяемые поверхности слоя шликера на основе порошка железа.
5. Сборка деталей.
6. Размещение пропитывающих брикетов на основе меди.
7. Спекание с одновременной инфильтрацией.
8. Шликер готовят из бидисперсных порошков.
9. При сборке между соединяемыми поверхностями располагают непроницаемую для расплава на основе меди перегородку.
10. Слой шликера наносят на поверхность соединяемых деталей.
11. Слой шликера наносят на поверхность непроницаемой перегородки.
12. Пропитывающие брикеты размещают сверху сборки.
13. Пропитывающие брикеты размещают снизу сборки.
2025-10-05 23:20:00,333 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954
2025-10-05 23:20:00,334 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954, message: {'status': 'completed', 'message': '1. Способ соединения крупногабаритных порошковых деталей.\n2. Приготовление шихты на основе железа.\n3. Прессование деталей.\n4. Нанесение на соединяемые поверхности слоя шликера на основе порошка железа.\n5. Сборка деталей.\n6. Размещение пропитывающих брикетов на основе меди.\n7. Спекание с одновременной инфильтрацией.\n8. Шликер готовят из бидисперсных порошков.\n9. При сборке между соединяемыми поверхностями располагают непроницаемую для расплава на основе меди перегородку.\n10. Слой шликера наносят на поверхность соединяемых деталей.\n11. Слой шликера наносят на поверхность непроницаемой перегородки.\n12. Пропитывающие брикеты размещают сверху сборки.\n13. Пропитывающие брикеты размещают снизу сборки.', 'stage': 'completed'}
2025-10-05 23:20:00,335 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDFD0>, 1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954
2025-10-05 23:20:00,343 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954 disconnected
2025-10-05 23:20:00,343 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:20:00,343 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:a388e32a-e37d-42f2-93d6-1e5b26a0e954 cleanup completed
2025-10-05 23:37:54,724 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969
2025-10-05 23:37:54,724 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:37:54,725 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969 создан новый список соединений
2025-10-05 23:37:54,725 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969: 1
2025-10-05 23:37:54,726 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969 содержит 0 сообщений
2025-10-05 23:37:54,726 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:37:54,726 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969: 1 соединений
2025-10-05 23:37:54,727 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969 содержит 0 сообщений
2025-10-05 23:37:54,727 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969
2025-10-05 23:37:54,728 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969 connected successfully
2025-10-05 23:37:54,729 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:37:54,730 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:37:54,730 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:37:54,731 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:37:54,731 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:37:54,731 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:37:54,732 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C910>
2025-10-05 23:37:54,733 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:37:54,733 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C910>
2025-10-05 23:37:54,733 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:37:54,734 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:37:54,734 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C910>
2025-10-05 23:37:54,734 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:37:54,735 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:37:54,736 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:37:54,737 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:37:54,737 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:37:54,737 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:37:54,737 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:37:54,738 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:37:54,738 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:37:54,738 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:37:54,738 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969
2025-10-05 23:37:54,739 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:37:54,739 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEB10>, 1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969
2025-10-05 23:37:54,739 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969
2025-10-05 23:37:54,740 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:37:54,740 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEB10>, 1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969
2025-10-05 23:37:54,741 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969
2025-10-05 23:37:54,741 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:37:54,742 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEB10>, 1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969
2025-10-05 23:37:54,742 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969
2025-10-05 23:37:54,742 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:37:54,743 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEB10>, 1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969
2025-10-05 23:38:39,597 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Способ получения бидисперсных порошковых смесей: -
Получение смесей из порошков существенно разных размеров: +
Использование метода самораспространяющегося высокотемпературного синтеза (СВС): -
Подготовка смеси компонентов: +
Смешение нитрата металла и топливного компонента: -
Использование нитрата металла в качестве окислителя: -
Использование топливного компонента в качестве восстановителя: -
Использование глицерина в качестве топливного компонента: -
Использование тиомочевины в качестве топливного компонента: -
Использование этиленгликоля в качестве топливного компонента: -
Пропитка предварительно приготовленного порошка микронных размеров подготовленной смесью: -
Использование порошка микронных размеров на основе оксидов: -
Равномерное распределение реагентов на поверхности частиц порошка: -
Формирование однородной бидисперсной смеси: +
Удаление воды из раствора выпариванием: -
Удаление воды из раствора сушкой: -
Образование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка: -
Нагревание сухой смеси до определенной температуры: -
Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом: -
Экзотермический характер окислительно-восстановительной реакции: -
Самораспространяющийся характер процесса горения: -
Поддержание процесса горения за счет выделяемой энергии: -
Образование продукта в виде нанопорошка оксида металла: -
Формирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ): -
Получение бидисперсной системы, состоящей из микропорошка и нанопорошка: +
Более равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением: -
Способ получения смесевого твердого топлива с металлическим горючим: +
Механическое перемешивание компонентов: +
Использование металлического горючего в виде бидисперсной смеси порошков: +
Использование порошка алюминия микронных размеров: +
Использование нанопорошка алюминия: +
Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%: +
Перемешивание бидисперсной смеси до осредненного состояния: +
Введение бидисперсной смеси в количестве 10-25 мас.%: +
Введение бидисперсной смеси в полностью перемешанную смесь других компонентов: +
Дополнительное перемешивание полученной массы в течение не менее 30 мин: +
Вакуумирование полученной массы в течение не менее 30 мин: +
Использование перхлората аммония в качестве окислителя: +
Использование нитрата аммония в качестве окислителя: +
Использование смешанного окислителя, включающего нитрат аммония и нитрамин: +
2025-10-05 23:38:39,601 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969
2025-10-05 23:38:39,602 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969, message: {'status': 'completed', 'message': 'Способ получения бидисперсных порошковых смесей: -\nПолучение смесей из порошков существенно разных размеров: +\nИспользование метода самораспространяющегося высокотемпературного синтеза (СВС): -\nПодготовка смеси компонентов: +\nСмешение нитрата металла и топливного компонента: -\nИспользование нитрата металла в качестве окислителя: -\nИспользование топливного компонента в качестве восстановителя: -\nИспользование глицерина в качестве топливного компонента: -\nИспользование тиомочевины в качестве топливного компонента: -\nИспользование этиленгликоля в качестве топливного компонента: -\nПропитка предварительно приготовленного порошка микронных размеров подготовленной смесью: -\nИспользование порошка микронных размеров на основе оксидов: -\nРавномерное распределение реагентов на поверхности частиц порошка: -\nФормирование однородной бидисперсной смеси: +\nУдаление воды из раствора выпариванием: -\nУдаление воды из раствора сушкой: -\nОбразование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка: -\nНагревание сухой смеси до определенной температуры: -\nИнициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом: -\nЭкзотермический характер окислительно-восстановительной реакции: -\nСамораспространяющийся характер процесса горения: -\nПоддержание процесса горения за счет выделяемой энергии: -\nОбразование продукта в виде нанопорошка оксида металла: -\nФормирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ): -\nПолучение бидисперсной системы, состоящей из микропорошка и нанопорошка: +\nБолее равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением: -\nСпособ получения смесевого твердого топлива с металлическим горючим: +\nМеханическое перемешивание компонентов: +\nИспользование металлического горючего в виде бидисперсной смеси порошков: +\nИспользование порошка алюминия микронных размеров: +\nИспользование нанопорошка алюминия: +\nСоотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%: +\nПеремешивание бидисперсной смеси до осредненного состояния: +\nВведение бидисперсной смеси в количестве 10-25 мас.%: +\nВведение бидисперсной смеси в полностью перемешанную смесь других компонентов: +\nДополнительное перемешивание полученной массы в течение не менее 30 мин: +\nВакуумирование полученной массы в течение не менее 30 мин: +\nИспользование перхлората аммония в качестве окислителя: +\nИспользование нитрата аммония в качестве окислителя: +\nИспользование смешанного окислителя, включающего нитрат аммония и нитрамин: +', 'stage': 'completed'}
2025-10-05 23:38:39,605 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEB10>, 1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969
2025-10-05 23:38:39,618 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:38:39,618 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0
2025-10-05 23:38:39,619 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0 создан новый список соединений
2025-10-05 23:38:39,619 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0: 1
2025-10-05 23:38:39,619 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0 содержит 0 сообщений
2025-10-05 23:38:39,620 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:38:39,620 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969: 1 соединений
2025-10-05 23:38:39,620 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0: 1 соединений
2025-10-05 23:38:39,621 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0 содержит 0 сообщений
2025-10-05 23:38:39,621 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0
2025-10-05 23:38:39,621 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0 connected successfully
2025-10-05 23:38:39,622 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969 disconnected
2025-10-05 23:38:39,622 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:38:39,623 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0: 1 соединений
2025-10-05 23:38:39,623 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:e1e6aaa5-be6d-4319-8deb-ac70fb8f7969 cleanup completed
2025-10-05 23:38:39,625 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:38:39,626 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:38:39,627 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:38:39,627 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:38:39,628 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:38:39,628 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:38:39,629 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FBD0>
2025-10-05 23:38:39,629 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:38:39,629 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FBD0>
2025-10-05 23:38:39,629 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:38:39,630 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:38:39,630 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FBD0>
2025-10-05 23:38:39,630 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:38:39,630 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:38:39,631 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:38:39,632 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:38:39,632 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:38:39,632 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:38:39,632 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:38:39,632 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:38:39,633 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:38:39,633 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:38:39,633 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0
2025-10-05 23:38:39,633 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:38:39,633 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD1C0>, 1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0
2025-10-05 23:38:39,637 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0
2025-10-05 23:38:39,638 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:38:39,638 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD1C0>, 1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0
2025-10-05 23:38:39,639 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0
2025-10-05 23:38:39,639 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:38:39,639 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD1C0>, 1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0
2025-10-05 23:38:39,639 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0
2025-10-05 23:38:39,640 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:38:39,640 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD1C0>, 1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0
2025-10-05 23:39:17,558 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего: +
Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего: +
Способ получения порошковой смеси бидисперсных керамических и металлических частиц: -
Перемешивание порошков в жидкой среде: -
Двухэтапное перемешивание: +
Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды: -
Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1: -
Перемешивание керамических наночастиц в жидкой среде на первом этапе: -
Длительность перемешивания на первом этапе не менее 15 минут: -
Добавление металлических микрочастиц на втором этапе: -
Перемешивание полученной смеси на втором этапе: -
Длительность перемешивания на втором этапе не менее 15 минут: -
Удаление жидкости после перемешивания: -
Удаление жидкости в сушильном шкафу: -
Температура удаления жидкости не менее 80°C: -
Длительность удаления жидкости не менее 24 часов: -
Использование керамических наночастиц: -
Диаметр керамических наночастиц от 30 до 140 нм: -
Использование металлических микрочастиц: -
Диаметр металлических микрочастиц от 20 до 180 мкм: -
Массовое соотношение порошков и жидкости 1/2: -
Массовое соотношение наночастиц и микрочастиц 1/19: -
Способ получения дифениламина: -
Термическая обработка анилина: -
Проведение термической обработки в присутствии катализатора: -
Использование алюмооксидного катализатора: -
Катализатор кислого характера: -
Получение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде: -
Использование азотной кислоты при получении катализатора: -
Пластификация катализатора: -
Формование катализатора: -
Сушка катализатора: -
Прокаливание катализатора при повышенной температуре: -
Катализатор с бидисперсной пористой структурой: -
Суммарный объем пор катализатора равен или более 0,45 см³/г: -
Объем пор катализатора с радиусом более равен или более 0,27 см³/г: -
Удельная поверхность катализатора не менее 200 м²/г: -
Получение катализатора из термо- или термомеханохимически активированного гидроксида алюминия: -
Смешивание активированного гидроксида алюминия с ортофосфорной кислотой: -
Проведение пластификации при кислотном модуле 0,02 - 0,07: -
2025-10-05 23:39:17,560 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0
2025-10-05 23:39:17,561 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0, message: {'status': 'completed', 'message': 'Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего: +\nИспользование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего: +\nСпособ получения порошковой смеси бидисперсных керамических и металлических частиц: -\nПеремешивание порошков в жидкой среде: -\nДвухэтапное перемешивание: +\nИспользование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды: -\nМассовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1: -\nПеремешивание керамических наночастиц в жидкой среде на первом этапе: -\nДлительность перемешивания на первом этапе не менее 15 минут: -\nДобавление металлических микрочастиц на втором этапе: -\nПеремешивание полученной смеси на втором этапе: -\nДлительность перемешивания на втором этапе не менее 15 минут: -\nУдаление жидкости после перемешивания: -\nУдаление жидкости в сушильном шкафу: -\nТемпература удаления жидкости не менее 80°C: -\nДлительность удаления жидкости не менее 24 часов: -\nИспользование керамических наночастиц: -\nДиаметр керамических наночастиц от 30 до 140 нм: -\nИспользование металлических микрочастиц: -\nДиаметр металлических микрочастиц от 20 до 180 мкм: -\nМассовое соотношение порошков и жидкости 1/2: -\nМассовое соотношение наночастиц и микрочастиц 1/19: -\nСпособ получения дифениламина: -\nТермическая обработка анилина: -\nПроведение термической обработки в присутствии катализатора: -\nИспользование алюмооксидного катализатора: -\nКатализатор кислого характера: -\nПолучение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде: -\nИспользование азотной кислоты при получении катализатора: -\nПластификация катализатора: -\nФормование катализатора: -\nСушка катализатора: -\nПрокаливание катализатора при повышенной температуре: -\nКатализатор с бидисперсной пористой структурой: -\nСуммарный объем пор катализатора равен или более 0,45 см³/г: -\nОбъем пор катализатора с радиусом более равен или более 0,27 см³/г: -\nУдельная поверхность катализатора не менее 200 м²/г: -\nПолучение катализатора из термо- или термомеханохимически активированного гидроксида алюминия: -\nСмешивание активированного гидроксида алюминия с ортофосфорной кислотой: -\nПроведение пластификации при кислотном модуле 0,02 - 0,07: -', 'stage': 'completed'}
2025-10-05 23:39:17,562 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD1C0>, 1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0
2025-10-05 23:39:17,576 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:39:17,577 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8
2025-10-05 23:39:17,578 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8 создан новый список соединений
2025-10-05 23:39:17,578 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8: 1
2025-10-05 23:39:17,578 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8 содержит 0 сообщений
2025-10-05 23:39:17,579 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:39:17,579 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0: 1 соединений
2025-10-05 23:39:17,579 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8: 1 соединений
2025-10-05 23:39:17,580 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8 содержит 0 сообщений
2025-10-05 23:39:17,580 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8
2025-10-05 23:39:17,581 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8 connected successfully
2025-10-05 23:39:17,591 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0 disconnected
2025-10-05 23:39:17,592 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:39:17,593 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8: 1 соединений
2025-10-05 23:39:17,594 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:80d524a6-39af-41c8-aef6-6ff78c070ab0 cleanup completed
2025-10-05 23:39:17,596 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:39:17,597 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:39:17,598 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:39:17,599 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:39:17,599 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:39:17,599 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:39:17,600 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C6E0>
2025-10-05 23:39:17,600 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:39:17,601 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C6E0>
2025-10-05 23:39:17,601 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:39:17,601 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:39:17,602 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C6E0>
2025-10-05 23:39:17,603 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:39:17,604 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:39:17,604 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:39:17,606 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:39:17,606 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:39:17,606 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:39:17,607 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:39:17,607 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:39:17,607 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:39:17,607 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:39:17,608 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8
2025-10-05 23:39:17,608 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:39:17,609 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEC30>, 1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8
2025-10-05 23:39:17,609 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8
2025-10-05 23:39:17,610 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:39:17,610 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEC30>, 1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8
2025-10-05 23:39:17,611 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8
2025-10-05 23:39:17,611 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:39:17,612 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEC30>, 1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8
2025-10-05 23:39:17,612 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8
2025-10-05 23:39:17,612 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:39:17,614 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEC30>, 1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8
2025-10-05 23:40:10,497 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Провяливание катализатора на воздухе не менее 12 часов перед сушкой: -
Сушка катализатора при 100 °C не менее 12 часов после провяливания: -
Прокаливание катализатора при 500 °C после сушки: -
Гранулированный наноструктурированный алюмооксидный катализатор: -
Содержание натрия в катализаторе от 0,005 до 0,02 мас.%: -
Содержание серы в катализатора от 0 до 5 мас.%: -
Содержание фосфора в катализаторе от 0 до 2,8 мас.%: -
Содержание хлора в катализаторе от 0 до 2,6 мас.%: -
Бидисперсная пористая структура катализатора: -
Объем микропор катализатора от 0,06 до 0,18 см³/г: -
Объем мезопор катализатора от 0,2 до 0,32 см³/г: -
Суммарный объем пор катализатора от 0,25 до 0,55 см³/г: -
Средний диаметр пор катализатора от 3 до 5,5 нм: -
Удельная поверхность катализатора от 200 до 350 м²/г: -
Оксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы: -
Суммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%: -
Содержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%: -
Форма гранул катализатора - цилиндр диаметром 3-5 мм: -
Форма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм: -
Способ приготовления катализатора, включающий термическую активацию гидраргиллита: -
Гидратация продуктов термической активации гидраргиллита в кислом растворе: -
Отмывка продуктов гидратации от примесных ионов: -
Введение модифицирующих добавок на стадии пластификации: -
Формование в гранулы методом экструзии: -
Проведение термической обработки сформированных гранул: -
Отмывка продуктов гидратации дистиллированной водой: -
Отмывка продуктов гидратации слабыми растворами серной кислоты: -
Отмывка продуктов гидратации слабыми растворами азотной кислоты: -
Использование растворов серной кислоты для пластификации гидроксида алюминия: -
Использование растворов соляной кислоты для пластификации гидроксида алюминия: -
Использование растворов ортофосфорной кислоты для пластификации гидроксида алюминия: -
Использование растворов азотной кислоты для пластификации гидроксида алюминия: -
Модифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃: -
Модифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃: -
Модифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃: -
Модифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃: -
Использование продукта центробежной термической активации гидраргиллита: -
Использование термоактивированного гидроксида алюминия: -
Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С: -
Способ получения этилена путем дегидратации этанола: -
2025-10-05 23:40:10,499 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8
2025-10-05 23:40:10,499 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8, message: {'status': 'completed', 'message': 'Провяливание катализатора на воздухе не менее 12 часов перед сушкой: -\nСушка катализатора при 100 °C не менее 12 часов после провяливания: -\nПрокаливание катализатора при 500 °C после сушки: -\nГранулированный наноструктурированный алюмооксидный катализатор: -\nСодержание натрия в катализаторе от 0,005 до 0,02 мас.%: -\nСодержание серы в катализатора от 0 до 5 мас.%: -\nСодержание фосфора в катализаторе от 0 до 2,8 мас.%: -\nСодержание хлора в катализаторе от 0 до 2,6 мас.%: -\nБидисперсная пористая структура катализатора: -\nОбъем микропор катализатора от 0,06 до 0,18 см³/г: -\nОбъем мезопор катализатора от 0,2 до 0,32 см³/г: -\nСуммарный объем пор катализатора от 0,25 до 0,55 см³/г: -\nСредний диаметр пор катализатора от 3 до 5,5 нм: -\nУдельная поверхность катализатора от 200 до 350 м²/г: -\nОксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы: -\nСуммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%: -\nСодержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%: -\nФорма гранул катализатора - цилиндр диаметром 3-5 мм: -\nФорма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм: -\nСпособ приготовления катализатора, включающий термическую активацию гидраргиллита: -\nГидратация продуктов термической активации гидраргиллита в кислом растворе: -\nОтмывка продуктов гидратации от примесных ионов: -\nВведение модифицирующих добавок на стадии пластификации: -\nФормование в гранулы методом экструзии: -\nПроведение термической обработки сформированных гранул: -\nОтмывка продуктов гидратации дистиллированной водой: -\nОтмывка продуктов гидратации слабыми растворами серной кислоты: -\nОтмывка продуктов гидратации слабыми растворами азотной кислоты: -\nИспользование растворов серной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов соляной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов ортофосфорной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов азотной кислоты для пластификации гидроксида алюминия: -\nМодифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃: -\nМодифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃: -\nМодифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃: -\nМодифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃: -\nИспользование продукта центробежной термической активации гидраргиллита: -\nИспользование термоактивированного гидроксида алюминия: -\nПроведение термической обработки гранул гидроксида алюминия при температуре 500-550°С: -\nСпособ получения этилена путем дегидратации этанола: -', 'stage': 'completed'}
2025-10-05 23:40:10,501 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEC30>, 1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8
2025-10-05 23:40:10,512 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7
2025-10-05 23:40:10,512 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:40:10,512 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7 создан новый список соединений
2025-10-05 23:40:10,513 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7: 1
2025-10-05 23:40:10,513 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7 содержит 0 сообщений
2025-10-05 23:40:10,514 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:40:10,514 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8: 1 соединений
2025-10-05 23:40:10,515 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7: 1 соединений
2025-10-05 23:40:10,515 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7 содержит 0 сообщений
2025-10-05 23:40:10,515 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7
2025-10-05 23:40:10,515 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7 connected successfully
2025-10-05 23:40:10,516 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8 disconnected
2025-10-05 23:40:10,516 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:40:10,516 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7: 1 соединений
2025-10-05 23:40:10,517 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:edda3863-459b-4cb9-86e3-c9891d9d9ad8 cleanup completed
2025-10-05 23:40:10,518 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:40:10,520 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:40:10,520 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:40:10,520 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:40:10,520 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:40:10,521 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:40:10,521 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C360>
2025-10-05 23:40:10,521 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:40:10,522 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C360>
2025-10-05 23:40:10,522 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:40:10,522 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:40:10,522 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C360>
2025-10-05 23:40:10,523 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:40:10,523 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:40:10,524 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:40:10,524 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:40:10,525 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:40:10,525 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:40:10,525 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:40:10,525 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:40:10,526 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:40:10,526 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:40:10,526 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7
2025-10-05 23:40:10,527 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:40:10,527 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE9F0>, 1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7
2025-10-05 23:40:10,528 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7
2025-10-05 23:40:10,528 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:40:10,529 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE9F0>, 1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7
2025-10-05 23:40:10,529 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7
2025-10-05 23:40:10,529 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:40:10,530 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE9F0>, 1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7
2025-10-05 23:40:10,530 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7
2025-10-05 23:40:10,545 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:40:10,546 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE9F0>, 1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7
2025-10-05 23:41:12,056 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора: -
Проведение процесса получения этилена при температуре 350-450°С: -
Проведение процесса получения этилена при времени контакта 0.2-4.0 с: -
Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов: -
Содержание палладия в катализаторе 0,01÷1,0 мас.%: -
Размер частиц палладия от 1,5 до 20 нм: -
Нанесение активного компонента (палладия) на бидисперсный силикагель: -
Содержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%: -
Удельная поверхность бидисперсного силикагеля 150÷350 м²/г: -
Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г: -
Отсутствие микропор в бидисперсном силикагеле: -
Объем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г: -
Объем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г: -
Способ приготовления палладиевого катализатора: -
Использование предварительно высушенного носителя: -
Пропитка носителя водным раствором стабилизированного нитрата палладия: -
Пропитка носителя раствором стабилизированного нитрата палладия при определенных рН: -
Сушка катализатора после пропитки: -
Прокаливание катализатора на воздухе после сушки: -
Восстановление катализатора в потоке водородсодержащего газа после прокаливания: -
Добавление лимонной кислоты в пропиточные растворы: -
Предотвращение агломерации палладийсодержащих частиц на поверхности носителя: -
Регулирование рН пропиточных растворов без введения катионов щелочных металлов: -
Регулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида: -
Способ очистки олефинов от примесей полиненасыщенных углеводородов: -
Очистка путем каталитического гидрирования: -
Гидрирование при повышенных температурах: -
Гидрирование при атмосферном давлении: -
Гидрирование при температуре 50-200°С: -
Гидрирование при объемной скорости 10000-20000 ч⁻¹: -
Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой: -
Использование гидроксида алюминия в виде гидратированного соединения: -
Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия: -
Содержание в гидратированном соединении до 10% гиббсита: -
Размол гидроксида алюминия до частиц размером менее 20 мкм: -
Количество частиц размером менее 20 мкм после размола более 70%: -
Смешивание размолотого гидроксида алюминия с водой: -
Проведение смешивания в присутствии азотной кислоты: -
Проведение пластификации полученной смеси: -
Формование гранул из пластифицированного продукта: -
2025-10-05 23:41:12,057 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7
2025-10-05 23:41:12,058 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7, message: {'status': 'completed', 'message': 'Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора: -\nПроведение процесса получения этилена при температуре 350-450°С: -\nПроведение процесса получения этилена при времени контакта 0.2-4.0 с: -\nКатализатор для очистки олефинов от примесей полиненасыщенных углеводородов: -\nСодержание палладия в катализаторе 0,01÷1,0 мас.%: -\nРазмер частиц палладия от 1,5 до 20 нм: -\nНанесение активного компонента (палладия) на бидисперсный силикагель: -\nСодержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%: -\nУдельная поверхность бидисперсного силикагеля 150÷350 м²/г: -\nОбщий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г: -\nОтсутствие микропор в бидисперсном силикагеле: -\nОбъем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г: -\nОбъем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г: -\nСпособ приготовления палладиевого катализатора: -\nИспользование предварительно высушенного носителя: -\nПропитка носителя водным раствором стабилизированного нитрата палладия: -\nПропитка носителя раствором стабилизированного нитрата палладия при определенных рН: -\nСушка катализатора после пропитки: -\nПрокаливание катализатора на воздухе после сушки: -\nВосстановление катализатора в потоке водородсодержащего газа после прокаливания: -\nДобавление лимонной кислоты в пропиточные растворы: -\nПредотвращение агломерации палладийсодержащих частиц на поверхности носителя: -\nРегулирование рН пропиточных растворов без введения катионов щелочных металлов: -\nРегулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида: -\nСпособ очистки олефинов от примесей полиненасыщенных углеводородов: -\nОчистка путем каталитического гидрирования: -\nГидрирование при повышенных температурах: -\nГидрирование при атмосферном давлении: -\nГидрирование при температуре 50-200°С: -\nГидрирование при объемной скорости 10000-20000 ч⁻¹: -\nСпособ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой: -\nИспользование гидроксида алюминия в виде гидратированного соединения: -\nСодержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия: -\nСодержание в гидратированном соединении до 10% гиббсита: -\nРазмол гидроксида алюминия до частиц размером менее 20 мкм: -\nКоличество частиц размером менее 20 мкм после размола более 70%: -\nСмешивание размолотого гидроксида алюминия с водой: -\nПроведение смешивания в присутствии азотной кислоты: -\nПроведение пластификации полученной смеси: -\nФормование гранул из пластифицированного продукта: -', 'stage': 'completed'}
2025-10-05 23:41:12,059 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE9F0>, 1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7
2025-10-05 23:41:12,072 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7 disconnected
2025-10-05 23:41:12,072 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:41:12,073 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:250d962d-5ba3-4a93-9356-15e2b4f02fc7 cleanup completed
2025-10-05 23:41:12,075 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:63e7d40b-f508-4400-9a55-5a272b621075
2025-10-05 23:41:12,075 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:41:12,075 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:63e7d40b-f508-4400-9a55-5a272b621075 создан новый список соединений
2025-10-05 23:41:12,076 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:63e7d40b-f508-4400-9a55-5a272b621075: 1
2025-10-05 23:41:12,076 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:63e7d40b-f508-4400-9a55-5a272b621075 содержит 0 сообщений
2025-10-05 23:41:12,077 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:41:12,077 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:63e7d40b-f508-4400-9a55-5a272b621075: 1 соединений
2025-10-05 23:41:12,077 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:63e7d40b-f508-4400-9a55-5a272b621075 содержит 0 сообщений
2025-10-05 23:41:12,078 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:63e7d40b-f508-4400-9a55-5a272b621075
2025-10-05 23:41:12,078 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:63e7d40b-f508-4400-9a55-5a272b621075 connected successfully
2025-10-05 23:41:12,079 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:41:12,080 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:41:12,080 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:41:12,080 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:41:12,081 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:41:12,081 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:41:12,081 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C3D0>
2025-10-05 23:41:12,081 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:41:12,082 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:63e7d40b-f508-4400-9a55-5a272b621075, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C3D0>
2025-10-05 23:41:12,082 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:41:12,082 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:41:12,082 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C3D0>
2025-10-05 23:41:12,083 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:41:12,083 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:41:12,084 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:41:12,085 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:41:12,085 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:41:12,085 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:41:12,086 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:41:12,086 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:41:12,086 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:41:12,086 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:41:12,086 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:63e7d40b-f508-4400-9a55-5a272b621075
2025-10-05 23:41:12,087 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:63e7d40b-f508-4400-9a55-5a272b621075, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:41:12,087 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE9F0>, 1830913972:63e7d40b-f508-4400-9a55-5a272b621075
2025-10-05 23:41:12,087 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:63e7d40b-f508-4400-9a55-5a272b621075
2025-10-05 23:41:12,088 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:63e7d40b-f508-4400-9a55-5a272b621075, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:41:12,088 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE9F0>, 1830913972:63e7d40b-f508-4400-9a55-5a272b621075
2025-10-05 23:41:12,088 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:63e7d40b-f508-4400-9a55-5a272b621075
2025-10-05 23:41:12,089 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:63e7d40b-f508-4400-9a55-5a272b621075, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:41:12,089 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE9F0>, 1830913972:63e7d40b-f508-4400-9a55-5a272b621075
2025-10-05 23:41:12,089 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:63e7d40b-f508-4400-9a55-5a272b621075
2025-10-05 23:41:12,090 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:63e7d40b-f508-4400-9a55-5a272b621075, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:41:12,090 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE9F0>, 1830913972:63e7d40b-f508-4400-9a55-5a272b621075
2025-10-05 23:41:49,315 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Формование гранул в слое керосина: -
Формование гранул в водном растворе аммиака: -
Сушка полученных гранул: -
Прокаливание полученных гранул: -
Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л: -
Промывка гранул после прокаливания водой: -
Значение pH воды для промывки от 6 до 9: -
Время промывки 15 минут: -
Проведение термообработки промытых гранул: -
Температура термообработки 250 °C: -
Каталитический реактор трубчатого типа: -
Проведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C: -
Реактор содержит корпус: -
Реактор содержит трубные решетки: -
Реактор содержит устройства для ввода реагентов: -
Реактор содержит устройства для вывода реагентов: -
Реактор содержит устройства для ввода хладагентов: -
Реактор содержит устройства для вывода хладагентов: -
Реактор содержит каталитически активные теплообменные трубки: -
Соединение каталитически активных теплообменных трубок с трубными решетками: -
Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки: -
Нанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок: -
Слой каталитически активного армированного порометаллического материала образован плоскими лентами: -
Слой каталитически активного армированного порометаллического материала образован гофрированными лентами: -
Создание бидисперсной структуры нанесенного на поверхность трубки слоя: -
Толщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм: -
Равномерное нанесение слоя катализатора по длине трубки: -
Неравномерное нанесение слоя катализатора по длине трубки: -
Способ осуществления сильно экзотермических реакций: -
Подача реагирующей смеси стехиометрического состава в межтрубное пространство: -
Подача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство: -
Образование межтрубного пространства каталитически активными теплообменными трубками: -
Подача хладоагента внутрь каталитически активных теплообменных трубок: -
Способ получения пористого железо-калиевооксидного композита: -
Приготовление шихты: -
Шихта содержит кристаллогидрат нитрата железа: -
Шихта содержит кристаллогидрат нитрата церия: -
Шихта содержит нитрат калия: -
Шихта содержит оксид молибдена: -
Шихта содержит оксид титана: -
2025-10-05 23:41:49,317 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:63e7d40b-f508-4400-9a55-5a272b621075
2025-10-05 23:41:49,317 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:63e7d40b-f508-4400-9a55-5a272b621075, message: {'status': 'completed', 'message': 'Формование гранул в слое керосина: -\nФормование гранул в водном растворе аммиака: -\nСушка полученных гранул: -\nПрокаливание полученных гранул: -\nСмешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л: -\nПромывка гранул после прокаливания водой: -\nЗначение pH воды для промывки от 6 до 9: -\nВремя промывки 15 минут: -\nПроведение термообработки промытых гранул: -\nТемпература термообработки 250 °C: -\nКаталитический реактор трубчатого типа: -\nПроведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C: -\nРеактор содержит корпус: -\nРеактор содержит трубные решетки: -\nРеактор содержит устройства для ввода реагентов: -\nРеактор содержит устройства для вывода реагентов: -\nРеактор содержит устройства для ввода хладагентов: -\nРеактор содержит устройства для вывода хладагентов: -\nРеактор содержит каталитически активные теплообменные трубки: -\nСоединение каталитически активных теплообменных трубок с трубными решетками: -\nКаталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки: -\nНанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок: -\nСлой каталитически активного армированного порометаллического материала образован плоскими лентами: -\nСлой каталитически активного армированного порометаллического материала образован гофрированными лентами: -\nСоздание бидисперсной структуры нанесенного на поверхность трубки слоя: -\nТолщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм: -\nРавномерное нанесение слоя катализатора по длине трубки: -\nНеравномерное нанесение слоя катализатора по длине трубки: -\nСпособ осуществления сильно экзотермических реакций: -\nПодача реагирующей смеси стехиометрического состава в межтрубное пространство: -\nПодача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство: -\nОбразование межтрубного пространства каталитически активными теплообменными трубками: -\nПодача хладоагента внутрь каталитически активных теплообменных трубок: -\nСпособ получения пористого железо-калиевооксидного композита: -\nПриготовление шихты: -\nШихта содержит кристаллогидрат нитрата железа: -\nШихта содержит кристаллогидрат нитрата церия: -\nШихта содержит нитрат калия: -\nШихта содержит оксид молибдена: -\nШихта содержит оксид титана: -', 'stage': 'completed'}
2025-10-05 23:41:49,320 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE9F0>, 1830913972:63e7d40b-f508-4400-9a55-5a272b621075
2025-10-05 23:41:49,332 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:63e7d40b-f508-4400-9a55-5a272b621075 disconnected
2025-10-05 23:41:49,333 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:41:49,334 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:63e7d40b-f508-4400-9a55-5a272b621075 cleanup completed
2025-10-05 23:41:49,335 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:1c793dd9-362c-4580-a0fb-17861f613c28
2025-10-05 23:41:49,336 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:1c793dd9-362c-4580-a0fb-17861f613c28 создан новый список соединений
2025-10-05 23:41:49,336 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:1c793dd9-362c-4580-a0fb-17861f613c28: 1
2025-10-05 23:41:49,337 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:1c793dd9-362c-4580-a0fb-17861f613c28 содержит 0 сообщений
2025-10-05 23:41:49,337 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:41:49,338 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:1c793dd9-362c-4580-a0fb-17861f613c28: 1 соединений
2025-10-05 23:41:49,338 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:1c793dd9-362c-4580-a0fb-17861f613c28 содержит 0 сообщений
2025-10-05 23:41:49,339 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:1c793dd9-362c-4580-a0fb-17861f613c28
2025-10-05 23:41:49,339 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:1c793dd9-362c-4580-a0fb-17861f613c28 connected successfully
2025-10-05 23:41:49,341 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:41:49,342 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:41:49,343 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:41:49,343 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:41:49,343 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:41:49,344 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:41:49,344 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:41:49,344 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347ED60>
2025-10-05 23:41:49,345 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:41:49,345 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:1c793dd9-362c-4580-a0fb-17861f613c28, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347ED60>
2025-10-05 23:41:49,345 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:41:49,346 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:41:49,346 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347ED60>
2025-10-05 23:41:49,346 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:41:49,347 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:41:49,348 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:41:49,350 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:41:49,350 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:41:49,350 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:41:49,350 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:41:49,351 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:41:49,351 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:41:49,351 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:41:49,351 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:1c793dd9-362c-4580-a0fb-17861f613c28
2025-10-05 23:41:49,352 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:1c793dd9-362c-4580-a0fb-17861f613c28, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:41:49,352 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD370>, 1830913972:1c793dd9-362c-4580-a0fb-17861f613c28
2025-10-05 23:41:49,353 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:1c793dd9-362c-4580-a0fb-17861f613c28
2025-10-05 23:41:49,353 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:1c793dd9-362c-4580-a0fb-17861f613c28, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:41:49,354 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD370>, 1830913972:1c793dd9-362c-4580-a0fb-17861f613c28
2025-10-05 23:41:49,354 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:1c793dd9-362c-4580-a0fb-17861f613c28
2025-10-05 23:41:49,354 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:1c793dd9-362c-4580-a0fb-17861f613c28, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:41:49,354 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD370>, 1830913972:1c793dd9-362c-4580-a0fb-17861f613c28
2025-10-05 23:41:49,369 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:1c793dd9-362c-4580-a0fb-17861f613c28
2025-10-05 23:41:49,370 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:1c793dd9-362c-4580-a0fb-17861f613c28, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:41:49,370 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD370>, 1830913972:1c793dd9-362c-4580-a0fb-17861f613c28
2025-10-05 23:42:34,270 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Шихта содержит карбонат кальция: -
Шихта содержит тетраэтоксисилан: -
Компоненты шихты взяты в стехиометрическом соотношении: -
Импрегнирование в шихту выгорающей микродобавки: -
Импрегнирование продуктами гидролиза солей: -
Получение продуктов гидролиза солей способом соосаждения: -
Получение продуктов гидролиза солей способом золь-гель: -
Использование диоксанлигнина березы в качестве выгорающей микродобавки: -
Количество выгорающей микродобавки 0,125-0,250 мас.%: -
Формование образцов композита методом полусухого прессования: -
Проведение обжига: -
Обжиг в интервале температур 20-700°С: -
Скорость нагрева при обжиге 10°/мин: -
Изотермическая выдержка при обжиге в течение 3 часов: -
Формирование бидисперсной структуры в композите: -
Пористый железо-калиевооксидный композит: -
Композит содержит фазу оксида железа α-Fe2O3: -
Композит содержит фазу оксида церия CeO2: -
Композит содержит фазу молибдата калия K2MoO4: -
Композит содержит фазу феррита калия состава KFeO2: -
Композит содержит фазу феррита калия состава KFe11O17: -
Композит имеет бидисперсную структуру: -
Общий объем пор композита от 0,006 до 0,013 см3/г: -
Диаметр мезопор композита от 16 до 40 нм: -
Диаметр макропор композита от 75 до 130 нм: -
Удельная поверхность композита от 2 до 5 м2/г: -
Способ получения пористых порошковых материалов: -
Нанесение на частицы порообразователя связующего: -
Смешивание частиц порообразователя со связующим с порошком: -
Формование шихты: -
Спекание шихты: -
Использование металлического порошка при смешивании: -
Использование керамического порошка при смешивании: -
Нанесение на частицы порообразователя не менее двух слоев керамического порошка: -
Нанесение на частицы порообразователя не более пяти слоев керамического порошка: -
Нанесение органического связющего при нанесении первого слоя керамического порошка: -
Использование неорганического связующего при нанесении второго слоя керамического порошка: -
Использование неорганического связующего при нанесении последующих слоев керамического порошка: -
Использование гранул пенополистирола в качестве частиц порообразователя: -
Использование частиц порообразователя с размером в диапазоне 0,5-1 мм: -
2025-10-05 23:42:34,271 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:1c793dd9-362c-4580-a0fb-17861f613c28
2025-10-05 23:42:34,272 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:1c793dd9-362c-4580-a0fb-17861f613c28, message: {'status': 'completed', 'message': 'Шихта содержит карбонат кальция: -\nШихта содержит тетраэтоксисилан: -\nКомпоненты шихты взяты в стехиометрическом соотношении: -\nИмпрегнирование в шихту выгорающей микродобавки: -\nИмпрегнирование продуктами гидролиза солей: -\nПолучение продуктов гидролиза солей способом соосаждения: -\nПолучение продуктов гидролиза солей способом золь-гель: -\nИспользование диоксанлигнина березы в качестве выгорающей микродобавки: -\nКоличество выгорающей микродобавки 0,125-0,250 мас.%: -\nФормование образцов композита методом полусухого прессования: -\nПроведение обжига: -\nОбжиг в интервале температур 20-700°С: -\nСкорость нагрева при обжиге 10°/мин: -\nИзотермическая выдержка при обжиге в течение 3 часов: -\nФормирование бидисперсной структуры в композите: -\nПористый железо-калиевооксидный композит: -\nКомпозит содержит фазу оксида железа α-Fe2O3: -\nКомпозит содержит фазу оксида церия CeO2: -\nКомпозит содержит фазу молибдата калия K2MoO4: -\nКомпозит содержит фазу феррита калия состава KFeO2: -\nКомпозит содержит фазу феррита калия состава KFe11O17: -\nКомпозит имеет бидисперсную структуру: -\nОбщий объем пор композита от 0,006 до 0,013 см3/г: -\nДиаметр мезопор композита от 16 до 40 нм: -\nДиаметр макропор композита от 75 до 130 нм: -\nУдельная поверхность композита от 2 до 5 м2/г: -\nСпособ получения пористых порошковых материалов: -\nНанесение на частицы порообразователя связующего: -\nСмешивание частиц порообразователя со связующим с порошком: -\nФормование шихты: -\nСпекание шихты: -\nИспользование металлического порошка при смешивании: -\nИспользование керамического порошка при смешивании: -\nНанесение на частицы порообразователя не менее двух слоев керамического порошка: -\nНанесение на частицы порообразователя не более пяти слоев керамического порошка: -\nНанесение органического связющего при нанесении первого слоя керамического порошка: -\nИспользование неорганического связующего при нанесении второго слоя керамического порошка: -\nИспользование неорганического связующего при нанесении последующих слоев керамического порошка: -\nИспользование гранул пенополистирола в качестве частиц порообразователя: -\nИспользование частиц порообразователя с размером в диапазоне 0,5-1 мм: -', 'stage': 'completed'}
2025-10-05 23:42:34,274 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD370>, 1830913972:1c793dd9-362c-4580-a0fb-17861f613c28
2025-10-05 23:42:34,283 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:42:34,284 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c
2025-10-05 23:42:34,284 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c создан новый список соединений
2025-10-05 23:42:34,285 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c: 1
2025-10-05 23:42:34,285 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c содержит 0 сообщений
2025-10-05 23:42:34,286 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:42:34,286 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:1c793dd9-362c-4580-a0fb-17861f613c28: 1 соединений
2025-10-05 23:42:34,287 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c: 1 соединений
2025-10-05 23:42:34,287 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c содержит 0 сообщений
2025-10-05 23:42:34,288 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c
2025-10-05 23:42:34,288 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c connected successfully
2025-10-05 23:42:34,288 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:1c793dd9-362c-4580-a0fb-17861f613c28 disconnected
2025-10-05 23:42:34,288 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:42:34,289 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c: 1 соединений
2025-10-05 23:42:34,289 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:1c793dd9-362c-4580-a0fb-17861f613c28 cleanup completed
2025-10-05 23:42:34,290 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:42:34,291 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:42:34,291 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:42:34,291 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:42:34,291 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:42:34,292 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:42:34,304 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FBD0>
2025-10-05 23:42:34,304 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:42:34,305 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FBD0>
2025-10-05 23:42:34,305 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:42:34,305 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:42:34,306 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FBD0>
2025-10-05 23:42:34,306 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:42:34,307 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:42:34,307 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:42:34,308 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:42:34,308 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:42:34,309 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:42:34,309 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:42:34,309 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:42:34,309 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:42:34,309 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:42:34,310 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c
2025-10-05 23:42:34,310 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:42:34,311 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c
2025-10-05 23:42:34,311 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c
2025-10-05 23:42:34,312 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:42:34,315 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c
2025-10-05 23:42:34,316 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c
2025-10-05 23:42:34,316 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:42:34,316 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c
2025-10-05 23:42:34,317 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c
2025-10-05 23:42:34,317 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:42:34,318 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c
2025-10-05 23:42:52,599 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Использование водно-дисперсионного полиуретанового лака в качестве органического связующего: -
Использование водного раствора силиката натрия в качестве неорганического связующего: -
Способ соединения крупногабаритных порошковых деталей: -
Приготовление шихты на основе железа: -
Прессование деталей: -
Нанесение на соединяемые поверхности слоя шликера на основе порошка железа: -
Сборка деталей: -
Размещение пропитывающих брикетов на основе меди: -
Проведение спекания с одновременной инфильтрацией: -
Приготовление шликера из бидисперсных порошков: -
Расположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями: -
Нанесение слоя шликера на поверхность соединяемых деталей: -
Нанесение слоя шликера на поверхность непроницаемой перегородки: -
Размещение пропитывающих брикетов сверху сборки: -
Размещение пропитывающих брикетов снизу сборки: -
2025-10-05 23:42:52,600 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c
2025-10-05 23:42:52,601 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c, message: {'status': 'completed', 'message': 'Использование водно-дисперсионного полиуретанового лака в качестве органического связующего: -\nИспользование водного раствора силиката натрия в качестве неорганического связующего: -\nСпособ соединения крупногабаритных порошковых деталей: -\nПриготовление шихты на основе железа: -\nПрессование деталей: -\nНанесение на соединяемые поверхности слоя шликера на основе порошка железа: -\nСборка деталей: -\nРазмещение пропитывающих брикетов на основе меди: -\nПроведение спекания с одновременной инфильтрацией: -\nПриготовление шликера из бидисперсных порошков: -\nРасположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями: -\nНанесение слоя шликера на поверхность соединяемых деталей: -\nНанесение слоя шликера на поверхность непроницаемой перегородки: -\nРазмещение пропитывающих брикетов сверху сборки: -\nРазмещение пропитывающих брикетов снизу сборки: -', 'stage': 'completed'}
2025-10-05 23:42:52,601 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c
2025-10-05 23:42:52,613 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:42:52,613 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:28cc57b0-b080-445c-a05b-c3b60935018d
2025-10-05 23:42:52,613 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:28cc57b0-b080-445c-a05b-c3b60935018d создан новый список соединений
2025-10-05 23:42:52,613 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:28cc57b0-b080-445c-a05b-c3b60935018d: 1
2025-10-05 23:42:52,613 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:28cc57b0-b080-445c-a05b-c3b60935018d содержит 0 сообщений
2025-10-05 23:42:52,613 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:42:52,614 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c: 1 соединений
2025-10-05 23:42:52,614 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:28cc57b0-b080-445c-a05b-c3b60935018d: 1 соединений
2025-10-05 23:42:52,614 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:28cc57b0-b080-445c-a05b-c3b60935018d содержит 0 сообщений
2025-10-05 23:42:52,614 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:28cc57b0-b080-445c-a05b-c3b60935018d
2025-10-05 23:42:52,614 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:28cc57b0-b080-445c-a05b-c3b60935018d connected successfully
2025-10-05 23:42:52,614 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c disconnected
2025-10-05 23:42:52,614 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:42:52,614 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:28cc57b0-b080-445c-a05b-c3b60935018d: 1 соединений
2025-10-05 23:42:52,614 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:e10b4280-0f2b-4db5-a0a2-e841d5b9104c cleanup completed
2025-10-05 23:42:52,615 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:42:52,616 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:42:52,616 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:42:52,616 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:42:52,616 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:42:52,616 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:42:52,617 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CF30>
2025-10-05 23:42:52,617 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:42:52,617 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:28cc57b0-b080-445c-a05b-c3b60935018d, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CF30>
2025-10-05 23:42:52,618 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:42:52,618 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:42:52,618 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CF30>
2025-10-05 23:42:52,618 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:42:52,619 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:42:52,619 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:42:52,620 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:42:52,620 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:42:52,620 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:42:52,620 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:42:52,621 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:42:52,621 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:42:52,621 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:42:52,621 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:28cc57b0-b080-445c-a05b-c3b60935018d
2025-10-05 23:42:52,621 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:28cc57b0-b080-445c-a05b-c3b60935018d, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:42:52,621 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDA30>, 1830913972:28cc57b0-b080-445c-a05b-c3b60935018d
2025-10-05 23:42:52,622 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:28cc57b0-b080-445c-a05b-c3b60935018d
2025-10-05 23:42:52,622 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:28cc57b0-b080-445c-a05b-c3b60935018d, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:42:52,622 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDA30>, 1830913972:28cc57b0-b080-445c-a05b-c3b60935018d
2025-10-05 23:42:52,622 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:28cc57b0-b080-445c-a05b-c3b60935018d
2025-10-05 23:42:52,623 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:28cc57b0-b080-445c-a05b-c3b60935018d, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:42:52,623 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDA30>, 1830913972:28cc57b0-b080-445c-a05b-c3b60935018d
2025-10-05 23:42:52,623 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:28cc57b0-b080-445c-a05b-c3b60935018d
2025-10-05 23:42:52,623 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:28cc57b0-b080-445c-a05b-c3b60935018d, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:42:52,624 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDA30>, 1830913972:28cc57b0-b080-445c-a05b-c3b60935018d
2025-10-05 23:43:42,059 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Способ получения бидисперсных порошковых смесей: +
Получение смесей из порошков существенно разных размеров: +
Использование метода самораспространяющегося высокотемпературного синтеза (СВС): -
Подготовка смеси компонентов: -
Смешение нитрата металла и топливного компонента: -
Использование нитрата металла в качестве окислителя: -
Использование топливного компонента в качестве восстановителя: -
Использование глицерина в качестве топливного компонента: -
Использование тиомочевины в качестве топливного компонента: -
Использование этиленгликоля в качестве топливного компонента: -
Пропитка предварительно приготовленного порошка микронных размеров подготовленной смесью: -
Использование порошка микронных размеров на основе оксидов: -
Равномерное распределение реагентов на поверхности частиц порошка: -
Формирование однородной бидисперсной смеси: +
Удаление воды из раствора выпариванием: -
Удаление воды из раствора сушкой: -
Образование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка: -
Нагревание сухой смеси до определенной температуры: -
Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом: -
Экзотермический характер окислительно-восстановительной реакции: -
Самораспространяющийся характер процесса горения: -
Поддержание процесса горения за счет выделяемой энергии: -
Образование продукта в виде нанопорошка оксида металла: -
Формирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ): -
Получение бидисперсной системы, состоящей из микропорошка и нанопорошка: +
Более равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением: +
Способ получения смесевого твердого топлива с металлическим горючим: -
Механическое перемешивание компонентов: +
Использование металлического горючего в виде бидисперсной смеси порошков: -
Использование порошка алюминия микронных размеров: -
Использование нанопорошка алюминия: -
Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%: -
Перемешивание бидисперсной смеси до осредненного состояния: -
Введение бидисперсной смеси в количестве 10-25 мас.%: -
Введение бидисперсной смеси в полностью перемешанную смесь других компонентов: -
Дополнительное перемешивание полученной массы в течение не менее 30 мин: -
Вакуумирование полученной массы в течение не менее 30 мин: -
Использование перхлората аммония в качестве окислителя: -
Использование нитрата аммония в качестве окислителя: -
Использование смешанного окислителя, включающего нитрат аммония и нитрамин: -
2025-10-05 23:43:42,062 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:28cc57b0-b080-445c-a05b-c3b60935018d
2025-10-05 23:43:42,063 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:28cc57b0-b080-445c-a05b-c3b60935018d, message: {'status': 'completed', 'message': 'Способ получения бидисперсных порошковых смесей: +\nПолучение смесей из порошков существенно разных размеров: +\nИспользование метода самораспространяющегося высокотемпературного синтеза (СВС): -\nПодготовка смеси компонентов: -\nСмешение нитрата металла и топливного компонента: -\nИспользование нитрата металла в качестве окислителя: -\nИспользование топливного компонента в качестве восстановителя: -\nИспользование глицерина в качестве топливного компонента: -\nИспользование тиомочевины в качестве топливного компонента: -\nИспользование этиленгликоля в качестве топливного компонента: -\nПропитка предварительно приготовленного порошка микронных размеров подготовленной смесью: -\nИспользование порошка микронных размеров на основе оксидов: -\nРавномерное распределение реагентов на поверхности частиц порошка: -\nФормирование однородной бидисперсной смеси: +\nУдаление воды из раствора выпариванием: -\nУдаление воды из раствора сушкой: -\nОбразование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка: -\nНагревание сухой смеси до определенной температуры: -\nИнициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом: -\nЭкзотермический характер окислительно-восстановительной реакции: -\nСамораспространяющийся характер процесса горения: -\nПоддержание процесса горения за счет выделяемой энергии: -\nОбразование продукта в виде нанопорошка оксида металла: -\nФормирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ): -\nПолучение бидисперсной системы, состоящей из микропорошка и нанопорошка: +\nБолее равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением: +\nСпособ получения смесевого твердого топлива с металлическим горючим: -\nМеханическое перемешивание компонентов: +\nИспользование металлического горючего в виде бидисперсной смеси порошков: -\nИспользование порошка алюминия микронных размеров: -\nИспользование нанопорошка алюминия: -\nСоотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%: -\nПеремешивание бидисперсной смеси до осредненного состояния: -\nВведение бидисперсной смеси в количестве 10-25 мас.%: -\nВведение бидисперсной смеси в полностью перемешанную смесь других компонентов: -\nДополнительное перемешивание полученной массы в течение не менее 30 мин: -\nВакуумирование полученной массы в течение не менее 30 мин: -\nИспользование перхлората аммония в качестве окислителя: -\nИспользование нитрата аммония в качестве окислителя: -\nИспользование смешанного окислителя, включающего нитрат аммония и нитрамин: -', 'stage': 'completed'}
2025-10-05 23:43:42,064 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDA30>, 1830913972:28cc57b0-b080-445c-a05b-c3b60935018d
2025-10-05 23:43:42,077 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:28cc57b0-b080-445c-a05b-c3b60935018d disconnected
2025-10-05 23:43:42,078 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:43:42,078 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:28cc57b0-b080-445c-a05b-c3b60935018d cleanup completed
2025-10-05 23:43:42,080 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:28909df1-6828-4178-abf2-964c2a4b7a60
2025-10-05 23:43:42,079 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:43:42,080 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:28909df1-6828-4178-abf2-964c2a4b7a60 создан новый список соединений
2025-10-05 23:43:42,081 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:28909df1-6828-4178-abf2-964c2a4b7a60: 1
2025-10-05 23:43:42,081 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:28909df1-6828-4178-abf2-964c2a4b7a60 содержит 0 сообщений
2025-10-05 23:43:42,082 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:43:42,082 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:28909df1-6828-4178-abf2-964c2a4b7a60: 1 соединений
2025-10-05 23:43:42,082 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:28909df1-6828-4178-abf2-964c2a4b7a60 содержит 0 сообщений
2025-10-05 23:43:42,083 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:28909df1-6828-4178-abf2-964c2a4b7a60
2025-10-05 23:43:42,083 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:28909df1-6828-4178-abf2-964c2a4b7a60 connected successfully
2025-10-05 23:43:42,085 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:43:42,086 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:43:42,086 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:43:42,087 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:43:42,087 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:43:42,087 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:43:42,087 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C830>
2025-10-05 23:43:42,088 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:43:42,088 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:28909df1-6828-4178-abf2-964c2a4b7a60, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C830>
2025-10-05 23:43:42,088 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:43:42,088 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:43:42,089 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C830>
2025-10-05 23:43:42,089 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:43:42,090 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:43:42,091 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:43:42,092 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:43:42,092 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:43:42,092 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:43:42,092 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:43:42,093 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:43:42,093 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:43:42,093 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:43:42,116 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:28909df1-6828-4178-abf2-964c2a4b7a60
2025-10-05 23:43:42,117 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:28909df1-6828-4178-abf2-964c2a4b7a60, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:43:42,117 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDA30>, 1830913972:28909df1-6828-4178-abf2-964c2a4b7a60
2025-10-05 23:43:42,118 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:28909df1-6828-4178-abf2-964c2a4b7a60
2025-10-05 23:43:42,118 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:28909df1-6828-4178-abf2-964c2a4b7a60, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:43:42,118 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDA30>, 1830913972:28909df1-6828-4178-abf2-964c2a4b7a60
2025-10-05 23:43:42,119 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:28909df1-6828-4178-abf2-964c2a4b7a60
2025-10-05 23:43:42,119 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:28909df1-6828-4178-abf2-964c2a4b7a60, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:43:42,119 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDA30>, 1830913972:28909df1-6828-4178-abf2-964c2a4b7a60
2025-10-05 23:43:42,120 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:28909df1-6828-4178-abf2-964c2a4b7a60
2025-10-05 23:43:42,120 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:28909df1-6828-4178-abf2-964c2a4b7a60, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:43:42,120 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDA30>, 1830913972:28909df1-6828-4178-abf2-964c2a4b7a60
2025-10-05 23:44:21,335 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего: -
Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего: -
Способ получения порошковой смеси бидисперсных керамических и металлических частиц: +
Перемешивание порошков в жидкой среде: +
Двухэтапное перемешивание: +
Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды: +
Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1: +
Перемешивание керамических наночастиц в жидкой среде на первом этапе: +
Длительность перемешивания на первом этапе не менее 15 минут: +
Добавление металлических микрочастиц на втором этапе: +
Перемешивание полученной смеси на втором этапе: +
Длительность перемешивания на втором этапе не менее 15 минут: +
Удаление жидкости после перемешивания: +
Удаление жидкости в сушильном шкафу: +
Температура удаления жидкости не менее 80°C: +
Длительность удаления жидкости не менее 24 часов: +
Использование керамических наночастиц: +
Диаметр керамических наночастиц от 30 до 140 нм: +
Использование металлических микрочастиц: +
Диаметр металлических микрочастиц от 20 до 180 мкм: +
Массовое соотношение порошков и жидкости 1/2: +
Массовое соотношение наночастиц и микрочастиц 1/19: +
Способ получения дифениламина: -
Термическая обработка анилина: -
Проведение термической обработка в присутствии катализатора: -
Использование алюмооксидного катализатора: -
Катализатор кислого характера: -
Получение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде: -
Использование азотной кислоты при получении катализатора: -
Пластификация катализатора: -
Формование катализатора: -
Сушка катализатора: -
Прокаливание катализатора при повышенной температуре: -
Катализатор с бидисперсной пористой структурой: -
Суммарный объем пор катализатора равен или более 0,45 см³/г: -
Объем пор катализатора с радиусом более равен или более 0,27 см³/г: -
Удельная поверхность катализатора не менее 200 м²/г: -
Получение катализатора из термо- или термомеханохимически активированного гидроксида алюминия: -
Смешивание активированного гидроксида алюминия с ортофосфорной кислотой: -
Проведение пластификации при кислотном модуле 0,02 - 0,07: -
2025-10-05 23:44:21,337 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:28909df1-6828-4178-abf2-964c2a4b7a60
2025-10-05 23:44:21,337 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:28909df1-6828-4178-abf2-964c2a4b7a60, message: {'status': 'completed', 'message': 'Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего: -\nИспользование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего: -\nСпособ получения порошковой смеси бидисперсных керамических и металлических частиц: +\nПеремешивание порошков в жидкой среде: +\nДвухэтапное перемешивание: +\nИспользование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды: +\nМассовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1: +\nПеремешивание керамических наночастиц в жидкой среде на первом этапе: +\nДлительность перемешивания на первом этапе не менее 15 минут: +\nДобавление металлических микрочастиц на втором этапе: +\nПеремешивание полученной смеси на втором этапе: +\nДлительность перемешивания на втором этапе не менее 15 минут: +\nУдаление жидкости после перемешивания: +\nУдаление жидкости в сушильном шкафу: +\nТемпература удаления жидкости не менее 80°C: +\nДлительность удаления жидкости не менее 24 часов: +\nИспользование керамических наночастиц: +\nДиаметр керамических наночастиц от 30 до 140 нм: +\nИспользование металлических микрочастиц: +\nДиаметр металлических микрочастиц от 20 до 180 мкм: +\nМассовое соотношение порошков и жидкости 1/2: +\nМассовое соотношение наночастиц и микрочастиц 1/19: +\nСпособ получения дифениламина: -\nТермическая обработка анилина: -\nПроведение термической обработка в присутствии катализатора: -\nИспользование алюмооксидного катализатора: -\nКатализатор кислого характера: -\nПолучение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде: -\nИспользование азотной кислоты при получении катализатора: -\nПластификация катализатора: -\nФормование катализатора: -\nСушка катализатора: -\nПрокаливание катализатора при повышенной температуре: -\nКатализатор с бидисперсной пористой структурой: -\nСуммарный объем пор катализатора равен или более 0,45 см³/г: -\nОбъем пор катализатора с радиусом более равен или более 0,27 см³/г: -\nУдельная поверхность катализатора не менее 200 м²/г: -\nПолучение катализатора из термо- или термомеханохимически активированного гидроксида алюминия: -\nСмешивание активированного гидроксида алюминия с ортофосфорной кислотой: -\nПроведение пластификации при кислотном модуле 0,02 - 0,07: -', 'stage': 'completed'}
2025-10-05 23:44:21,339 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDA30>, 1830913972:28909df1-6828-4178-abf2-964c2a4b7a60
2025-10-05 23:44:21,351 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:28909df1-6828-4178-abf2-964c2a4b7a60 disconnected
2025-10-05 23:44:21,352 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:44:21,352 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:28909df1-6828-4178-abf2-964c2a4b7a60 cleanup completed
2025-10-05 23:44:21,354 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:f9ab382e-e618-46bc-b832-edf01bde177f
2025-10-05 23:44:21,355 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:f9ab382e-e618-46bc-b832-edf01bde177f создан новый список соединений
2025-10-05 23:44:21,355 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:f9ab382e-e618-46bc-b832-edf01bde177f: 1
2025-10-05 23:44:21,355 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:f9ab382e-e618-46bc-b832-edf01bde177f содержит 0 сообщений
2025-10-05 23:44:21,355 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:44:21,356 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:f9ab382e-e618-46bc-b832-edf01bde177f: 1 соединений
2025-10-05 23:44:21,356 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:f9ab382e-e618-46bc-b832-edf01bde177f содержит 0 сообщений
2025-10-05 23:44:21,356 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:f9ab382e-e618-46bc-b832-edf01bde177f
2025-10-05 23:44:21,357 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:f9ab382e-e618-46bc-b832-edf01bde177f connected successfully
2025-10-05 23:44:21,358 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:44:21,358 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:44:21,359 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:44:21,359 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:44:21,360 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:44:21,360 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:44:21,360 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:44:21,360 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D780>
2025-10-05 23:44:21,360 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:44:21,360 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:f9ab382e-e618-46bc-b832-edf01bde177f, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D780>
2025-10-05 23:44:21,361 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:44:21,361 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:44:21,361 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D780>
2025-10-05 23:44:21,362 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:44:21,362 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:44:21,363 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:44:21,364 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:44:21,364 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:44:21,364 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:44:21,364 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:44:21,365 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:44:21,365 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:44:21,365 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:44:21,366 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f9ab382e-e618-46bc-b832-edf01bde177f
2025-10-05 23:44:21,366 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f9ab382e-e618-46bc-b832-edf01bde177f, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:44:21,367 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE060>, 1830913972:f9ab382e-e618-46bc-b832-edf01bde177f
2025-10-05 23:44:21,367 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f9ab382e-e618-46bc-b832-edf01bde177f
2025-10-05 23:44:21,367 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f9ab382e-e618-46bc-b832-edf01bde177f, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:44:21,368 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE060>, 1830913972:f9ab382e-e618-46bc-b832-edf01bde177f
2025-10-05 23:44:21,368 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f9ab382e-e618-46bc-b832-edf01bde177f
2025-10-05 23:44:21,368 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f9ab382e-e618-46bc-b832-edf01bde177f, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:44:21,369 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE060>, 1830913972:f9ab382e-e618-46bc-b832-edf01bde177f
2025-10-05 23:44:21,369 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f9ab382e-e618-46bc-b832-edf01bde177f
2025-10-05 23:44:21,370 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f9ab382e-e618-46bc-b832-edf01bde177f, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:44:21,370 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE060>, 1830913972:f9ab382e-e618-46bc-b832-edf01bde177f
2025-10-05 23:45:12,634 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Провяливание катализатора на воздухе не менее 12 часов перед сушкой: -
Сушка катализатора при 100 °C не менее 12 часов после провяливания: -
Прокаливание катализатора при 500 °C после сушки: -
Гранулированный наноструктурированный алюмооксидный катализатор: -
Содержание натрия в катализаторе от 0,005 до 0,02 мас.%: -
Содержание серы в катализатора от 0 до 5 мас.%: -
Содержание фосфора в катализаторе от 0 до 2,8 мас.%: -
Содержание хлора в катализаторе от 0 до 2,6 мас.%: -
Бидисперсная пористая структура катализатора: -
Объем микропор катализатора от 0,06 до 0,18 см³/г: -
Объем мезопор катализатора от 0,2 до 0,32 см³/г: -
Суммарный объем пор катализатора от 0,25 до 0,55 см³/г: -
Средний диаметр пор катализатора от 3 до 5,5 нм: -
Удельная поверхность катализатора от 200 до 350 м²/г: -
Оксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы: -
Суммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%: -
Содержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%: -
Форма гранул катализатора - цилиндр диаметром 3-5 мм: -
Форма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм: -
Способ приготовления катализатора, включающий термическую активацию гидраргиллита: -
Гидратация продуктов термической активации гидраргиллита в кислом растворе: -
Отмывка продуктов гидратации от примесных ионов: -
Введение модифицирующих добавок на стадии пластификации: -
Формование в гранулы методом экструзии: -
Проведение термической обработки сформированных гранул: -
Отмывка продуктов гидратации дистиллированной водой: -
Отмывка продуктов гидратации слабыми растворами серной кислоты: -
Отмывка продуктов гидратации слабыми растворами азотной кислоты: -
Использование растворов серной кислоты для пластификации гидроксида алюминия: -
Использование растворов соляной кислоты для пластификации гидроксида алюминия: -
Использование растворов ортофосфорной кислоты для пластификации гидроксида алюминия: -
Использование растворов азотной кислоты для пластификации гидроксида алюминия: -
Модифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃: -
Модифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃: -
Модифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃: -
Модифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃: -
Использование продукта центробежной термической активации гидраргиллита: -
Использование термоактивированного гидроксида алюминия: -
Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С: -
Способ получения этилена путем дегидратации этанола: -
2025-10-05 23:45:12,637 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f9ab382e-e618-46bc-b832-edf01bde177f
2025-10-05 23:45:12,637 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f9ab382e-e618-46bc-b832-edf01bde177f, message: {'status': 'completed', 'message': 'Провяливание катализатора на воздухе не менее 12 часов перед сушкой: -\nСушка катализатора при 100 °C не менее 12 часов после провяливания: -\nПрокаливание катализатора при 500 °C после сушки: -\nГранулированный наноструктурированный алюмооксидный катализатор: -\nСодержание натрия в катализаторе от 0,005 до 0,02 мас.%: -\nСодержание серы в катализатора от 0 до 5 мас.%: -\nСодержание фосфора в катализаторе от 0 до 2,8 мас.%: -\nСодержание хлора в катализаторе от 0 до 2,6 мас.%: -\nБидисперсная пористая структура катализатора: -\nОбъем микропор катализатора от 0,06 до 0,18 см³/г: -\nОбъем мезопор катализатора от 0,2 до 0,32 см³/г: -\nСуммарный объем пор катализатора от 0,25 до 0,55 см³/г: -\nСредний диаметр пор катализатора от 3 до 5,5 нм: -\nУдельная поверхность катализатора от 200 до 350 м²/г: -\nОксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы: -\nСуммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%: -\nСодержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%: -\nФорма гранул катализатора - цилиндр диаметром 3-5 мм: -\nФорма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм: -\nСпособ приготовления катализатора, включающий термическую активацию гидраргиллита: -\nГидратация продуктов термической активации гидраргиллита в кислом растворе: -\nОтмывка продуктов гидратации от примесных ионов: -\nВведение модифицирующих добавок на стадии пластификации: -\nФормование в гранулы методом экструзии: -\nПроведение термической обработки сформированных гранул: -\nОтмывка продуктов гидратации дистиллированной водой: -\nОтмывка продуктов гидратации слабыми растворами серной кислоты: -\nОтмывка продуктов гидратации слабыми растворами азотной кислоты: -\nИспользование растворов серной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов соляной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов ортофосфорной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов азотной кислоты для пластификации гидроксида алюминия: -\nМодифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃: -\nМодифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃: -\nМодифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃: -\nМодифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃: -\nИспользование продукта центробежной термической активации гидраргиллита: -\nИспользование термоактивированного гидроксида алюминия: -\nПроведение термической обработки гранул гидроксида алюминия при температуре 500-550°С: -\nСпособ получения этилена путем дегидратации этанола: -', 'stage': 'completed'}
2025-10-05 23:45:12,639 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE060>, 1830913972:f9ab382e-e618-46bc-b832-edf01bde177f
2025-10-05 23:45:12,651 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:f9ab382e-e618-46bc-b832-edf01bde177f disconnected
2025-10-05 23:45:12,651 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:45:12,652 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:f9ab382e-e618-46bc-b832-edf01bde177f cleanup completed
2025-10-05 23:45:12,653 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38
2025-10-05 23:45:12,653 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38 создан новый список соединений
2025-10-05 23:45:12,653 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38: 1
2025-10-05 23:45:12,654 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38 содержит 0 сообщений
2025-10-05 23:45:12,654 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:45:12,654 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38: 1 соединений
2025-10-05 23:45:12,654 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38 содержит 0 сообщений
2025-10-05 23:45:12,655 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38
2025-10-05 23:45:12,655 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38 connected successfully
2025-10-05 23:45:12,656 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:45:12,657 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:45:12,658 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:45:12,658 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:45:12,658 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:45:12,658 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:45:12,659 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:45:12,659 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D7F0>
2025-10-05 23:45:12,659 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:45:12,659 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D7F0>
2025-10-05 23:45:12,660 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:45:12,660 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:45:12,660 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D7F0>
2025-10-05 23:45:12,660 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:45:12,661 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:45:12,662 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:45:12,663 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:45:12,663 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:45:12,663 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:45:12,663 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:45:12,663 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:45:12,663 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:45:12,663 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:45:12,664 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38
2025-10-05 23:45:12,664 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:45:12,664 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF020>, 1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38
2025-10-05 23:45:12,665 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38
2025-10-05 23:45:12,665 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:45:12,665 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF020>, 1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38
2025-10-05 23:45:12,665 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38
2025-10-05 23:45:12,665 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:45:12,666 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF020>, 1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38
2025-10-05 23:45:12,666 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38
2025-10-05 23:45:12,666 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:45:12,666 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF020>, 1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38
2025-10-05 23:45:58,671 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора: -
Проведение процесса получения этилена при температуре 350-450°С: -
Проведение процесса получения этилена при времени контакта 0.2-4.0 с: -
Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов: -
Содержание палладия в катализаторе 0,01÷1,0 мас.%: -
Размер частиц палладия от 1,5 до 20 нм: -
Нанесение активного компонента (палладия) на бидисперсный силикагель: -
Содержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%: -
Удельная поверхность бидисперсного силикагеля 150÷350 м²/г: -
Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г: -
Отсутствие микропор в бидисперсном силикагеле: -
Объем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г: -
Объем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г: -
Способ приготовления палладиевого катализатора: -
Использование предварительно высушенного носителя: -
Пропитка носителя водным раствором стабилизированного нитрата палладия: -
Пропитка носителя раствором стабилизированного нитрата палладия при определенных рН: -
Сушка катализатора после пропитки: -
Прокаливание катализатора на воздухе после сушки: -
Восстановление катализатора в потоке водородсодержащего газа после прокаливания: -
Добавление лимонной кислоты в пропиточные растворы: -
Предотвращение агломерации палладийсодержащих частиц на поверхности носителя: -
Регулирование рН пропиточных растворов без введения катионов щелочных металлов: -
Регулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида: -
Способ очистки олефинов от примесей полиненасыщенных углеводородов: -
Очистка путем каталитического гидрирования: -
Гидрирование при повышенных температурах: -
Гидрирование при атмосферном давлении: -
Гидрирование при температуре 50-200°С: -
Гидрирование при объемной скорости 10000-20000 ч⁻¹: -
Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой: -
Использование гидроксида алюминия в виде гидратированного соединения: -
Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия: -
Содержание в гидратированном соединении до 10% гиббсита: -
Размол гидроксида алюминия до частиц размером менее 20 мкм: -
Количество частиц размером менее 20 мкм после размола более 70%: -
Смешивание размолотого гидроксида алюминия с водой: -
Проведение смешивания в присутствии азотной кислоты: -
Проведение пластификации полученной смеси: -
Формование гранул из пластифицированного продукта: -
2025-10-05 23:45:58,673 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38
2025-10-05 23:45:58,674 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38, message: {'status': 'completed', 'message': 'Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора: -\nПроведение процесса получения этилена при температуре 350-450°С: -\nПроведение процесса получения этилена при времени контакта 0.2-4.0 с: -\nКатализатор для очистки олефинов от примесей полиненасыщенных углеводородов: -\nСодержание палладия в катализаторе 0,01÷1,0 мас.%: -\nРазмер частиц палладия от 1,5 до 20 нм: -\nНанесение активного компонента (палладия) на бидисперсный силикагель: -\nСодержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%: -\nУдельная поверхность бидисперсного силикагеля 150÷350 м²/г: -\nОбщий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г: -\nОтсутствие микропор в бидисперсном силикагеле: -\nОбъем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г: -\nОбъем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г: -\nСпособ приготовления палладиевого катализатора: -\nИспользование предварительно высушенного носителя: -\nПропитка носителя водным раствором стабилизированного нитрата палладия: -\nПропитка носителя раствором стабилизированного нитрата палладия при определенных рН: -\nСушка катализатора после пропитки: -\nПрокаливание катализатора на воздухе после сушки: -\nВосстановление катализатора в потоке водородсодержащего газа после прокаливания: -\nДобавление лимонной кислоты в пропиточные растворы: -\nПредотвращение агломерации палладийсодержащих частиц на поверхности носителя: -\nРегулирование рН пропиточных растворов без введения катионов щелочных металлов: -\nРегулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида: -\nСпособ очистки олефинов от примесей полиненасыщенных углеводородов: -\nОчистка путем каталитического гидрирования: -\nГидрирование при повышенных температурах: -\nГидрирование при атмосферном давлении: -\nГидрирование при температуре 50-200°С: -\nГидрирование при объемной скорости 10000-20000 ч⁻¹: -\nСпособ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой: -\nИспользование гидроксида алюминия в виде гидратированного соединения: -\nСодержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия: -\nСодержание в гидратированном соединении до 10% гиббсита: -\nРазмол гидроксида алюминия до частиц размером менее 20 мкм: -\nКоличество частиц размером менее 20 мкм после размола более 70%: -\nСмешивание размолотого гидроксида алюминия с водой: -\nПроведение смешивания в присутствии азотной кислоты: -\nПроведение пластификации полученной смеси: -\nФормование гранул из пластифицированного продукта: -', 'stage': 'completed'}
2025-10-05 23:45:58,676 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF020>, 1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38
2025-10-05 23:45:58,690 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38 disconnected
2025-10-05 23:45:58,691 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:45:58,691 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:003db296-58c9-4fd1-a12c-b89d58b09f38 cleanup completed
2025-10-05 23:45:58,693 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76
2025-10-05 23:45:58,693 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76 создан новый список соединений
2025-10-05 23:45:58,693 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:45:58,693 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76: 1
2025-10-05 23:45:58,694 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76 содержит 0 сообщений
2025-10-05 23:45:58,695 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:45:58,695 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76: 1 соединений
2025-10-05 23:45:58,696 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76 содержит 0 сообщений
2025-10-05 23:45:58,696 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76
2025-10-05 23:45:58,696 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76 connected successfully
2025-10-05 23:45:58,698 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:45:58,699 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:45:58,699 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:45:58,700 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:45:58,700 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:45:58,700 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:45:58,701 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C1A0>
2025-10-05 23:45:58,701 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:45:58,702 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C1A0>
2025-10-05 23:45:58,702 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:45:58,702 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:45:58,702 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C1A0>
2025-10-05 23:45:58,703 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:45:58,704 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:45:58,704 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:45:58,705 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:45:58,705 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:45:58,706 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:45:58,706 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:45:58,706 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:45:58,707 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:45:58,707 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:45:58,707 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76
2025-10-05 23:45:58,708 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:45:58,708 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF020>, 1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76
2025-10-05 23:45:58,709 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76
2025-10-05 23:45:58,709 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:45:58,709 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF020>, 1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76
2025-10-05 23:45:58,710 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76
2025-10-05 23:45:58,710 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:45:58,710 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF020>, 1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76
2025-10-05 23:45:58,710 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76
2025-10-05 23:45:58,711 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:45:58,711 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF020>, 1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76
2025-10-05 23:46:44,191 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Формование гранул в слое керосина: -
Формование гранул в водном растворе аммиака: -
Сушка полученных гранул: -
Прокаливание полученных гранул: -
Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л: -
Промывка гранул после прокаливания водой: -
Значение pH воды для промывки от 6 до 9: -
Время промывки 15 минут: -
Проведение термообработки промытых гранул: -
Температура термообработки 250 °C: -
Каталитический реактор трубчатого типа: -
Проведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C: -
Реактор содержит корпус: -
Реактор содержит трубные решетки: -
Реактор содержит устройства для ввода реагентов: -
Реактор содержит устройства для вывода реагентов: -
Реактор содержит устройства для ввода хладагентов: -
Реактор содержит устройства для вывода хладагентов: -
Реактор содержит каталитически активные теплообменные трубки: -
Соединение каталитически активных теплообменных трубок с трубными решетками: -
Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки: -
Нанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок: -
Слой каталитически активного армированного порометаллического материала образован плоскими лентами: -
Слой каталитически активного армированного порометаллического материала образован гофрированными лентами: -
Создание бидисперсной структуры нанесенного на поверхность трубки слоя: -
Толщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм: -
Равномерное нанесение слоя катализатора по длине трубки: -
Неравномерное нанесение слоя катализатора по длине трубки: -
Способ осуществления сильно экзотермических реакций: -
Подача реагирующей смеси стехиометрического состава в межтрубное пространство: -
Подача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство: -
Образование межтрубного пространства каталитически активными теплообменными трубками: -
Подача хладоагента внутрь каталитически активных теплообменных трубок: -
Способ получения пористого железо-калиевооксидного композита: -
Приготовление шихты: -
Шихта содержит кристаллогидрат нитрата железа: -
Шихта содержит кристаллогидрат нитрата церия: -
Шихта содержит нитрат калия: -
Шихта содержит оксид молибдена: -
Шихта содержит оксид титана: -
2025-10-05 23:46:44,194 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76
2025-10-05 23:46:44,194 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76, message: {'status': 'completed', 'message': 'Формование гранул в слое керосина: -\nФормование гранул в водном растворе аммиака: -\nСушка полученных гранул: -\nПрокаливание полученных гранул: -\nСмешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л: -\nПромывка гранул после прокаливания водой: -\nЗначение pH воды для промывки от 6 до 9: -\nВремя промывки 15 минут: -\nПроведение термообработки промытых гранул: -\nТемпература термообработки 250 °C: -\nКаталитический реактор трубчатого типа: -\nПроведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C: -\nРеактор содержит корпус: -\nРеактор содержит трубные решетки: -\nРеактор содержит устройства для ввода реагентов: -\nРеактор содержит устройства для вывода реагентов: -\nРеактор содержит устройства для ввода хладагентов: -\nРеактор содержит устройства для вывода хладагентов: -\nРеактор содержит каталитически активные теплообменные трубки: -\nСоединение каталитически активных теплообменных трубок с трубными решетками: -\nКаталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки: -\nНанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок: -\nСлой каталитически активного армированного порометаллического материала образован плоскими лентами: -\nСлой каталитически активного армированного порометаллического материала образован гофрированными лентами: -\nСоздание бидисперсной структуры нанесенного на поверхность трубки слоя: -\nТолщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм: -\nРавномерное нанесение слоя катализатора по длине трубки: -\nНеравномерное нанесение слоя катализатора по длине трубки: -\nСпособ осуществления сильно экзотермических реакций: -\nПодача реагирующей смеси стехиометрического состава в межтрубное пространство: -\nПодача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство: -\nОбразование межтрубного пространства каталитически активными теплообменными трубками: -\nПодача хладоагента внутрь каталитически активных теплообменных трубок: -\nСпособ получения пористого железо-калиевооксидного композита: -\nПриготовление шихты: -\nШихта содержит кристаллогидрат нитрата железа: -\nШихта содержит кристаллогидрат нитрата церия: -\nШихта содержит нитрат калия: -\nШихта содержит оксид молибдена: -\nШихта содержит оксид титана: -', 'stage': 'completed'}
2025-10-05 23:46:44,195 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF020>, 1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76
2025-10-05 23:46:44,208 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76 disconnected
2025-10-05 23:46:44,208 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:46:44,209 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:d0207544-7bdc-44c3-9779-04c8c84e8c76 cleanup completed
2025-10-05 23:46:44,210 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584
2025-10-05 23:46:44,210 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584 создан новый список соединений
2025-10-05 23:46:44,210 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584: 1
2025-10-05 23:46:44,210 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584 содержит 0 сообщений
2025-10-05 23:46:44,211 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:46:44,211 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584: 1 соединений
2025-10-05 23:46:44,211 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584 содержит 0 сообщений
2025-10-05 23:46:44,212 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584
2025-10-05 23:46:44,212 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584 connected successfully
2025-10-05 23:46:44,213 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:46:44,214 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:46:44,215 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:46:44,216 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:46:44,216 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:46:44,216 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:46:44,217 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:46:44,217 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CEC0>
2025-10-05 23:46:44,217 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:46:44,217 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CEC0>
2025-10-05 23:46:44,218 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:46:44,218 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:46:44,218 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CEC0>
2025-10-05 23:46:44,219 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:46:44,220 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:46:44,220 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:46:44,221 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:46:44,221 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:46:44,222 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:46:44,222 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:46:44,222 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:46:44,223 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:46:44,223 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:46:44,223 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584
2025-10-05 23:46:44,223 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:46:44,224 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFA40>, 1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584
2025-10-05 23:46:44,224 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584
2025-10-05 23:46:44,224 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:46:44,225 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFA40>, 1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584
2025-10-05 23:46:44,227 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584
2025-10-05 23:46:44,227 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:46:44,228 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFA40>, 1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584
2025-10-05 23:46:44,228 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584
2025-10-05 23:46:44,228 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:46:44,229 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFA40>, 1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584
2025-10-05 23:47:25,211 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Шихта содержит карбонат кальция: -
Шихта содержит тетраэтоксисилан: -
Компоненты шихты взяты в стехиометрическом соотношении: -
Импрегнирование в шихту выгорающей микродобавки: -
Импрегнирование продуктами гидролиза солей: -
Получение продуктов гидролиза солей способом соосаждения: -
Получение продуктов гидролиза солей способом золь-гель: -
Использование диоксанлигнина березы в качестве выгорающей микродобавки: -
Количество выгорающей микродобавки 0,125-0,250 мас.%: -
Формование образцов композита методом полусухого прессования: -
Проведение обжига: -
Обжиг в интервале температур 20-700°С: -
Скорость нагрева при обжиге 10°/мин: -
Изотермическая выдержка при обжиге в течение 3 часов: -
Формирование бидисперсной структуры в композите: -
Пористый железо-калиевооксидный композит: -
Композит содержит фазу оксида железа α-Fe2O3: -
Композит содержит фазу оксида церия CeO2: -
Композит содержит фазу молибдата калия K2MoO4: -
Композит содержит фазу феррита калия состава KFeO2: -
Композит содержит фазу феррита калия состава KFe11O17: -
Композит имеет бидисперсную структуру: -
Общий объем пор композита от 0,006 до 0,013 см3/г: -
Диаметр мезопор композита от 16 до 40 нм: -
Диаметр макропор композита от 75 до 130 нм: -
Удельная поверхность композита от 2 до 5 м2/г: -
Способ получения пористых порошковых материалов: -
Нанесение на частицы порообразователя связующего: -
Смешивание частиц порообразователя со связующим с порошком: -
Формование шихты: -
Спекание шихты: -
Использование металлического порошка при смешивании: -
Использование керамического порошка при смешивании: -
Нанесение на частицы порообразователя не менее двух слоев керамического порошка: -
Нанесение на частицы порообразователя не более пяти слоев керамического порошка: -
Нанесение органического связющего при нанесении первого слоя керамического порошка: -
Использование неорганического связующего при нанесении второго слоя керамического порошка: -
Использование неорганического связующего при нанесении последующих слоев керамического порошка: -
Использование гранул пенополистирола в качестве частиц порообразователя: -
Использование частиц порообразователя с размером в диапазоне 0,5-1 мм: -
2025-10-05 23:47:25,212 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584
2025-10-05 23:47:25,213 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584, message: {'status': 'completed', 'message': 'Шихта содержит карбонат кальция: -\nШихта содержит тетраэтоксисилан: -\nКомпоненты шихты взяты в стехиометрическом соотношении: -\nИмпрегнирование в шихту выгорающей микродобавки: -\nИмпрегнирование продуктами гидролиза солей: -\nПолучение продуктов гидролиза солей способом соосаждения: -\nПолучение продуктов гидролиза солей способом золь-гель: -\nИспользование диоксанлигнина березы в качестве выгорающей микродобавки: -\nКоличество выгорающей микродобавки 0,125-0,250 мас.%: -\nФормование образцов композита методом полусухого прессования: -\nПроведение обжига: -\nОбжиг в интервале температур 20-700°С: -\nСкорость нагрева при обжиге 10°/мин: -\nИзотермическая выдержка при обжиге в течение 3 часов: -\nФормирование бидисперсной структуры в композите: -\nПористый железо-калиевооксидный композит: -\nКомпозит содержит фазу оксида железа α-Fe2O3: -\nКомпозит содержит фазу оксида церия CeO2: -\nКомпозит содержит фазу молибдата калия K2MoO4: -\nКомпозит содержит фазу феррита калия состава KFeO2: -\nКомпозит содержит фазу феррита калия состава KFe11O17: -\nКомпозит имеет бидисперсную структуру: -\nОбщий объем пор композита от 0,006 до 0,013 см3/г: -\nДиаметр мезопор композита от 16 до 40 нм: -\nДиаметр макропор композита от 75 до 130 нм: -\nУдельная поверхность композита от 2 до 5 м2/г: -\nСпособ получения пористых порошковых материалов: -\nНанесение на частицы порообразователя связующего: -\nСмешивание частиц порообразователя со связующим с порошком: -\nФормование шихты: -\nСпекание шихты: -\nИспользование металлического порошка при смешивании: -\nИспользование керамического порошка при смешивании: -\nНанесение на частицы порообразователя не менее двух слоев керамического порошка: -\nНанесение на частицы порообразователя не более пяти слоев керамического порошка: -\nНанесение органического связющего при нанесении первого слоя керамического порошка: -\nИспользование неорганического связующего при нанесении второго слоя керамического порошка: -\nИспользование неорганического связующего при нанесении последующих слоев керамического порошка: -\nИспользование гранул пенополистирола в качестве частиц порообразователя: -\nИспользование частиц порообразователя с размером в диапазоне 0,5-1 мм: -', 'stage': 'completed'}
2025-10-05 23:47:25,214 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFA40>, 1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584
2025-10-05 23:47:25,224 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584 disconnected
2025-10-05 23:47:25,224 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:47:25,225 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:d88c77b5-1656-4e23-ba1e-f0846a1ff584 cleanup completed
2025-10-05 23:47:25,226 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42
2025-10-05 23:47:25,226 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42 создан новый список соединений
2025-10-05 23:47:25,227 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42: 1
2025-10-05 23:47:25,227 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42 содержит 0 сообщений
2025-10-05 23:47:25,227 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:47:25,227 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42: 1 соединений
2025-10-05 23:47:25,228 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42 содержит 0 сообщений
2025-10-05 23:47:25,228 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42
2025-10-05 23:47:25,228 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42 connected successfully
2025-10-05 23:47:25,229 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:47:25,230 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:47:25,231 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:47:25,232 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:47:25,232 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:47:25,232 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:47:25,232 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:47:25,232 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D4E0>
2025-10-05 23:47:25,233 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:47:25,233 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D4E0>
2025-10-05 23:47:25,233 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:47:25,233 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:47:25,234 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D4E0>
2025-10-05 23:47:25,234 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:47:25,235 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:47:25,236 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:47:25,238 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:47:25,238 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:47:25,239 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:47:25,239 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:47:25,239 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:47:25,239 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:47:25,239 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:47:25,240 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42
2025-10-05 23:47:25,240 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:47:25,241 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42
2025-10-05 23:47:25,241 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42
2025-10-05 23:47:25,241 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:47:25,242 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42
2025-10-05 23:47:25,242 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42
2025-10-05 23:47:25,242 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:47:25,243 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42
2025-10-05 23:47:25,243 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42
2025-10-05 23:47:25,243 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:47:25,243 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42
2025-10-05 23:47:43,541 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Использование водно-дисперсионного полиуретанового лака в качестве органического связующего: -
Использование водного раствора силиката натрия в качестве неорганического связующего: -
Способ соединения крупногабаритных порошковых деталей: -
Приготовление шихты на основе железа: -
Прессование деталей: -
Нанесение на соединяемые поверхности слоя шликера на основе порошка железа: -
Сборка деталей: -
Размещение пропитывающих брикетов на основе меди: -
Проведение спекания с одновременной инфильтрацией: -
Приготовление шликера из бидисперсных порошков: -
Расположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями: -
Нанесение слоя шликера на поверхность соединяемых деталей: -
Нанесение слоя шликера на поверхность непроницаемой перегородки: -
Размещение пропитывающих брикетов сверху сборки: -
Размещение пропитывающих брикетов снизу сборки: -
2025-10-05 23:47:43,543 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42
2025-10-05 23:47:43,543 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42, message: {'status': 'completed', 'message': 'Использование водно-дисперсионного полиуретанового лака в качестве органического связующего: -\nИспользование водного раствора силиката натрия в качестве неорганического связующего: -\nСпособ соединения крупногабаритных порошковых деталей: -\nПриготовление шихты на основе железа: -\nПрессование деталей: -\nНанесение на соединяемые поверхности слоя шликера на основе порошка железа: -\nСборка деталей: -\nРазмещение пропитывающих брикетов на основе меди: -\nПроведение спекания с одновременной инфильтрацией: -\nПриготовление шликера из бидисперсных порошков: -\nРасположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями: -\nНанесение слоя шликера на поверхность соединяемых деталей: -\nНанесение слоя шликера на поверхность непроницаемой перегородки: -\nРазмещение пропитывающих брикетов сверху сборки: -\nРазмещение пропитывающих брикетов снизу сборки: -', 'stage': 'completed'}
2025-10-05 23:47:43,544 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42
2025-10-05 23:47:43,563 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42 disconnected
2025-10-05 23:47:43,563 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:47:43,563 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:b66770f3-8b6a-4fd1-8480-73299ec30e42 cleanup completed
2025-10-05 23:47:43,565 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:79231079-7034-4bde-bf19-6e969655a152
2025-10-05 23:47:43,565 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:47:43,566 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:79231079-7034-4bde-bf19-6e969655a152 создан новый список соединений
2025-10-05 23:47:43,566 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:79231079-7034-4bde-bf19-6e969655a152: 1
2025-10-05 23:47:43,567 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:79231079-7034-4bde-bf19-6e969655a152 содержит 0 сообщений
2025-10-05 23:47:43,567 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:47:43,568 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:79231079-7034-4bde-bf19-6e969655a152: 1 соединений
2025-10-05 23:47:43,568 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:79231079-7034-4bde-bf19-6e969655a152 содержит 0 сообщений
2025-10-05 23:47:43,569 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:79231079-7034-4bde-bf19-6e969655a152
2025-10-05 23:47:43,569 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:79231079-7034-4bde-bf19-6e969655a152 connected successfully
2025-10-05 23:47:43,571 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:47:43,572 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:47:43,572 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:47:43,573 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:47:43,573 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:47:43,573 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:47:43,574 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347D550>
2025-10-05 23:47:43,574 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:47:43,574 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:79231079-7034-4bde-bf19-6e969655a152, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347D550>
2025-10-05 23:47:43,575 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:47:43,575 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:47:43,575 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347D550>
2025-10-05 23:47:43,575 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:47:43,576 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:47:43,577 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:47:43,578 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:47:43,578 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:47:43,579 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:47:43,579 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:47:43,579 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:47:43,579 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:47:43,579 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:47:43,580 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:79231079-7034-4bde-bf19-6e969655a152
2025-10-05 23:47:43,580 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:79231079-7034-4bde-bf19-6e969655a152, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:47:43,580 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:79231079-7034-4bde-bf19-6e969655a152
2025-10-05 23:47:43,580 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:79231079-7034-4bde-bf19-6e969655a152
2025-10-05 23:47:43,580 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:79231079-7034-4bde-bf19-6e969655a152, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:47:43,593 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:79231079-7034-4bde-bf19-6e969655a152
2025-10-05 23:47:43,594 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:79231079-7034-4bde-bf19-6e969655a152
2025-10-05 23:47:43,594 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:79231079-7034-4bde-bf19-6e969655a152, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:47:43,595 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:79231079-7034-4bde-bf19-6e969655a152
2025-10-05 23:47:43,596 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:79231079-7034-4bde-bf19-6e969655a152
2025-10-05 23:47:43,596 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:79231079-7034-4bde-bf19-6e969655a152, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:47:43,596 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:79231079-7034-4bde-bf19-6e969655a152
2025-10-05 23:48:21,578 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Способ получения бидисперсных порошковых смесей: -
Получение смесей из порошков существенно разных размеров: -
Использование метода самораспространяющегося высокотемпературного синтеза (СВС): -
Подготовка смеси компонентов: -
Смешение нитрата металла и топливного компонента: -
Использование нитрата металла в качестве окислителя: -
Использование топливного компонента в качестве восстановителя: -
Использование глицерина в качестве топливного компонента: -
Использование тиомочевины в качестве топливного компонента: -
Использование этиленгликоля в качестве топливного компонента: -
Пропитка предварительно приготовленного порошка микронных размеров подготовленной смесью: -
Использование порошка микронных размеров на основе оксидов: -
Равномерное распределение реагентов на поверхности частиц порошка: -
Формирование однородной бидисперсной смеси: -
Удаление воды из раствора выпариванием: -
Удаление воды из раствора сушкой: -
Образование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка: -
Нагревание сухой смеси до определенной температуры: -
Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом: -
Экзотермический характер окислительно-восстановительной реакции: -
Самораспространяющийся характер процесса горения: -
Поддержание процесса горения за счет выделяемой энергии: -
Образование продукта в виде нанопорошка оксида металла: -
Формирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ): -
Получение бидисперсной системы, состоящей из микропорошка и нанопорошка: -
Более равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением: -
Способ получения смесевого твердого топлива с металлическим горючим: -
Механическое перемешивание компонентов: -
Использование металлического горючего в виде бидисперсной смеси порошков: -
Использование порошка алюминия микронных размеров: -
Использование нанопорошка алюминия: -
Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%: -
Перемешивание бидисперсной смеси до осредненного состояния: -
Введение бидисперсной смеси в количестве 10-25 мас.%: -
Введение бидисперсной смеси в полностью перемешанную смесь других компонентов: -
Дополнительное перемешивание полученной массы в течение не менее 30 мин: -
Вакуумирование полученной массы в течение не менее 30 мин: -
Использование перхлората аммония в качестве окислителя: -
Использование нитрата аммония в качестве окислителя: -
Использование смешанного окислителя, включающего нитрат аммония и нитрамин: -
2025-10-05 23:48:21,580 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:79231079-7034-4bde-bf19-6e969655a152
2025-10-05 23:48:21,581 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:79231079-7034-4bde-bf19-6e969655a152, message: {'status': 'completed', 'message': 'Способ получения бидисперсных порошковых смесей: -\nПолучение смесей из порошков существенно разных размеров: -\nИспользование метода самораспространяющегося высокотемпературного синтеза (СВС): -\nПодготовка смеси компонентов: -\nСмешение нитрата металла и топливного компонента: -\nИспользование нитрата металла в качестве окислителя: -\nИспользование топливного компонента в качестве восстановителя: -\nИспользование глицерина в качестве топливного компонента: -\nИспользование тиомочевины в качестве топливного компонента: -\nИспользование этиленгликоля в качестве топливного компонента: -\nПропитка предварительно приготовленного порошка микронных размеров подготовленной смесью: -\nИспользование порошка микронных размеров на основе оксидов: -\nРавномерное распределение реагентов на поверхности частиц порошка: -\nФормирование однородной бидисперсной смеси: -\nУдаление воды из раствора выпариванием: -\nУдаление воды из раствора сушкой: -\nОбразование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка: -\nНагревание сухой смеси до определенной температуры: -\nИнициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом: -\nЭкзотермический характер окислительно-восстановительной реакции: -\nСамораспространяющийся характер процесса горения: -\nПоддержание процесса горения за счет выделяемой энергии: -\nОбразование продукта в виде нанопорошка оксида металла: -\nФормирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ): -\nПолучение бидисперсной системы, состоящей из микропорошка и нанопорошка: -\nБолее равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением: -\nСпособ получения смесевого твердого топлива с металлическим горючим: -\nМеханическое перемешивание компонентов: -\nИспользование металлического горючего в виде бидисперсной смеси порошков: -\nИспользование порошка алюминия микронных размеров: -\nИспользование нанопорошка алюминия: -\nСоотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%: -\nПеремешивание бидисперсной смеси до осредненного состояния: -\nВведение бидисперсной смеси в количестве 10-25 мас.%: -\nВведение бидисперсной смеси в полностью перемешанную смесь других компонентов: -\nДополнительное перемешивание полученной массы в течение не менее 30 мин: -\nВакуумирование полученной массы в течение не менее 30 мин: -\nИспользование перхлората аммония в качестве окислителя: -\nИспользование нитрата аммония в качестве окислителя: -\nИспользование смешанного окислителя, включающего нитрат аммония и нитрамин: -', 'stage': 'completed'}
2025-10-05 23:48:21,582 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:79231079-7034-4bde-bf19-6e969655a152
2025-10-05 23:48:21,596 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:79231079-7034-4bde-bf19-6e969655a152 disconnected
2025-10-05 23:48:21,597 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:48:21,597 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:79231079-7034-4bde-bf19-6e969655a152 cleanup completed
2025-10-05 23:48:21,601 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068
2025-10-05 23:48:21,602 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068 создан новый список соединений
2025-10-05 23:48:21,602 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068: 1
2025-10-05 23:48:21,602 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068 содержит 0 сообщений
2025-10-05 23:48:21,603 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:48:21,603 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068: 1 соединений
2025-10-05 23:48:21,604 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068 содержит 0 сообщений
2025-10-05 23:48:21,604 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068
2025-10-05 23:48:21,605 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068 connected successfully
2025-10-05 23:48:21,606 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:48:21,607 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:48:21,609 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:48:21,609 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:48:21,610 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:48:21,610 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:48:21,610 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:48:21,611 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FEE0>
2025-10-05 23:48:21,611 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:48:21,612 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FEE0>
2025-10-05 23:48:21,612 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:48:21,612 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:48:21,613 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FEE0>
2025-10-05 23:48:21,613 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:48:21,614 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:48:21,615 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:48:21,616 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:48:21,617 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:48:21,617 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:48:21,617 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:48:21,618 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:48:21,618 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:48:21,618 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:48:21,618 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068
2025-10-05 23:48:21,619 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:48:21,619 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068
2025-10-05 23:48:21,620 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068
2025-10-05 23:48:21,620 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:48:21,621 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068
2025-10-05 23:48:21,621 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068
2025-10-05 23:48:21,622 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:48:21,623 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068
2025-10-05 23:48:21,623 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068
2025-10-05 23:48:21,623 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:48:21,624 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068
2025-10-05 23:49:03,548 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего: -
Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего: -
Способ получения порошковой смеси бидисперсных керамических и металлических частиц: -
Перемешивание порошков в жидкой среде: -
Двухэтапное перемешивание: -
Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды: -
Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1: -
Перемешивание керамических наночастиц в жидкой среде на первом этапе: -
Длительность перемешивания на первом этапе не менее 15 минут: -
Добавление металлических микрочастиц на втором этапе: -
Перемешивание полученной смеси на втором этапе: -
Длительность перемешивания на втором этапе не менее 15 минут: -
Удаление жидкости после перемешивания: -
Удаление жидкости в сушильном шкафу: -
Температура удаления жидкости не менее 80°C: -
Длительность удаления жидкости не менее 24 часов: -
Использование керамических наночастиц: -
Диаметр керамических наночастиц от 30 до 140 нм: -
Использование металлических микрочастиц: -
Диаметр металлических микрочастиц от 20 до 180 мкм: -
Массовое соотношение порошков и жидкости 1/2: -
Массовое соотношение наночастиц и микрочастиц 1/19: -
Способ получения дифениламина: +
Термическая обработка анилина: +
Проведение термической обработки в присутствии катализатора: +
Использование алюмооксидного катализатора: +
Катализатор кислого характера: +
Получение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде: +
Использование азотной кислоты при получении катализатора: +
Пластификация катализатора: +
Формование катализатора: +
Сушка катализатора: +
Прокаливание катализатора при повышенной температуре: +
Катализатор с бидисперсной пористой структурой: +
Суммарный объем пор катализатора равен или более 0,45 см³/г: +
Объем пор катализатора с радиусом более равен или более 0,27 см³/г: +
Удельная поверхность катализатора не менее 200 м²/г: +
Получение катализатора из термо- или термомеханохимически активированного гидроксида алюминия: +
Смешивание активированного гидроксида алюминия с ортофосфорной кислотой: +
Проведение пластификации при кислотном модуле 0,02 - 0,07: +
2025-10-05 23:49:03,549 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068
2025-10-05 23:49:03,549 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068, message: {'status': 'completed', 'message': 'Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего: -\nИспользование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего: -\nСпособ получения порошковой смеси бидисперсных керамических и металлических частиц: -\nПеремешивание порошков в жидкой среде: -\nДвухэтапное перемешивание: -\nИспользование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды: -\nМассовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1: -\nПеремешивание керамических наночастиц в жидкой среде на первом этапе: -\nДлительность перемешивания на первом этапе не менее 15 минут: -\nДобавление металлических микрочастиц на втором этапе: -\nПеремешивание полученной смеси на втором этапе: -\nДлительность перемешивания на втором этапе не менее 15 минут: -\nУдаление жидкости после перемешивания: -\nУдаление жидкости в сушильном шкафу: -\nТемпература удаления жидкости не менее 80°C: -\nДлительность удаления жидкости не менее 24 часов: -\nИспользование керамических наночастиц: -\nДиаметр керамических наночастиц от 30 до 140 нм: -\nИспользование металлических микрочастиц: -\nДиаметр металлических микрочастиц от 20 до 180 мкм: -\nМассовое соотношение порошков и жидкости 1/2: -\nМассовое соотношение наночастиц и микрочастиц 1/19: -\nСпособ получения дифениламина: +\nТермическая обработка анилина: +\nПроведение термической обработки в присутствии катализатора: +\nИспользование алюмооксидного катализатора: +\nКатализатор кислого характера: +\nПолучение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде: +\nИспользование азотной кислоты при получении катализатора: +\nПластификация катализатора: +\nФормование катализатора: +\nСушка катализатора: +\nПрокаливание катализатора при повышенной температуре: +\nКатализатор с бидисперсной пористой структурой: +\nСуммарный объем пор катализатора равен или более 0,45 см³/г: +\nОбъем пор катализатора с радиусом более равен или более 0,27 см³/г: +\nУдельная поверхность катализатора не менее 200 м²/г: +\nПолучение катализатора из термо- или термомеханохимически активированного гидроксида алюминия: +\nСмешивание активированного гидроксида алюминия с ортофосфорной кислотой: +\nПроведение пластификации при кислотном модуле 0,02 - 0,07: +', 'stage': 'completed'}
2025-10-05 23:49:03,553 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068
2025-10-05 23:49:03,562 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:523c3e3f-ebf5-4002-9291-3b3957187684
2025-10-05 23:49:03,562 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:49:03,563 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:523c3e3f-ebf5-4002-9291-3b3957187684 создан новый список соединений
2025-10-05 23:49:03,563 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:523c3e3f-ebf5-4002-9291-3b3957187684: 1
2025-10-05 23:49:03,563 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:523c3e3f-ebf5-4002-9291-3b3957187684 содержит 0 сообщений
2025-10-05 23:49:03,563 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:49:03,564 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068: 1 соединений
2025-10-05 23:49:03,564 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:523c3e3f-ebf5-4002-9291-3b3957187684: 1 соединений
2025-10-05 23:49:03,565 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:523c3e3f-ebf5-4002-9291-3b3957187684 содержит 0 сообщений
2025-10-05 23:49:03,565 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:523c3e3f-ebf5-4002-9291-3b3957187684
2025-10-05 23:49:03,565 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:523c3e3f-ebf5-4002-9291-3b3957187684 connected successfully
2025-10-05 23:49:03,566 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068 disconnected
2025-10-05 23:49:03,566 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:49:03,566 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:523c3e3f-ebf5-4002-9291-3b3957187684: 1 соединений
2025-10-05 23:49:03,567 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:d0a65751-27a9-4c0d-ab9b-acb0a2ad6068 cleanup completed
2025-10-05 23:49:03,568 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:49:03,569 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:49:03,569 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:49:03,569 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:49:03,569 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:49:03,570 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:49:03,570 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FBD0>
2025-10-05 23:49:03,570 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:49:03,571 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:523c3e3f-ebf5-4002-9291-3b3957187684, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FBD0>
2025-10-05 23:49:03,571 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:49:03,571 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:49:03,571 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FBD0>
2025-10-05 23:49:03,572 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:49:03,573 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:49:03,573 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:49:03,574 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:49:03,574 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:49:03,574 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:49:03,575 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:49:03,575 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:49:03,575 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:49:03,575 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:49:03,575 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:523c3e3f-ebf5-4002-9291-3b3957187684
2025-10-05 23:49:03,575 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:523c3e3f-ebf5-4002-9291-3b3957187684, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:49:03,576 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DC9E0>, 1830913972:523c3e3f-ebf5-4002-9291-3b3957187684
2025-10-05 23:49:03,576 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:523c3e3f-ebf5-4002-9291-3b3957187684
2025-10-05 23:49:03,577 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:523c3e3f-ebf5-4002-9291-3b3957187684, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:49:03,577 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DC9E0>, 1830913972:523c3e3f-ebf5-4002-9291-3b3957187684
2025-10-05 23:49:03,577 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:523c3e3f-ebf5-4002-9291-3b3957187684
2025-10-05 23:49:03,578 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:523c3e3f-ebf5-4002-9291-3b3957187684, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:49:03,578 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DC9E0>, 1830913972:523c3e3f-ebf5-4002-9291-3b3957187684
2025-10-05 23:49:03,578 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:523c3e3f-ebf5-4002-9291-3b3957187684
2025-10-05 23:49:03,578 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:523c3e3f-ebf5-4002-9291-3b3957187684, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:49:03,579 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DC9E0>, 1830913972:523c3e3f-ebf5-4002-9291-3b3957187684
2025-10-05 23:49:50,910 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Провяливание катализатора на воздухе не менее 12 часов перед сушкой: +
Сушка катализатора при 100 °C не менее 12 часов после провяливания: +
Прокаливание катализатора при 500 °C после сушки: +
Гранулированный наноструктурированный алюмооксидный катализатор: -
Содержание натрия в катализаторе от 0,005 до 0,02 мас.%: -
Содержание серы в катализатора от 0 до 5 мас.%: -
Содержание фосфора в катализаторе от 0 до 2,8 мас.%: -
Содержание хлора в катализаторе от 0 до 2,6 мас.%: -
Бидисперсная пористая структура катализатора: +
Объем микропор катализатора от 0,06 до 0,18 см³/г: -
Объем мезопор катализатора от 0,2 до 0,32 см³/г: -
Суммарный объем пор катализатора от 0,25 до 0,55 см³/г: +
Средний диаметр пор катализатора от 3 до 5,5 нм: -
Удельная поверхность катализатора от 200 до 350 м²/г: +
Оксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы: -
Суммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%: -
Содержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%: -
Форма гранул катализатора - цилиндр диаметром 3-5 мм: -
Форма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм: -
Способ приготовления катализатора, включающий термическую активацию гидраргиллита: -
Гидратация продуктов термической активации гидраргиллита в кислом растворе: -
Отмывка продуктов гидратации от примесных ионов: -
Введение модифицирующих добавок на стадии пластификации: -
Формование в гранулы методом экструзии: -
Проведение термической обработки сформированных гранул: -
Отмывка продуктов гидратации дистиллированной водой: -
Отмывка продуктов гидратации слабыми растворами серной кислоты: -
Отмывка продуктов гидратации слабыми растворами азотной кислоты: -
Использование растворов серной кислоты для пластификации гидроксида алюминия: -
Использование растворов соляной кислоты для пластификации гидроксида алюминия: -
Использование растворов ортофосфорной кислоты для пластификации гидроксида алюминия: +
Использование растворов азотной кислоты для пластификации гидроксида алюминия: -
Модифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃: -
Модифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃: -
Модифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃: +
Модифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃: -
Использование продукта центробежной термической активации гидраргиллита: -
Использование термоактивированного гидроксида алюминия: +
Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С: -
Способ получения этилена путем дегидратации этанола: -
2025-10-05 23:49:50,912 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:523c3e3f-ebf5-4002-9291-3b3957187684
2025-10-05 23:49:50,912 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:523c3e3f-ebf5-4002-9291-3b3957187684, message: {'status': 'completed', 'message': 'Провяливание катализатора на воздухе не менее 12 часов перед сушкой: +\nСушка катализатора при 100 °C не менее 12 часов после провяливания: +\nПрокаливание катализатора при 500 °C после сушки: +\nГранулированный наноструктурированный алюмооксидный катализатор: -\nСодержание натрия в катализаторе от 0,005 до 0,02 мас.%: -\nСодержание серы в катализатора от 0 до 5 мас.%: -\nСодержание фосфора в катализаторе от 0 до 2,8 мас.%: -\nСодержание хлора в катализаторе от 0 до 2,6 мас.%: -\nБидисперсная пористая структура катализатора: +\nОбъем микропор катализатора от 0,06 до 0,18 см³/г: -\nОбъем мезопор катализатора от 0,2 до 0,32 см³/г: -\nСуммарный объем пор катализатора от 0,25 до 0,55 см³/г: +\nСредний диаметр пор катализатора от 3 до 5,5 нм: -\nУдельная поверхность катализатора от 200 до 350 м²/г: +\nОксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы: -\nСуммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%: -\nСодержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%: -\nФорма гранул катализатора - цилиндр диаметром 3-5 мм: -\nФорма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм: -\nСпособ приготовления катализатора, включающий термическую активацию гидраргиллита: -\nГидратация продуктов термической активации гидраргиллита в кислом растворе: -\nОтмывка продуктов гидратации от примесных ионов: -\nВведение модифицирующих добавок на стадии пластификации: -\nФормование в гранулы методом экструзии: -\nПроведение термической обработки сформированных гранул: -\nОтмывка продуктов гидратации дистиллированной водой: -\nОтмывка продуктов гидратации слабыми растворами серной кислоты: -\nОтмывка продуктов гидратации слабыми растворами азотной кислоты: -\nИспользование растворов серной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов соляной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов ортофосфорной кислоты для пластификации гидроксида алюминия: +\nИспользование растворов азотной кислоты для пластификации гидроксида алюминия: -\nМодифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃: -\nМодифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃: -\nМодифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃: +\nМодифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃: -\nИспользование продукта центробежной термической активации гидраргиллита: -\nИспользование термоактивированного гидроксида алюминия: +\nПроведение термической обработки гранул гидроксида алюминия при температуре 500-550°С: -\nСпособ получения этилена путем дегидратации этанола: -', 'stage': 'completed'}
2025-10-05 23:49:50,914 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DC9E0>, 1830913972:523c3e3f-ebf5-4002-9291-3b3957187684
2025-10-05 23:49:50,922 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:523c3e3f-ebf5-4002-9291-3b3957187684 disconnected
2025-10-05 23:49:50,923 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:49:50,923 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:523c3e3f-ebf5-4002-9291-3b3957187684 cleanup completed
2025-10-05 23:49:50,925 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b
2025-10-05 23:49:50,925 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b создан новый список соединений
2025-10-05 23:49:50,925 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b: 1
2025-10-05 23:49:50,925 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b содержит 0 сообщений
2025-10-05 23:49:50,925 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:49:50,925 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b: 1 соединений
2025-10-05 23:49:50,926 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b содержит 0 сообщений
2025-10-05 23:49:50,926 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b
2025-10-05 23:49:50,926 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b connected successfully
2025-10-05 23:49:50,927 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:49:50,927 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:49:50,929 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:49:50,929 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:49:50,929 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:49:50,930 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:49:50,930 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:49:50,930 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D780>
2025-10-05 23:49:50,930 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:49:50,931 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D780>
2025-10-05 23:49:50,931 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:49:50,931 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:49:50,931 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D780>
2025-10-05 23:49:50,931 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:49:50,931 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:49:50,932 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 4a78...
2025-10-05 23:49:50,933 - core.token_manager.deepseek - WARNING - [deepseek.py:61 - mark_rate_limit()] - Key sk-o... blocked
2025-10-05 23:49:50,933 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:49:50,933 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:49:50,933 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:49:50,933 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:49:50,934 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:49:50,934 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:49:50,934 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:49:50,935 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b
2025-10-05 23:49:50,935 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:49:50,935 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFD10>, 1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b
2025-10-05 23:49:50,936 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b
2025-10-05 23:49:50,936 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:49:50,936 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFD10>, 1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b
2025-10-05 23:49:50,937 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b
2025-10-05 23:49:50,937 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:49:50,937 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFD10>, 1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b
2025-10-05 23:49:50,938 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b
2025-10-05 23:49:50,938 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:49:50,939 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFD10>, 1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b
2025-10-05 23:50:32,875 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора: -
Проведение процесса получения этилена при температуре 350-450°С: -
Проведение процесса получения этилена при времени контакта 0.2-4.0 с: -
Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов: -
Содержание палладия в катализаторе 0,01÷1,0 мас.%: -
Размер частиц палладия от 1,5 до 20 нм: -
Нанесение активного компонента (палладия) на бидисперсный силикагель: -
Содержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%: -
Удельная поверхность бидисперсного силикагеля 150÷350 м²/г: -
Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г: -
Отсутствие микропор в бидисперсном силикагеле: -
Объем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г: -
Объем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г: -
Способ приготовления палладиевого катализатора: -
Использование предварительно высушенного носителя: -
Пропитка носителя водным раствором стабилизированного нитрата палладия: -
Пропитка носителя раствором стабилизированного нитрата палладия при определенных рН: -
Сушка катализатора после пропитки: -
Прокаливание катализатора на воздухе после сушки: -
Восстановление катализатора в потоке водородсодержащего газа после прокаливания: -
Добавление лимонной кислоты в пропиточные растворы: -
Предотвращение агломерации палладийсодержащих частиц на поверхности носителя: -
Регулирование рН пропиточных растворов без введения катионов щелочных металлов: -
Регулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида: -
Способ очистки олефинов от примесей полиненасыщенных углеводородов: -
Очистка путем каталитического гидрирования: -
Гидрирование при повышенных температурах: -
Гидрирование при атмосферном давлении: -
Гидрирование при температуре 50-200°С: -
Гидрирование при объемной скорости 10000-20000 ч⁻¹: -
Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой: +
Использование гидроксида алюминия в виде гидратированного соединения: +
Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия: -
Содержание в гидратированном соединении до 10% гиббсита: -
Размол гидроксида алюминия до частиц размером менее 20 мкм: -
Количество частиц размером менее 20 мкм после размола более 70%: -
Смешивание размолотого гидроксида алюминия с водой: +
Проведение смешивания в присутствии азотной кислоты: +
Проведение пластификации полученной смеси: +
Формование гранул из пластифицированного продукта: +
2025-10-05 23:50:32,876 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b
2025-10-05 23:50:32,876 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b, message: {'status': 'completed', 'message': 'Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора: -\nПроведение процесса получения этилена при температуре 350-450°С: -\nПроведение процесса получения этилена при времени контакта 0.2-4.0 с: -\nКатализатор для очистки олефинов от примесей полиненасыщенных углеводородов: -\nСодержание палладия в катализаторе 0,01÷1,0 мас.%: -\nРазмер частиц палладия от 1,5 до 20 нм: -\nНанесение активного компонента (палладия) на бидисперсный силикагель: -\nСодержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%: -\nУдельная поверхность бидисперсного силикагеля 150÷350 м²/г: -\nОбщий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г: -\nОтсутствие микропор в бидисперсном силикагеле: -\nОбъем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г: -\nОбъем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г: -\nСпособ приготовления палладиевого катализатора: -\nИспользование предварительно высушенного носителя: -\nПропитка носителя водным раствором стабилизированного нитрата палладия: -\nПропитка носителя раствором стабилизированного нитрата палладия при определенных рН: -\nСушка катализатора после пропитки: -\nПрокаливание катализатора на воздухе после сушки: -\nВосстановление катализатора в потоке водородсодержащего газа после прокаливания: -\nДобавление лимонной кислоты в пропиточные растворы: -\nПредотвращение агломерации палладийсодержащих частиц на поверхности носителя: -\nРегулирование рН пропиточных растворов без введения катионов щелочных металлов: -\nРегулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида: -\nСпособ очистки олефинов от примесей полиненасыщенных углеводородов: -\nОчистка путем каталитического гидрирования: -\nГидрирование при повышенных температурах: -\nГидрирование при атмосферном давлении: -\nГидрирование при температуре 50-200°С: -\nГидрирование при объемной скорости 10000-20000 ч⁻¹: -\nСпособ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой: +\nИспользование гидроксида алюминия в виде гидратированного соединения: +\nСодержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия: -\nСодержание в гидратированном соединении до 10% гиббсита: -\nРазмол гидроксида алюминия до частиц размером менее 20 мкм: -\nКоличество частиц размером менее 20 мкм после размола более 70%: -\nСмешивание размолотого гидроксида алюминия с водой: +\nПроведение смешивания в присутствии азотной кислоты: +\nПроведение пластификации полученной смеси: +\nФормование гранул из пластифицированного продукта: +', 'stage': 'completed'}
2025-10-05 23:50:32,878 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFD10>, 1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b
2025-10-05 23:50:32,890 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b disconnected
2025-10-05 23:50:32,891 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:50:32,891 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:4db46f73-6005-4fc0-9ccd-d770757de44b cleanup completed
2025-10-05 23:50:32,893 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:622638ac-447a-4a82-9b86-5838bf365f87
2025-10-05 23:50:32,893 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:622638ac-447a-4a82-9b86-5838bf365f87 создан новый список соединений
2025-10-05 23:50:32,893 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:622638ac-447a-4a82-9b86-5838bf365f87: 1
2025-10-05 23:50:32,893 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:622638ac-447a-4a82-9b86-5838bf365f87 содержит 0 сообщений
2025-10-05 23:50:32,894 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:50:32,894 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:622638ac-447a-4a82-9b86-5838bf365f87: 1 соединений
2025-10-05 23:50:32,894 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:622638ac-447a-4a82-9b86-5838bf365f87 содержит 0 сообщений
2025-10-05 23:50:32,895 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:622638ac-447a-4a82-9b86-5838bf365f87
2025-10-05 23:50:32,895 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:622638ac-447a-4a82-9b86-5838bf365f87 connected successfully
2025-10-05 23:50:32,896 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:50:32,897 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:50:32,898 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:50:32,899 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:50:32,899 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:50:32,899 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:50:32,900 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:50:32,900 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347D550>
2025-10-05 23:50:32,900 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:50:32,900 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:622638ac-447a-4a82-9b86-5838bf365f87, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347D550>
2025-10-05 23:50:32,901 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:50:32,901 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:50:32,902 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347D550>
2025-10-05 23:50:32,902 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:50:32,903 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:50:32,903 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: e12b...
2025-10-05 23:50:32,905 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:50:32,905 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:50:32,905 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:50:32,905 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:50:32,906 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:50:32,906 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:50:32,906 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:50:32,907 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:622638ac-447a-4a82-9b86-5838bf365f87
2025-10-05 23:50:32,907 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:622638ac-447a-4a82-9b86-5838bf365f87, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:50:32,908 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDA30>, 1830913972:622638ac-447a-4a82-9b86-5838bf365f87
2025-10-05 23:50:32,908 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:622638ac-447a-4a82-9b86-5838bf365f87
2025-10-05 23:50:32,908 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:622638ac-447a-4a82-9b86-5838bf365f87, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:50:32,909 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDA30>, 1830913972:622638ac-447a-4a82-9b86-5838bf365f87
2025-10-05 23:50:32,909 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:622638ac-447a-4a82-9b86-5838bf365f87
2025-10-05 23:50:32,910 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:622638ac-447a-4a82-9b86-5838bf365f87, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:50:32,910 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDA30>, 1830913972:622638ac-447a-4a82-9b86-5838bf365f87
2025-10-05 23:50:32,910 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:622638ac-447a-4a82-9b86-5838bf365f87
2025-10-05 23:50:32,911 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:622638ac-447a-4a82-9b86-5838bf365f87, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:50:32,911 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDA30>, 1830913972:622638ac-447a-4a82-9b86-5838bf365f87
2025-10-05 23:51:16,110 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Формование гранул в слое керосина: -
Формование гранул в водном растворе аммиака: -
Сушка полученных гранул: +
Прокаливание полученных гранул: +
Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л: -
Промывка гранул после прокаливания водой: -
Значение pH воды для промывки от 6 до 9: -
Время промывки 15 минут: -
Проведение термообработки промытых гранул: -
Температура термообработки 250 °C: -
Каталитический реактор трубчатого типа: -
Проведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C: -
Реактор содержит корпус: -
Реактор содержит трубные решетки: -
Реактор содержит устройства для ввода реагентов: -
Реактор содержит устройства для вывода реагентов: -
Реактор содержит устройства для ввода хладагентов: -
Реактор содержит устройства для вывода хладагентов: -
Реактор содержит каталитически активные теплообменные трубки: -
Соединение каталитически активных теплообменных трубок с трубными решетками: -
Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки: -
Нанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок: -
Слой каталитически активного армированного порометаллического материала образован плоскими лентами: -
Слой каталитически активного армированного порометаллического материала образован гофрированными лентами: -
Создание бидисперсной структуры нанесенного на поверхность трубки слоя: -
Толщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм: -
Равномерное нанесение слоя катализатора по длине трубки: -
Неравномерное нанесение слоя катализатора по длине трубки: -
Способ осуществления сильно экзотермических реакций: -
Подача реагирующей смеси стехиометрического состава в межтрубное пространство: -
Подача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство: -
Образование межтрубного пространства каталитически активными теплообменными трубками: -
Подача хладоагента внутрь каталитически активных теплообменных трубок: -
Способ получения пористого железо-калиевооксидного композита: -
Приготовление шихты: -
Шихта содержит кристаллогидрат нитрата железа: -
Шихта содержит кристаллогидрат нитрата церия: -
Шихта содержит нитрат калия: -
Шихта содержит оксид молибдена: -
Шихта содержит оксид титана: -
2025-10-05 23:51:16,111 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:622638ac-447a-4a82-9b86-5838bf365f87
2025-10-05 23:51:16,112 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:622638ac-447a-4a82-9b86-5838bf365f87, message: {'status': 'completed', 'message': 'Формование гранул в слое керосина: -\nФормование гранул в водном растворе аммиака: -\nСушка полученных гранул: +\nПрокаливание полученных гранул: +\nСмешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л: -\nПромывка гранул после прокаливания водой: -\nЗначение pH воды для промывки от 6 до 9: -\nВремя промывки 15 минут: -\nПроведение термообработки промытых гранул: -\nТемпература термообработки 250 °C: -\nКаталитический реактор трубчатого типа: -\nПроведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C: -\nРеактор содержит корпус: -\nРеактор содержит трубные решетки: -\nРеактор содержит устройства для ввода реагентов: -\nРеактор содержит устройства для вывода реагентов: -\nРеактор содержит устройства для ввода хладагентов: -\nРеактор содержит устройства для вывода хладагентов: -\nРеактор содержит каталитически активные теплообменные трубки: -\nСоединение каталитически активных теплообменных трубок с трубными решетками: -\nКаталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки: -\nНанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок: -\nСлой каталитически активного армированного порометаллического материала образован плоскими лентами: -\nСлой каталитически активного армированного порометаллического материала образован гофрированными лентами: -\nСоздание бидисперсной структуры нанесенного на поверхность трубки слоя: -\nТолщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм: -\nРавномерное нанесение слоя катализатора по длине трубки: -\nНеравномерное нанесение слоя катализатора по длине трубки: -\nСпособ осуществления сильно экзотермических реакций: -\nПодача реагирующей смеси стехиометрического состава в межтрубное пространство: -\nПодача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство: -\nОбразование межтрубного пространства каталитически активными теплообменными трубками: -\nПодача хладоагента внутрь каталитически активных теплообменных трубок: -\nСпособ получения пористого железо-калиевооксидного композита: -\nПриготовление шихты: -\nШихта содержит кристаллогидрат нитрата железа: -\nШихта содержит кристаллогидрат нитрата церия: -\nШихта содержит нитрат калия: -\nШихта содержит оксид молибдена: -\nШихта содержит оксид титана: -', 'stage': 'completed'}
2025-10-05 23:51:16,113 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDA30>, 1830913972:622638ac-447a-4a82-9b86-5838bf365f87
2025-10-05 23:51:16,127 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:51:16,128 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf
2025-10-05 23:51:16,128 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf создан новый список соединений
2025-10-05 23:51:16,129 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf: 1
2025-10-05 23:51:16,129 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf содержит 0 сообщений
2025-10-05 23:51:16,129 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:51:16,130 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:622638ac-447a-4a82-9b86-5838bf365f87: 1 соединений
2025-10-05 23:51:16,131 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf: 1 соединений
2025-10-05 23:51:16,131 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf содержит 0 сообщений
2025-10-05 23:51:16,131 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf
2025-10-05 23:51:16,131 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf connected successfully
2025-10-05 23:51:16,132 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:622638ac-447a-4a82-9b86-5838bf365f87 disconnected
2025-10-05 23:51:16,132 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:51:16,132 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf: 1 соединений
2025-10-05 23:51:16,133 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:622638ac-447a-4a82-9b86-5838bf365f87 cleanup completed
2025-10-05 23:51:16,135 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:51:16,137 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:51:16,137 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:51:16,137 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:51:16,137 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:51:16,138 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:51:16,140 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347E4A0>
2025-10-05 23:51:16,140 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:51:16,141 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347E4A0>
2025-10-05 23:51:16,141 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:51:16,141 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:51:16,142 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347E4A0>
2025-10-05 23:51:16,142 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:51:16,143 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:51:16,143 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: e12b...
2025-10-05 23:51:16,144 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:51:16,144 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:51:16,145 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:51:16,145 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:51:16,145 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:51:16,145 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:51:16,145 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:51:16,145 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf
2025-10-05 23:51:16,146 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:51:16,146 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF140>, 1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf
2025-10-05 23:51:16,146 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf
2025-10-05 23:51:16,147 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:51:16,147 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF140>, 1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf
2025-10-05 23:51:16,148 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf
2025-10-05 23:51:16,148 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:51:16,149 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF140>, 1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf
2025-10-05 23:51:16,149 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf
2025-10-05 23:51:16,150 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:51:16,150 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF140>, 1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf
2025-10-05 23:51:52,857 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Шихта содержит карбонат кальция: -
Шихта содержит тетраэтоксисилан: -
Компоненты шихты взяты в стехиометрическом соотношении: -
Импрегнирование в шихту выгорающей микродобавки: -
Импрегнирование продуктами гидролиза солей: -
Получение продуктов гидролиза солей способом соосаждения: -
Получение продуктов гидролиза солей способом золь-гель: -
Использование диоксанлигнина березы в качестве выгорающей микродобавки: -
Количество выгорающей микродобавки 0,125-0,250 мас.%: -
Формование образцов композита методом полусухого прессования: -
Проведение обжига: -
Обжиг в интервале температур 20-700°С: -
Скорость нагрева при обжиге 10°/мин: -
Изотермическая выдержка при обжиге в течение 3 часов: -
Формирование бидисперсной структуры в композите: -
Пористый железо-калиевооксидный композит: -
Композит содержит фазу оксида железа α-Fe2O3: -
Композит содержит фазу оксида церия CeO2: -
Композит содержит фазу молибдата калия K2MoO4: -
Композит содержит фазу феррита калия состава KFeO2: -
Композит содержит фазу феррита калия состава KFe11O17: -
Композит имеет бидисперсную структуру: -
Общий объем пор композита от 0,006 до 0,013 см3/г: -
Диаметр мезопор композита от 16 до 40 нм: -
Диаметр макропор композита от 75 до 130 нм: -
Удельная поверхность композита от 2 до 5 м2/г: -
Способ получения пористых порошковых материалов: -
Нанесение на частицы порообразователя связующего: -
Смешивание частиц порообразователя со связующим с порошком: -
Формование шихты: -
Спекание шихты: -
Использование металлического порошка при смешивании: -
Использование керамического порошка при смешивании: -
Нанесение на частицы порообразователя не менее двух слоев керамического порошка: -
Нанесение на частицы порообразователя не более пяти слоев керамического порошка: -
Нанесение органического связющего при нанесении первого слоя керамического порошка: -
Использование неорганического связующего при нанесении второго слоя керамического порошка: -
Использование неорганического связующего при нанесении последующих слоев керамического порошка: -
Использование гранул пенополистирола в качестве частиц порообразователя: -
Использование частиц порообразователя с размером в диапазоне 0,5-1 мм: -
2025-10-05 23:51:52,859 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf
2025-10-05 23:51:52,859 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf, message: {'status': 'completed', 'message': 'Шихта содержит карбонат кальция: -\nШихта содержит тетраэтоксисилан: -\nКомпоненты шихты взяты в стехиометрическом соотношении: -\nИмпрегнирование в шихту выгорающей микродобавки: -\nИмпрегнирование продуктами гидролиза солей: -\nПолучение продуктов гидролиза солей способом соосаждения: -\nПолучение продуктов гидролиза солей способом золь-гель: -\nИспользование диоксанлигнина березы в качестве выгорающей микродобавки: -\nКоличество выгорающей микродобавки 0,125-0,250 мас.%: -\nФормование образцов композита методом полусухого прессования: -\nПроведение обжига: -\nОбжиг в интервале температур 20-700°С: -\nСкорость нагрева при обжиге 10°/мин: -\nИзотермическая выдержка при обжиге в течение 3 часов: -\nФормирование бидисперсной структуры в композите: -\nПористый железо-калиевооксидный композит: -\nКомпозит содержит фазу оксида железа α-Fe2O3: -\nКомпозит содержит фазу оксида церия CeO2: -\nКомпозит содержит фазу молибдата калия K2MoO4: -\nКомпозит содержит фазу феррита калия состава KFeO2: -\nКомпозит содержит фазу феррита калия состава KFe11O17: -\nКомпозит имеет бидисперсную структуру: -\nОбщий объем пор композита от 0,006 до 0,013 см3/г: -\nДиаметр мезопор композита от 16 до 40 нм: -\nДиаметр макропор композита от 75 до 130 нм: -\nУдельная поверхность композита от 2 до 5 м2/г: -\nСпособ получения пористых порошковых материалов: -\nНанесение на частицы порообразователя связующего: -\nСмешивание частиц порообразователя со связующим с порошком: -\nФормование шихты: -\nСпекание шихты: -\nИспользование металлического порошка при смешивании: -\nИспользование керамического порошка при смешивании: -\nНанесение на частицы порообразователя не менее двух слоев керамического порошка: -\nНанесение на частицы порообразователя не более пяти слоев керамического порошка: -\nНанесение органического связющего при нанесении первого слоя керамического порошка: -\nИспользование неорганического связующего при нанесении второго слоя керамического порошка: -\nИспользование неорганического связующего при нанесении последующих слоев керамического порошка: -\nИспользование гранул пенополистирола в качестве частиц порообразователя: -\nИспользование частиц порообразователя с размером в диапазоне 0,5-1 мм: -', 'stage': 'completed'}
2025-10-05 23:51:52,863 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF140>, 1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf
2025-10-05 23:51:52,877 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf disconnected
2025-10-05 23:51:52,877 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:51:52,878 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:b6015674-cb50-4921-87ed-73b0c28b8bcf cleanup completed
2025-10-05 23:51:52,882 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa
2025-10-05 23:51:52,882 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa создан новый список соединений
2025-10-05 23:51:52,882 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa: 1
2025-10-05 23:51:52,883 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa содержит 0 сообщений
2025-10-05 23:51:52,883 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:51:52,883 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa: 1 соединений
2025-10-05 23:51:52,883 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa содержит 0 сообщений
2025-10-05 23:51:52,884 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa
2025-10-05 23:51:52,884 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa connected successfully
2025-10-05 23:51:52,885 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:51:52,886 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:51:52,887 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:51:52,888 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:51:52,888 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:51:52,888 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:51:52,888 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:51:52,889 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D7F0>
2025-10-05 23:51:52,889 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:51:52,889 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D7F0>
2025-10-05 23:51:52,890 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:51:52,890 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:51:52,891 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D7F0>
2025-10-05 23:51:52,891 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:51:52,892 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:51:52,892 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: e12b...
2025-10-05 23:51:52,893 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:51:52,894 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:51:52,894 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:51:52,894 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:51:52,894 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:51:52,894 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:51:52,894 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:51:52,895 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa
2025-10-05 23:51:52,895 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:51:52,896 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa
2025-10-05 23:51:52,896 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa
2025-10-05 23:51:52,896 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:51:52,897 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa
2025-10-05 23:51:52,897 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa
2025-10-05 23:51:52,898 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:51:52,898 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa
2025-10-05 23:51:52,899 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa
2025-10-05 23:51:52,899 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:51:52,899 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa
2025-10-05 23:52:08,348 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Использование водно-дисперсионного полиуретанового лака в качестве органического связующего: -
Использование водного раствора силиката натрия в качестве неорганического связующего: -
Способ соединения крупногабаритных порошковых деталей: -
Приготовление шихты на основе железа: -
Прессование деталей: -
Нанесение на соединяемые поверхности слоя шликера на основе порошка железа: -
Сборка деталей: -
Размещение пропитывающих брикетов на основе меди: -
Проведение спекания с одновременной инфильтрацией: -
Приготовление шликера из бидисперсных порошков: -
Расположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями: -
Нанесение слоя шликера на поверхность соединяемых деталей: -
Нанесение слоя шликера на поверхность непроницаемой перегородки: -
Размещение пропитывающих брикетов сверху сборки: -
Размещение пропитывающих брикетов снизу сборки: -
2025-10-05 23:52:08,348 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa
2025-10-05 23:52:08,349 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa, message: {'status': 'completed', 'message': 'Использование водно-дисперсионного полиуретанового лака в качестве органического связующего: -\nИспользование водного раствора силиката натрия в качестве неорганического связующего: -\nСпособ соединения крупногабаритных порошковых деталей: -\nПриготовление шихты на основе железа: -\nПрессование деталей: -\nНанесение на соединяемые поверхности слоя шликера на основе порошка железа: -\nСборка деталей: -\nРазмещение пропитывающих брикетов на основе меди: -\nПроведение спекания с одновременной инфильтрацией: -\nПриготовление шликера из бидисперсных порошков: -\nРасположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями: -\nНанесение слоя шликера на поверхность соединяемых деталей: -\nНанесение слоя шликера на поверхность непроницаемой перегородки: -\nРазмещение пропитывающих брикетов сверху сборки: -\nРазмещение пропитывающих брикетов снизу сборки: -', 'stage': 'completed'}
2025-10-05 23:52:08,349 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa
2025-10-05 23:52:08,360 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa disconnected
2025-10-05 23:52:08,360 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:52:08,361 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:904dde2e-55d1-4d01-9de4-ea81cb025eaa cleanup completed
2025-10-05 23:52:08,364 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13
2025-10-05 23:52:08,364 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:52:08,364 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13 создан новый список соединений
2025-10-05 23:52:08,365 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13: 1
2025-10-05 23:52:08,365 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13 содержит 0 сообщений
2025-10-05 23:52:08,366 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:52:08,366 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13: 1 соединений
2025-10-05 23:52:08,366 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13 содержит 0 сообщений
2025-10-05 23:52:08,367 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13
2025-10-05 23:52:08,367 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13 connected successfully
2025-10-05 23:52:08,368 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:52:08,369 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:52:08,370 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:52:08,370 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:52:08,370 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:52:08,371 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:52:08,371 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DB70>
2025-10-05 23:52:08,371 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:52:08,371 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DB70>
2025-10-05 23:52:08,372 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:52:08,372 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:52:08,383 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DB70>
2025-10-05 23:52:08,384 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:52:08,384 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:52:08,385 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: e12b...
2025-10-05 23:52:08,386 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:52:08,387 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:52:08,387 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:52:08,387 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:52:08,387 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:52:08,387 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:52:08,388 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:52:08,388 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13
2025-10-05 23:52:08,388 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:52:08,389 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFC80>, 1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13
2025-10-05 23:52:08,389 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13
2025-10-05 23:52:08,389 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:52:08,390 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFC80>, 1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13
2025-10-05 23:52:08,390 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13
2025-10-05 23:52:08,390 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:52:08,391 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFC80>, 1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13
2025-10-05 23:52:08,391 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13
2025-10-05 23:52:08,392 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:52:08,392 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFC80>, 1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13
2025-10-05 23:52:48,639 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Способ получения бидисперсных порошковых смесей: -
Получение смесей из порошков существенно разных размеров: -
Использование метода самораспространяющегося высокотемпературного синтеза (СВС): -
Подготовка смеси компонентов: -
Смешение нитрата металла и топливного компонента: -
Использование нитрата металла в качестве окислителя: -
Использование топливного компонента в качестве восстановителя: -
Использование глицерина в качестве топливного компонента: -
Использование тиомочевины в качестве топливного компонента: -
Использование этиленгликоля в качестве топливного компонента: -
Пропитка предварительно приготовленного порошка микронных размеров подготовленной смесью: -
Использование порошка микронных размеров на основе оксидов: -
Равномерное распределение реагентов на поверхности частиц порошка: -
Формирование однородной бидисперсной смеси: -
Удаление воды из раствора выпариванием: -
Удаление воды из раствора сушкой: -
Образование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка: -
Нагревание сухой смеси до определенной температуры: -
Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом: -
Экзотермический характер окислительно-восстановительной реакции: -
Самораспространяющийся характер процесса горения: -
Поддержание процесса горения за счет выделяемой энергии: -
Образование продукта в виде нанопорошка оксида металла: -
Формирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ): -
Получение бидисперсной системы, состоящей из микропорошка и нанопорошка: -
Более равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением: -
Способ получения смесевого твердого топлива с металлическим горючим: -
Механическое перемешивание компонентов: -
Использование металлического горючего в виде бидисперсной смеси порошков: -
Использование порошка алюминия микронных размеров: -
Использование нанопорошка алюминия: -
Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%: -
Перемешивание бидисперсной смеси до осредненного состояния: -
Введение бидисперсной смеси в количестве 10-25 мас.%: -
Введение бидисперсной смеси в полностью перемешанную смесь других компонентов: -
Дополнительное перемешивание полученной массы в течение не менее 30 мин: -
Вакуумирование полученной массы в течение не менее 30 мин: -
Использование перхлората аммония в качестве окислителя: -
Использование нитрата аммония в качестве окислителя: -
Использование смешанного окислителя, включающего нитрат аммония и нитрамин: -
2025-10-05 23:52:48,640 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13
2025-10-05 23:52:48,641 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13, message: {'status': 'completed', 'message': 'Способ получения бидисперсных порошковых смесей: -\nПолучение смесей из порошков существенно разных размеров: -\nИспользование метода самораспространяющегося высокотемпературного синтеза (СВС): -\nПодготовка смеси компонентов: -\nСмешение нитрата металла и топливного компонента: -\nИспользование нитрата металла в качестве окислителя: -\nИспользование топливного компонента в качестве восстановителя: -\nИспользование глицерина в качестве топливного компонента: -\nИспользование тиомочевины в качестве топливного компонента: -\nИспользование этиленгликоля в качестве топливного компонента: -\nПропитка предварительно приготовленного порошка микронных размеров подготовленной смесью: -\nИспользование порошка микронных размеров на основе оксидов: -\nРавномерное распределение реагентов на поверхности частиц порошка: -\nФормирование однородной бидисперсной смеси: -\nУдаление воды из раствора выпариванием: -\nУдаление воды из раствора сушкой: -\nОбразование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка: -\nНагревание сухой смеси до определенной температуры: -\nИнициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом: -\nЭкзотермический характер окислительно-восстановительной реакции: -\nСамораспространяющийся характер процесса горения: -\nПоддержание процесса горения за счет выделяемой энергии: -\nОбразование продукта в виде нанопорошка оксида металла: -\nФормирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ): -\nПолучение бидисперсной системы, состоящей из микропорошка и нанопорошка: -\nБолее равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением: -\nСпособ получения смесевого твердого топлива с металлическим горючим: -\nМеханическое перемешивание компонентов: -\nИспользование металлического горючего в виде бидисперсной смеси порошков: -\nИспользование порошка алюминия микронных размеров: -\nИспользование нанопорошка алюминия: -\nСоотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%: -\nПеремешивание бидисперсной смеси до осредненного состояния: -\nВведение бидисперсной смеси в количестве 10-25 мас.%: -\nВведение бидисперсной смеси в полностью перемешанную смесь других компонентов: -\nДополнительное перемешивание полученной массы в течение не менее 30 мин: -\nВакуумирование полученной массы в течение не менее 30 мин: -\nИспользование перхлората аммония в качестве окислителя: -\nИспользование нитрата аммония в качестве окислителя: -\nИспользование смешанного окислителя, включающего нитрат аммония и нитрамин: -', 'stage': 'completed'}
2025-10-05 23:52:48,643 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFC80>, 1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13
2025-10-05 23:52:48,652 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13 disconnected
2025-10-05 23:52:48,652 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:52:48,653 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:6c9dae47-c13f-4de9-b5f9-8fb421e03a13 cleanup completed
2025-10-05 23:52:48,653 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198
2025-10-05 23:52:48,654 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198 создан новый список соединений
2025-10-05 23:52:48,654 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198: 1
2025-10-05 23:52:48,654 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198 содержит 0 сообщений
2025-10-05 23:52:48,654 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:52:48,655 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198: 1 соединений
2025-10-05 23:52:48,655 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198 содержит 0 сообщений
2025-10-05 23:52:48,655 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198
2025-10-05 23:52:48,655 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198 connected successfully
2025-10-05 23:52:48,656 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:52:48,657 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:52:48,657 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:52:48,658 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:52:48,658 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:52:48,658 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:52:48,658 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:52:48,658 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D8D0>
2025-10-05 23:52:48,659 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:52:48,659 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D8D0>
2025-10-05 23:52:48,659 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:52:48,659 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:52:48,660 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D8D0>
2025-10-05 23:52:48,660 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:52:48,661 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:52:48,661 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: e12b...
2025-10-05 23:52:48,662 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:52:48,662 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:52:48,662 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:52:48,663 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:52:48,663 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:52:48,663 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:52:48,663 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:52:48,663 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198
2025-10-05 23:52:48,663 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:52:48,664 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD6D0>, 1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198
2025-10-05 23:52:48,664 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198
2025-10-05 23:52:48,664 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:52:48,665 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD6D0>, 1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198
2025-10-05 23:52:48,665 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198
2025-10-05 23:52:48,665 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:52:48,665 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD6D0>, 1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198
2025-10-05 23:52:48,666 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198
2025-10-05 23:52:48,666 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:52:48,666 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD6D0>, 1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198
2025-10-05 23:53:23,241 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего: -
Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего: -
Способ получения порошковой смеси бидисперсных керамических и металлических частиц: -
Перемешивание порошков в жидкой среде: -
Двухэтапное перемешивание: -
Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды: -
Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1: -
Перемешивание керамических наночастиц в жидкой среде на первом этапе: -
Длительность перемешивания на первом этапе не менее 15 минут: -
Добавление металлических микрочастиц на втором этапе: -
Перемешивание полученной смеси на втором этапе: -
Длительность перемешивания на втором этапе не менее 15 минут: -
Удаление жидкости после перемешивания: -
Удаление жидкости в сушильном шкафу: -
Температура удаления жидкости не менее 80°C: -
Длительность удаления жидкости не менее 24 часов: -
Использование керамических наночастиц: -
Диаметр керамических наночастиц от 30 до 140 нм: -
Использование металлических микрочастиц: -
Диаметр металлических микрочастиц от 20 до 180 мкм: -
Массовое соотношение порошков и жидкости 1/2: -
Массовое соотношение наночастиц и микрочастиц 1/19: -
Способ получения дифениламина: -
Термическая обработка анилина: -
Проведение термической обработки в присутствии катализатора: -
Использование алюмооксидного катализатора: +
Катализатор кислого характера: +
Получение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде: +
Использование азотной кислоты при получении катализатора: +
Пластификация катализатора: +
Формование катализатора: +
Сушка катализатора: +
Прокаливание катализатора при повышенной температуре: +
Катализатор с бидисперсной пористой структурой: +
Суммарный объем пор катализатора равен или более 0,45 см³/г: +
Объем пор катализатора с радиусом более равен или более 0,27 см³/г: +
Удельная поверхность катализатора не менее 200 м²/г: +
Получение катализатора из термо- или термомеханохимически активированного гидроксида алюминия: +
Смешивание активированного гидроксида алюминия с ортофосфорной кислотой: +
Проведение пластификации при кислотном модуле 0,02 - 0,07: +
2025-10-05 23:53:23,242 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198
2025-10-05 23:53:23,242 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198, message: {'status': 'completed', 'message': 'Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего: -\nИспользование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего: -\nСпособ получения порошковой смеси бидисперсных керамических и металлических частиц: -\nПеремешивание порошков в жидкой среде: -\nДвухэтапное перемешивание: -\nИспользование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды: -\nМассовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1: -\nПеремешивание керамических наночастиц в жидкой среде на первом этапе: -\nДлительность перемешивания на первом этапе не менее 15 минут: -\nДобавление металлических микрочастиц на втором этапе: -\nПеремешивание полученной смеси на втором этапе: -\nДлительность перемешивания на втором этапе не менее 15 минут: -\nУдаление жидкости после перемешивания: -\nУдаление жидкости в сушильном шкафу: -\nТемпература удаления жидкости не менее 80°C: -\nДлительность удаления жидкости не менее 24 часов: -\nИспользование керамических наночастиц: -\nДиаметр керамических наночастиц от 30 до 140 нм: -\nИспользование металлических микрочастиц: -\nДиаметр металлических микрочастиц от 20 до 180 мкм: -\nМассовое соотношение порошков и жидкости 1/2: -\nМассовое соотношение наночастиц и микрочастиц 1/19: -\nСпособ получения дифениламина: -\nТермическая обработка анилина: -\nПроведение термической обработки в присутствии катализатора: -\nИспользование алюмооксидного катализатора: +\nКатализатор кислого характера: +\nПолучение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде: +\nИспользование азотной кислоты при получении катализатора: +\nПластификация катализатора: +\nФормование катализатора: +\nСушка катализатора: +\nПрокаливание катализатора при повышенной температуре: +\nКатализатор с бидисперсной пористой структурой: +\nСуммарный объем пор катализатора равен или более 0,45 см³/г: +\nОбъем пор катализатора с радиусом более равен или более 0,27 см³/г: +\nУдельная поверхность катализатора не менее 200 м²/г: +\nПолучение катализатора из термо- или термомеханохимически активированного гидроксида алюминия: +\nСмешивание активированного гидроксида алюминия с ортофосфорной кислотой: +\nПроведение пластификации при кислотном модуле 0,02 - 0,07: +', 'stage': 'completed'}
2025-10-05 23:53:23,245 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD6D0>, 1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198
2025-10-05 23:53:23,257 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198 disconnected
2025-10-05 23:53:23,257 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:53:23,257 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:a9da0f73-859b-4d0a-8758-4ccaabbdf198 cleanup completed
2025-10-05 23:53:23,261 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d
2025-10-05 23:53:23,261 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d создан новый список соединений
2025-10-05 23:53:23,261 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d: 1
2025-10-05 23:53:23,262 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d содержит 0 сообщений
2025-10-05 23:53:23,262 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:53:23,262 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d: 1 соединений
2025-10-05 23:53:23,262 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d содержит 0 сообщений
2025-10-05 23:53:23,263 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d
2025-10-05 23:53:23,263 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d connected successfully
2025-10-05 23:53:23,264 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:53:23,266 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:53:23,267 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:53:23,267 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:53:23,268 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:53:23,268 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:53:23,268 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:53:23,269 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347E4A0>
2025-10-05 23:53:23,269 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:53:23,269 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347E4A0>
2025-10-05 23:53:23,270 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:53:23,270 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:53:23,270 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347E4A0>
2025-10-05 23:53:23,271 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:53:23,271 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:53:23,272 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: e12b...
2025-10-05 23:53:23,273 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:53:23,274 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:53:23,274 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:53:23,274 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:53:23,275 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:53:23,275 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:53:23,275 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:53:23,275 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d
2025-10-05 23:53:23,276 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:53:23,276 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEF90>, 1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d
2025-10-05 23:53:23,277 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d
2025-10-05 23:53:23,277 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:53:23,278 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEF90>, 1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d
2025-10-05 23:53:23,278 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d
2025-10-05 23:53:23,278 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:53:23,279 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEF90>, 1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d
2025-10-05 23:53:23,279 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d
2025-10-05 23:53:23,279 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:53:23,280 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEF90>, 1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d
2025-10-05 23:54:09,588 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Провяливание катализатора на воздухе не менее 12 часов перед сушкой: -
Сушка катализатора при 100 °C не менее 12 часов после провяливания: -
Прокаливание катализатора при 500 °C после сушки: -
Гранулированный наноструктурированный алюмооксидный катализатор: +
Содержание натрия в катализаторе от 0,005 до 0,02 мас.%: +
Содержание серы в катализатора от 0 до 5 мас.%: +
Содержание фосфора в катализаторе от 0 до 2,8 мас.%: +
Содержание хлора в катализаторе от 0 до 2,6 мас.%: +
Бидисперсная пористая структура катализатора: +
Объем микропор катализатора от 0,06 до 0,18 см³/г: +
Объем мезопор катализатора от 0,2 до 0,32 см³/г: +
Суммарный объем пор катализатора от 0,25 до 0,55 см³/г: +
Средний диаметр пор катализатора от 3 до 5,5 нм: +
Удельная поверхность катализатора от 200 до 350 м²/г: +
Оксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы: +
Суммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%: +
Содержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%: +
Форма гранул катализатора - цилиндр диаметром 3-5 мм: +
Форма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм: +
Способ приготовления катализатора, включающий термическую активацию гидраргиллита: +
Гидратация продуктов термической активации гидраргиллита в кислом растворе: +
Отмывка продуктов гидратации от примесных ионов: +
Введение модифицирующих добавок на стадии пластификации: +
Формование в гранулы методом экструзии: +
Проведение термической обработки сформированных гранул: +
Отмывка продуктов гидратации дистиллированной водой: +
Отмывка продуктов гидратации слабыми растворами серной кислоты: +
Отмывка продуктов гидратации слабыми растворами азотной кислоты: +
Использование растворов серной кислоты для пластификации гидроксида алюминия: +
Использование растворов соляной кислоты для пластификации гидроксида алюминия: +
Использование растворов ортофосфорной кислоты для пластификации гидроксида алюминия: +
Использование растворов азотной кислоты для пластификации гидроксида алюминия: +
Модифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃: +
Модифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃: +
Модифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃: +
Модифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃: +
Использование продукта центробежной термической активации гидраргиллита: +
Использование термоактивированного гидроксида алюминия: +
Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С: +
Способ получения этилена путем дегидратации этанола: +
2025-10-05 23:54:09,590 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d
2025-10-05 23:54:09,591 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d, message: {'status': 'completed', 'message': 'Провяливание катализатора на воздухе не менее 12 часов перед сушкой: -\nСушка катализатора при 100 °C не менее 12 часов после провяливания: -\nПрокаливание катализатора при 500 °C после сушки: -\nГранулированный наноструктурированный алюмооксидный катализатор: +\nСодержание натрия в катализаторе от 0,005 до 0,02 мас.%: +\nСодержание серы в катализатора от 0 до 5 мас.%: +\nСодержание фосфора в катализаторе от 0 до 2,8 мас.%: +\nСодержание хлора в катализаторе от 0 до 2,6 мас.%: +\nБидисперсная пористая структура катализатора: +\nОбъем микропор катализатора от 0,06 до 0,18 см³/г: +\nОбъем мезопор катализатора от 0,2 до 0,32 см³/г: +\nСуммарный объем пор катализатора от 0,25 до 0,55 см³/г: +\nСредний диаметр пор катализатора от 3 до 5,5 нм: +\nУдельная поверхность катализатора от 200 до 350 м²/г: +\nОксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы: +\nСуммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%: +\nСодержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%: +\nФорма гранул катализатора - цилиндр диаметром 3-5 мм: +\nФорма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм: +\nСпособ приготовления катализатора, включающий термическую активацию гидраргиллита: +\nГидратация продуктов термической активации гидраргиллита в кислом растворе: +\nОтмывка продуктов гидратации от примесных ионов: +\nВведение модифицирующих добавок на стадии пластификации: +\nФормование в гранулы методом экструзии: +\nПроведение термической обработки сформированных гранул: +\nОтмывка продуктов гидратации дистиллированной водой: +\nОтмывка продуктов гидратации слабыми растворами серной кислоты: +\nОтмывка продуктов гидратации слабыми растворами азотной кислоты: +\nИспользование растворов серной кислоты для пластификации гидроксида алюминия: +\nИспользование растворов соляной кислоты для пластификации гидроксида алюминия: +\nИспользование растворов ортофосфорной кислоты для пластификации гидроксида алюминия: +\nИспользование растворов азотной кислоты для пластификации гидроксида алюминия: +\nМодифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃: +\nМодифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃: +\nМодифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃: +\nМодифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃: +\nИспользование продукта центробежной термической активации гидраргиллита: +\nИспользование термоактивированного гидроксида алюминия: +\nПроведение термической обработки гранул гидроксида алюминия при температуре 500-550°С: +\nСпособ получения этилена путем дегидратации этанола: +', 'stage': 'completed'}
2025-10-05 23:54:09,594 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEF90>, 1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d
2025-10-05 23:54:09,610 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da
2025-10-05 23:54:09,610 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da создан новый список соединений
2025-10-05 23:54:09,610 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da: 1
2025-10-05 23:54:09,611 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da содержит 0 сообщений
2025-10-05 23:54:09,611 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:54:09,611 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d: 1 соединений
2025-10-05 23:54:09,612 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da: 1 соединений
2025-10-05 23:54:09,612 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da содержит 0 сообщений
2025-10-05 23:54:09,612 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da
2025-10-05 23:54:09,613 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da connected successfully
2025-10-05 23:54:09,613 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d disconnected
2025-10-05 23:54:09,614 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:54:09,614 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da: 1 соединений
2025-10-05 23:54:09,614 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:2eb530e1-04c2-4dec-bddd-f7666eaae62d cleanup completed
2025-10-05 23:54:09,616 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:54:09,617 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:54:09,618 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:54:09,619 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:54:09,619 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:54:09,620 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:54:09,620 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:54:09,625 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C9F0>
2025-10-05 23:54:09,626 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:54:09,628 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C9F0>
2025-10-05 23:54:09,628 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:54:09,629 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:54:09,629 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C9F0>
2025-10-05 23:54:09,630 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:54:09,630 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:54:09,631 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: e12b...
2025-10-05 23:54:09,632 - core.token_manager.deepseek - WARNING - [deepseek.py:61 - mark_rate_limit()] - Key sk-o... blocked
2025-10-05 23:54:09,632 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:54:09,633 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:54:09,633 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:54:09,633 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:54:09,633 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:54:09,634 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:54:09,634 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:54:09,635 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da
2025-10-05 23:54:09,635 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:54:09,636 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da
2025-10-05 23:54:09,636 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da
2025-10-05 23:54:09,637 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:54:09,637 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da
2025-10-05 23:54:09,638 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da
2025-10-05 23:54:09,638 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:54:09,638 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da
2025-10-05 23:54:09,638 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da
2025-10-05 23:54:09,639 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:54:09,639 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da
2025-10-05 23:54:57,656 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора: +
Проведение процесса получения этилена при температуре 350-450°С: +
Проведение процесса получения этилена при времени контакта 0.2-4.0 с: +
Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов: -
Содержание палладия в катализаторе 0,01÷1,0 мас.%: -
Размер частиц палладия от 1,5 до 20 нм: -
Нанесение активного компонента (палладия) на бидисперсный силикагель: -
Содержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%: -
Удельная поверхность бидисперсного силикагеля 150÷350 м²/г: -
Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г: -
Отсутствие микропор в бидисперсном силикагеле: -
Объем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г: -
Объем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г: -
Способ приготовления палладиевого катализатора: -
Использование предварительно высушенного носителя: -
Пропитка носителя водным раствором стабилизированного нитрата палладия: -
Пропитка носителя раствором стабилизированного нитрата палладия при определенных рН: -
Сушка катализатора после пропитки: -
Прокаливание катализатора на воздухе после сушки: -
Восстановление катализатора в потоке водородсодержащего газа после прокаливания: -
Добавление лимонной кислоты в пропиточные растворы: -
Предотвращение агломерации палладийсодержащих частиц на поверхности носителя: -
Регулирование рН пропиточных растворов без введения катионов щелочных металлов: -
Регулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида: -
Способ очистки олефинов от примесей полиненасыщенных углеводородов: -
Очистка путем каталитического гидрирования: -
Гидрирование при повышенных температурах: -
Гидрирование при атмосферном давлении: -
Гидрирование при температуре 50-200°С: -
Гидрирование при объемной скорости 10000-20000 ч⁻¹: -
Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой: +
Использование гидроксида алюминия в виде гидратированного соединения: +
Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия: -
Содержание в гидратированном соединении до 10% гиббсита: -
Размол гидроксида алюминия до частиц размером менее 20 мкм: -
Количество частиц размером менее 20 мкм после размола более 70%: -
Смешивание размолотого гидроксида алюминия с водой: +
Проведение смешивания в присутствии азотной кислоты: +
Проведение пластификации полученной смеси: +
Формование гранул из пластифицированного продукта: +
2025-10-05 23:54:57,658 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da
2025-10-05 23:54:57,659 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da, message: {'status': 'completed', 'message': 'Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора: +\nПроведение процесса получения этилена при температуре 350-450°С: +\nПроведение процесса получения этилена при времени контакта 0.2-4.0 с: +\nКатализатор для очистки олефинов от примесей полиненасыщенных углеводородов: -\nСодержание палладия в катализаторе 0,01÷1,0 мас.%: -\nРазмер частиц палладия от 1,5 до 20 нм: -\nНанесение активного компонента (палладия) на бидисперсный силикагель: -\nСодержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%: -\nУдельная поверхность бидисперсного силикагеля 150÷350 м²/г: -\nОбщий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г: -\nОтсутствие микропор в бидисперсном силикагеле: -\nОбъем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г: -\nОбъем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г: -\nСпособ приготовления палладиевого катализатора: -\nИспользование предварительно высушенного носителя: -\nПропитка носителя водным раствором стабилизированного нитрата палладия: -\nПропитка носителя раствором стабилизированного нитрата палладия при определенных рН: -\nСушка катализатора после пропитки: -\nПрокаливание катализатора на воздухе после сушки: -\nВосстановление катализатора в потоке водородсодержащего газа после прокаливания: -\nДобавление лимонной кислоты в пропиточные растворы: -\nПредотвращение агломерации палладийсодержащих частиц на поверхности носителя: -\nРегулирование рН пропиточных растворов без введения катионов щелочных металлов: -\nРегулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида: -\nСпособ очистки олефинов от примесей полиненасыщенных углеводородов: -\nОчистка путем каталитического гидрирования: -\nГидрирование при повышенных температурах: -\nГидрирование при атмосферном давлении: -\nГидрирование при температуре 50-200°С: -\nГидрирование при объемной скорости 10000-20000 ч⁻¹: -\nСпособ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой: +\nИспользование гидроксида алюминия в виде гидратированного соединения: +\nСодержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия: -\nСодержание в гидратированном соединении до 10% гиббсита: -\nРазмол гидроксида алюминия до частиц размером менее 20 мкм: -\nКоличество частиц размером менее 20 мкм после размола более 70%: -\nСмешивание размолотого гидроксида алюминия с водой: +\nПроведение смешивания в присутствии азотной кислоты: +\nПроведение пластификации полученной смеси: +\nФормование гранул из пластифицированного продукта: +', 'stage': 'completed'}
2025-10-05 23:54:57,660 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da
2025-10-05 23:54:57,675 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649
2025-10-05 23:54:57,675 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:54:57,675 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649 создан новый список соединений
2025-10-05 23:54:57,676 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649: 1
2025-10-05 23:54:57,676 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649 содержит 0 сообщений
2025-10-05 23:54:57,677 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:54:57,677 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da: 1 соединений
2025-10-05 23:54:57,678 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649: 1 соединений
2025-10-05 23:54:57,678 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649 содержит 0 сообщений
2025-10-05 23:54:57,678 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649
2025-10-05 23:54:57,678 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649 connected successfully
2025-10-05 23:54:57,679 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da disconnected
2025-10-05 23:54:57,679 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:54:57,680 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649: 1 соединений
2025-10-05 23:54:57,680 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:ad05b210-0862-42e1-a9ae-eb025785a5da cleanup completed
2025-10-05 23:54:57,682 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:54:57,683 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:54:57,683 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:54:57,684 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:54:57,684 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:54:57,684 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:54:57,685 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CBB0>
2025-10-05 23:54:57,685 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:54:57,685 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CBB0>
2025-10-05 23:54:57,686 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:54:57,686 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:54:57,687 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CBB0>
2025-10-05 23:54:57,687 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:54:57,687 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:54:57,688 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-05 23:54:57,690 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:54:57,690 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:54:57,690 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:54:57,691 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:54:57,691 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:54:57,692 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:54:57,692 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:54:57,693 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649
2025-10-05 23:54:57,693 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:54:57,694 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE0F0>, 1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649
2025-10-05 23:54:57,694 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649
2025-10-05 23:54:57,695 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:54:57,695 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE0F0>, 1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649
2025-10-05 23:54:57,695 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649
2025-10-05 23:54:57,696 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:54:57,697 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE0F0>, 1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649
2025-10-05 23:54:57,697 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649
2025-10-05 23:54:57,697 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:54:57,698 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE0F0>, 1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649
2025-10-05 23:55:37,724 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Формование гранул в слое керосина: -
Формование гранул в водном растворе аммиака: -
Сушка полученных гранул: -
Прокаливание полученных гранул: -
Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л: -
Промывка гранул после прокаливания водой: -
Значение pH воды для промывки от 6 до 9: -
Время промывки 15 минут: -
Проведение термообработки промытых гранул: -
Температура термообработки 250 °C: -
Каталитический реактор трубчатого типа: -
Проведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C: -
Реактор содержит корпус: -
Реактор содержит трубные решетки: -
Реактор содержит устройства для ввода реагентов: -
Реактор содержит устройства для вывода реагентов: -
Реактор содержит устройства для ввода хладагентов: -
Реактор содержит устройства для вывода хладагентов: -
Реактор содержит каталитически активные теплообменные трубки: -
Соединение каталитически активных теплообменных трубок с трубными решетками: -
Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки: -
Нанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок: -
Слой каталитически активного армированного порометаллического материала образован плоскими лентами: -
Слой каталитически активного армированного порометаллического материала образован гофрированными лентами: -
Создание бидисперсной структуры нанесенного на поверхность трубки слоя: -
Толщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм: -
Равномерное нанесение слоя катализатора по длине трубки: -
Неравномерное нанесение слоя катализатора по длине трубки: -
Способ осуществления сильно экзотермических реакций: -
Подача реагирующей смеси стехиометрического состава в межтрубное пространство: -
Подача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство: -
Образование межтрубного пространства каталитически активными теплообменными трубками: -
Подача хладоагента внутрь каталитически активных теплообменных трубок: -
Способ получения пористого железо-калиевооксидного композита: -
Приготовление шихты: -
Шихта содержит кристаллогидрат нитрата железа: -
Шихта содержит кристаллогидрат нитрата церия: -
Шихта содержит нитрат калия: -
Шихта содержит оксид молибдена: -
Шихта содержит оксид титана: -
2025-10-05 23:55:37,725 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649
2025-10-05 23:55:37,726 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649, message: {'status': 'completed', 'message': 'Формование гранул в слое керосина: -\nФормование гранул в водном растворе аммиака: -\nСушка полученных гранул: -\nПрокаливание полученных гранул: -\nСмешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л: -\nПромывка гранул после прокаливания водой: -\nЗначение pH воды для промывки от 6 до 9: -\nВремя промывки 15 минут: -\nПроведение термообработки промытых гранул: -\nТемпература термообработки 250 °C: -\nКаталитический реактор трубчатого типа: -\nПроведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C: -\nРеактор содержит корпус: -\nРеактор содержит трубные решетки: -\nРеактор содержит устройства для ввода реагентов: -\nРеактор содержит устройства для вывода реагентов: -\nРеактор содержит устройства для ввода хладагентов: -\nРеактор содержит устройства для вывода хладагентов: -\nРеактор содержит каталитически активные теплообменные трубки: -\nСоединение каталитически активных теплообменных трубок с трубными решетками: -\nКаталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки: -\nНанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок: -\nСлой каталитически активного армированного порометаллического материала образован плоскими лентами: -\nСлой каталитически активного армированного порометаллического материала образован гофрированными лентами: -\nСоздание бидисперсной структуры нанесенного на поверхность трубки слоя: -\nТолщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм: -\nРавномерное нанесение слоя катализатора по длине трубки: -\nНеравномерное нанесение слоя катализатора по длине трубки: -\nСпособ осуществления сильно экзотермических реакций: -\nПодача реагирующей смеси стехиометрического состава в межтрубное пространство: -\nПодача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство: -\nОбразование межтрубного пространства каталитически активными теплообменными трубками: -\nПодача хладоагента внутрь каталитически активных теплообменных трубок: -\nСпособ получения пористого железо-калиевооксидного композита: -\nПриготовление шихты: -\nШихта содержит кристаллогидрат нитрата железа: -\nШихта содержит кристаллогидрат нитрата церия: -\nШихта содержит нитрат калия: -\nШихта содержит оксид молибдена: -\nШихта содержит оксид титана: -', 'stage': 'completed'}
2025-10-05 23:55:37,728 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE0F0>, 1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649
2025-10-05 23:55:37,741 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649 disconnected
2025-10-05 23:55:37,742 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:55:37,742 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:11db4aae-b7a3-4d9f-b065-b5f1168e0649 cleanup completed
2025-10-05 23:55:37,745 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a
2025-10-05 23:55:37,746 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a создан новый список соединений
2025-10-05 23:55:37,747 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a: 1
2025-10-05 23:55:37,747 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a содержит 0 сообщений
2025-10-05 23:55:37,748 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:55:37,749 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a: 1 соединений
2025-10-05 23:55:37,749 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a содержит 0 сообщений
2025-10-05 23:55:37,750 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a
2025-10-05 23:55:37,750 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a connected successfully
2025-10-05 23:55:37,752 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:55:37,753 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:55:37,754 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:55:37,755 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:55:37,756 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:55:37,757 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:55:37,757 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:55:37,758 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C980>
2025-10-05 23:55:37,759 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:55:37,759 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C980>
2025-10-05 23:55:37,759 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:55:37,759 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:55:37,760 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C980>
2025-10-05 23:55:37,760 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:55:37,761 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:55:37,762 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-05 23:55:37,763 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:55:37,763 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:55:37,764 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:55:37,764 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:55:37,765 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:55:37,765 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:55:37,765 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:55:37,766 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a
2025-10-05 23:55:37,767 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:55:37,768 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEC30>, 1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a
2025-10-05 23:55:37,769 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a
2025-10-05 23:55:37,769 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:55:37,770 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEC30>, 1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a
2025-10-05 23:55:37,770 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a
2025-10-05 23:55:37,770 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:55:37,771 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEC30>, 1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a
2025-10-05 23:55:37,771 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a
2025-10-05 23:55:37,771 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:55:37,772 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEC30>, 1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a
2025-10-05 23:56:15,829 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Шихта содержит карбонат кальция: -
Шихта содержит тетраэтоксисилан: -
Компоненты шихты взяты в стехиометрическом соотношении: -
Импрегнирование в шихту выгорающей микродобавки: -
Импрегнирование продуктами гидролиза солей: -
Получение продуктов гидролиза солей способом соосаждения: -
Получение продуктов гидролиза солей способом золь-гель: -
Использование диоксанлигнина березы в качестве выгорающей микродобавки: -
Количество выгорающей микродобавки 0,125-0,250 мас.%: -
Формование образцов композита методом полусухого прессования: -
Проведение обжига: -
Обжиг в интервале температур 20-700°С: -
Скорость нагрева при обжиге 10°/мин: -
Изотермическая выдержка при обжиге в течение 3 часов: -
Формирование бидисперсной структуры в композите: -
Пористый железо-калиевооксидный композит: -
Композит содержит фазу оксида железа α-Fe2O3: -
Композит содержит фазу оксида церия CeO2: -
Композит содержит фазу молибдата калия K2MoO4: -
Композит содержит фазу феррита калия состава KFeO2: -
Композит содержит фазу феррита калия состава KFe11O17: -
Композит имеет бидисперсную структуру: -
Общий объем пор композита от 0,006 до 0,013 см3/г: -
Диаметр мезопор композита от 16 до 40 нм: -
Диаметр макропор композита от 75 до 130 нм: -
Удельная поверхность композита от 2 до 5 м2/г: -
Способ получения пористых порошковых материалов: -
Нанесение на частицы порообразователя связующего: -
Смешивание частиц порообразователя со связующим с порошком: -
Формование шихты: -
Спекание шихты: -
Использование металлического порошка при смешивании: -
Использование керамического порошка при смешивании: -
Нанесение на частицы порообразователя не менее двух слоев керамического порошка: -
Нанесение на частицы порообразователя не более пяти слоев керамического порошка: -
Нанесение органического связющего при нанесении первого слоя керамического порошка: -
Использование неорганического связующего при нанесении второго слоя керамического порошка: -
Использование неорганического связующего при нанесении последующих слоев керамического порошка: -
Использование гранул пенополистирола в качестве частиц порообразователя: -
Использование частиц порообразователя с размером в диапазоне 0,5-1 мм: -
2025-10-05 23:56:15,830 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a
2025-10-05 23:56:15,830 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a, message: {'status': 'completed', 'message': 'Шихта содержит карбонат кальция: -\nШихта содержит тетраэтоксисилан: -\nКомпоненты шихты взяты в стехиометрическом соотношении: -\nИмпрегнирование в шихту выгорающей микродобавки: -\nИмпрегнирование продуктами гидролиза солей: -\nПолучение продуктов гидролиза солей способом соосаждения: -\nПолучение продуктов гидролиза солей способом золь-гель: -\nИспользование диоксанлигнина березы в качестве выгорающей микродобавки: -\nКоличество выгорающей микродобавки 0,125-0,250 мас.%: -\nФормование образцов композита методом полусухого прессования: -\nПроведение обжига: -\nОбжиг в интервале температур 20-700°С: -\nСкорость нагрева при обжиге 10°/мин: -\nИзотермическая выдержка при обжиге в течение 3 часов: -\nФормирование бидисперсной структуры в композите: -\nПористый железо-калиевооксидный композит: -\nКомпозит содержит фазу оксида железа α-Fe2O3: -\nКомпозит содержит фазу оксида церия CeO2: -\nКомпозит содержит фазу молибдата калия K2MoO4: -\nКомпозит содержит фазу феррита калия состава KFeO2: -\nКомпозит содержит фазу феррита калия состава KFe11O17: -\nКомпозит имеет бидисперсную структуру: -\nОбщий объем пор композита от 0,006 до 0,013 см3/г: -\nДиаметр мезопор композита от 16 до 40 нм: -\nДиаметр макропор композита от 75 до 130 нм: -\nУдельная поверхность композита от 2 до 5 м2/г: -\nСпособ получения пористых порошковых материалов: -\nНанесение на частицы порообразователя связующего: -\nСмешивание частиц порообразователя со связующим с порошком: -\nФормование шихты: -\nСпекание шихты: -\nИспользование металлического порошка при смешивании: -\nИспользование керамического порошка при смешивании: -\nНанесение на частицы порообразователя не менее двух слоев керамического порошка: -\nНанесение на частицы порообразователя не более пяти слоев керамического порошка: -\nНанесение органического связющего при нанесении первого слоя керамического порошка: -\nИспользование неорганического связующего при нанесении второго слоя керамического порошка: -\nИспользование неорганического связующего при нанесении последующих слоев керамического порошка: -\nИспользование гранул пенополистирола в качестве частиц порообразователя: -\nИспользование частиц порообразователя с размером в диапазоне 0,5-1 мм: -', 'stage': 'completed'}
2025-10-05 23:56:15,832 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEC30>, 1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a
2025-10-05 23:56:15,849 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:56:15,849 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68
2025-10-05 23:56:15,850 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68 создан новый список соединений
2025-10-05 23:56:15,850 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68: 1
2025-10-05 23:56:15,851 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68 содержит 0 сообщений
2025-10-05 23:56:15,852 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:56:15,852 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a: 1 соединений
2025-10-05 23:56:15,852 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68: 1 соединений
2025-10-05 23:56:15,852 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68 содержит 0 сообщений
2025-10-05 23:56:15,852 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68
2025-10-05 23:56:15,860 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68 connected successfully
2025-10-05 23:56:15,861 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a disconnected
2025-10-05 23:56:15,862 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:56:15,862 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68: 1 соединений
2025-10-05 23:56:15,865 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:758bff7a-0f8f-46d6-8323-4d69c265500a cleanup completed
2025-10-05 23:56:15,867 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:56:15,868 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:56:15,869 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:56:15,869 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:56:15,869 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:56:15,870 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:56:15,870 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DB70>
2025-10-05 23:56:15,871 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:56:15,871 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DB70>
2025-10-05 23:56:15,872 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:56:15,873 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:56:15,874 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DB70>
2025-10-05 23:56:15,875 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:56:15,876 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:56:15,877 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-05 23:56:15,878 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:56:15,878 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:56:15,879 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:56:15,879 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:56:15,879 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:56:15,879 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:56:15,879 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:56:15,880 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68
2025-10-05 23:56:15,880 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:56:15,880 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE4E0>, 1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68
2025-10-05 23:56:15,881 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68
2025-10-05 23:56:15,881 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:56:15,881 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE4E0>, 1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68
2025-10-05 23:56:15,882 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68
2025-10-05 23:56:15,882 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:56:15,882 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE4E0>, 1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68
2025-10-05 23:56:15,882 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68
2025-10-05 23:56:15,883 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:56:15,885 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE4E0>, 1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68
2025-10-05 23:56:29,826 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Использование водно-дисперсионного полиуретанового лака в качестве органического связующего: -
Использование водного раствора силиката натрия в качестве неорганического связующего: -
Способ соединения крупногабаритных порошковых деталей: -
Приготовление шихты на основе железа: -
Прессование деталей: -
Нанесение на соединяемые поверхности слоя шликера на основе порошка железа: -
Сборка деталей: -
Размещение пропитывающих брикетов на основе меди: -
Проведение спекания с одновременной инфильтрацией: -
Приготовление шликера из бидисперсных порошков: -
Расположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями: -
Нанесение слоя шликера на поверхность соединяемых деталей: -
Нанесение слоя шликера на поверхность непроницаемой перегородки: -
Размещение пропитывающих брикетов сверху сборки: -
Размещение пропитывающих брикетов снизу сборки: -
2025-10-05 23:56:29,827 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68
2025-10-05 23:56:29,828 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68, message: {'status': 'completed', 'message': 'Использование водно-дисперсионного полиуретанового лака в качестве органического связующего: -\nИспользование водного раствора силиката натрия в качестве неорганического связующего: -\nСпособ соединения крупногабаритных порошковых деталей: -\nПриготовление шихты на основе железа: -\nПрессование деталей: -\nНанесение на соединяемые поверхности слоя шликера на основе порошка железа: -\nСборка деталей: -\nРазмещение пропитывающих брикетов на основе меди: -\nПроведение спекания с одновременной инфильтрацией: -\nПриготовление шликера из бидисперсных порошков: -\nРасположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями: -\nНанесение слоя шликера на поверхность соединяемых деталей: -\nНанесение слоя шликера на поверхность непроницаемой перегородки: -\nРазмещение пропитывающих брикетов сверху сборки: -\nРазмещение пропитывающих брикетов снизу сборки: -', 'stage': 'completed'}
2025-10-05 23:56:29,830 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE4E0>, 1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68
2025-10-05 23:56:29,846 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3
2025-10-05 23:56:29,845 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:56:29,846 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3 создан новый список соединений
2025-10-05 23:56:29,846 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3: 1
2025-10-05 23:56:29,847 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3 содержит 0 сообщений
2025-10-05 23:56:29,848 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:56:29,848 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68: 1 соединений
2025-10-05 23:56:29,849 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3: 1 соединений
2025-10-05 23:56:29,850 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3 содержит 0 сообщений
2025-10-05 23:56:29,850 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3
2025-10-05 23:56:29,850 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3 connected successfully
2025-10-05 23:56:29,851 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68 disconnected
2025-10-05 23:56:29,851 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:56:29,852 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3: 1 соединений
2025-10-05 23:56:29,852 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:595769b2-379a-4b43-b81a-44a3e8d71c68 cleanup completed
2025-10-05 23:56:29,855 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:56:29,856 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:56:29,857 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:56:29,858 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:56:29,858 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:56:29,858 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:56:29,859 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C4B0>
2025-10-05 23:56:29,859 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:56:29,859 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C4B0>
2025-10-05 23:56:29,860 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:56:29,860 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:56:29,861 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C4B0>
2025-10-05 23:56:29,861 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:56:29,863 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:56:29,864 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-05 23:56:29,866 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:56:29,867 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:56:29,867 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:56:29,868 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:56:29,868 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:56:29,868 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:56:29,869 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:56:29,869 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3
2025-10-05 23:56:29,869 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:56:29,871 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE960>, 1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3
2025-10-05 23:56:29,871 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3
2025-10-05 23:56:29,872 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:56:29,872 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE960>, 1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3
2025-10-05 23:56:29,873 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3
2025-10-05 23:56:29,873 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:56:29,873 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE960>, 1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3
2025-10-05 23:56:29,874 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3
2025-10-05 23:56:29,874 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:56:29,875 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE960>, 1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3
2025-10-05 23:57:19,224 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Способ получения бидисперсных порошковых смесей: -
Получение смесей из порошков существенно разных размеров: -
Использование метода самораспространяющегося высокотемпературного синтеза (СВС): -
Подготовка смеси компонентов: -
Смешение нитрата металла и топливного компонента: -
Использование нитрата металла в качестве окислителя: -
Использование топливного компонента в качестве восстановителя: -
Использование глицерина в качестве топливного компонента: -
Использование тиомочевины в качестве топливного компонента: -
Использование этиленгликоля в качестве топливного компонента: -
Пропитка предварительно приготовленного порошка микронных размеров подготовленной смесью: -
Использование порошка микронных размеров на основе оксидов: -
Равномерное распределение реагентов на поверхности частиц порошка: -
Формирование однородной бидисперсной смеси: -
Удаление воды из раствора выпариванием: -
Удаление воды из раствора сушкой: -
Образование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка: -
Нагревание сухой смеси до определенной температуры: -
Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом: -
Экзотермический характер окислительно-восстановительной реакции: -
Самораспространяющийся характер процесса горения: -
Поддержание процесса горения за счет выделяемой энергии: -
Образование продукта в виде нанопорошка оксида металла: -
Формирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ): -
Получение бидисперсной системы, состоящей из микропорошка и нанопорошка: -
Более равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением: -
Способ получения смесевого твердого топлива с металлическим горючим: -
Механическое перемешивание компонентов: -
Использование металлического горючего в виде бидисперсной смеси порошков: -
Использование порошка алюминия микронных размеров: -
Использование нанопорошка алюминия: -
Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%: -
Перемешивание бидисперсной смеси до осредненного состояния: -
Введение бидисперсной смеси в количестве 10-25 мас.%: -
Введение бидисперсной смеси в полностью перемешанную смесь других компонентов: -
Дополнительное перемешивание полученной массы в течение не менее 30 мин: -
Вакуумирование полученной массы в течение не менее 30 мин: -
Использование перхлората аммония в качестве окислителя: -
Использование нитрата аммония в качестве окислителя: -
Использование смешанного окислителя, включающего нитрат аммония и нитрамин: -
2025-10-05 23:57:19,227 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3
2025-10-05 23:57:19,227 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3, message: {'status': 'completed', 'message': 'Способ получения бидисперсных порошковых смесей: -\nПолучение смесей из порошков существенно разных размеров: -\nИспользование метода самораспространяющегося высокотемпературного синтеза (СВС): -\nПодготовка смеси компонентов: -\nСмешение нитрата металла и топливного компонента: -\nИспользование нитрата металла в качестве окислителя: -\nИспользование топливного компонента в качестве восстановителя: -\nИспользование глицерина в качестве топливного компонента: -\nИспользование тиомочевины в качестве топливного компонента: -\nИспользование этиленгликоля в качестве топливного компонента: -\nПропитка предварительно приготовленного порошка микронных размеров подготовленной смесью: -\nИспользование порошка микронных размеров на основе оксидов: -\nРавномерное распределение реагентов на поверхности частиц порошка: -\nФормирование однородной бидисперсной смеси: -\nУдаление воды из раствора выпариванием: -\nУдаление воды из раствора сушкой: -\nОбразование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка: -\nНагревание сухой смеси до определенной температуры: -\nИнициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом: -\nЭкзотермический характер окислительно-восстановительной реакции: -\nСамораспространяющийся характер процесса горения: -\nПоддержание процесса горения за счет выделяемой энергии: -\nОбразование продукта в виде нанопорошка оксида металла: -\nФормирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ): -\nПолучение бидисперсной системы, состоящей из микропорошка и нанопорошка: -\nБолее равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением: -\nСпособ получения смесевого твердого топлива с металлическим горючим: -\nМеханическое перемешивание компонентов: -\nИспользование металлического горючего в виде бидисперсной смеси порошков: -\nИспользование порошка алюминия микронных размеров: -\nИспользование нанопорошка алюминия: -\nСоотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%: -\nПеремешивание бидисперсной смеси до осредненного состояния: -\nВведение бидисперсной смеси в количестве 10-25 мас.%: -\nВведение бидисперсной смеси в полностью перемешанную смесь других компонентов: -\nДополнительное перемешивание полученной массы в течение не менее 30 мин: -\nВакуумирование полученной массы в течение не менее 30 мин: -\nИспользование перхлората аммония в качестве окислителя: -\nИспользование нитрата аммония в качестве окислителя: -\nИспользование смешанного окислителя, включающего нитрат аммония и нитрамин: -', 'stage': 'completed'}
2025-10-05 23:57:19,230 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE960>, 1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3
2025-10-05 23:57:19,243 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3 disconnected
2025-10-05 23:57:19,243 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:57:19,244 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:c19ac5f0-ec3b-411a-af18-68fbffa9f8a3 cleanup completed
2025-10-05 23:57:19,245 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:b5b4de03-2619-40df-b556-e74af4ac5945
2025-10-05 23:57:19,245 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:b5b4de03-2619-40df-b556-e74af4ac5945 создан новый список соединений
2025-10-05 23:57:19,246 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:b5b4de03-2619-40df-b556-e74af4ac5945: 1
2025-10-05 23:57:19,246 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:b5b4de03-2619-40df-b556-e74af4ac5945 содержит 0 сообщений
2025-10-05 23:57:19,247 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:57:19,247 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:b5b4de03-2619-40df-b556-e74af4ac5945: 1 соединений
2025-10-05 23:57:19,248 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:b5b4de03-2619-40df-b556-e74af4ac5945 содержит 0 сообщений
2025-10-05 23:57:19,248 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:b5b4de03-2619-40df-b556-e74af4ac5945
2025-10-05 23:57:19,249 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:b5b4de03-2619-40df-b556-e74af4ac5945 connected successfully
2025-10-05 23:57:19,250 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:57:19,251 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:57:19,252 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:57:19,252 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:57:19,253 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:57:19,253 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:57:19,254 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:57:19,254 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CBB0>
2025-10-05 23:57:19,254 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:57:19,255 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:b5b4de03-2619-40df-b556-e74af4ac5945, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CBB0>
2025-10-05 23:57:19,256 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:57:19,256 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:57:19,256 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CBB0>
2025-10-05 23:57:19,256 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:57:19,258 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:57:19,258 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-05 23:57:19,259 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:57:19,259 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:57:19,260 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:57:19,260 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:57:19,260 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:57:19,261 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:57:19,261 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:57:19,261 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b5b4de03-2619-40df-b556-e74af4ac5945
2025-10-05 23:57:19,261 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b5b4de03-2619-40df-b556-e74af4ac5945, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:57:19,262 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFA40>, 1830913972:b5b4de03-2619-40df-b556-e74af4ac5945
2025-10-05 23:57:19,263 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b5b4de03-2619-40df-b556-e74af4ac5945
2025-10-05 23:57:19,263 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b5b4de03-2619-40df-b556-e74af4ac5945, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:57:19,264 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFA40>, 1830913972:b5b4de03-2619-40df-b556-e74af4ac5945
2025-10-05 23:57:19,264 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b5b4de03-2619-40df-b556-e74af4ac5945
2025-10-05 23:57:19,265 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b5b4de03-2619-40df-b556-e74af4ac5945, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:57:19,266 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFA40>, 1830913972:b5b4de03-2619-40df-b556-e74af4ac5945
2025-10-05 23:57:19,266 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b5b4de03-2619-40df-b556-e74af4ac5945
2025-10-05 23:57:19,266 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b5b4de03-2619-40df-b556-e74af4ac5945, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:57:19,267 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFA40>, 1830913972:b5b4de03-2619-40df-b556-e74af4ac5945
2025-10-05 23:57:53,179 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего: -
Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего: -
Способ получения порошковой смеси бидисперсных керамических и металлических частиц: -
Перемешивание порошков в жидкой среде: -
Двухэтапное перемешивание: -
Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды: -
Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1: -
Перемешивание керамических наночастиц в жидкой среде на первом этапе: -
Длительность перемешивания на первом этапе не менее 15 минут: -
Добавление металлических микрочастиц на втором этапе: -
Перемешивание полученной смеси на втором этапе: -
Длительность перемешивания на втором этапе не менее 15 минут: -
Удаление жидкости после перемешивания: -
Удаление жидкости в сушильном шкафу: -
Температура удаления жидкости не менее 80°C: -
Длительность удаления жидкости не менее 24 часов: -
Использование керамических наночастиц: -
Диаметр керамических наночастиц от 30 до 140 нм: -
Использование металлических микрочастиц: -
Диаметр металлических микрочастиц от 20 до 180 мкм: -
Массовое соотношение порошков и жидкости 1/2: -
Массовое соотношение наночастиц и микрочастиц 1/19: -
Способ получения дифениламина: -
Термическая обработка анилина: -
Проведение термической обработки в присутствии катализатора: -
Использование алюмооксидного катализатора: -
Катализатор кислого характера: -
Получение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде: -
Использование азотной кислоты при получении катализатора: -
Пластификация катализатора: -
Формование катализатора: -
Сушка катализатора: -
Прокаливание катализатора при повышенной температуре: -
Катализатор с бидисперсной пористой структурой: +
Суммарный объем пор катализатора равен или более 0,45 см³/г: +
Объем пор катализатора с радиусом более равен или более 0,27 см³/г: +
Удельная поверхность катализатора не менее 200 м²/г: +
Получение катализатора из термо- или термомеханохимически активированного гидроксида алюминия: -
Смешивание активированного гидроксида алюминия с ортофосфорной кислотой: -
Проведение пластификации при кислотном модуле 0,02 - 0,07: -
2025-10-05 23:57:53,182 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b5b4de03-2619-40df-b556-e74af4ac5945
2025-10-05 23:57:53,183 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b5b4de03-2619-40df-b556-e74af4ac5945, message: {'status': 'completed', 'message': 'Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего: -\nИспользование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего: -\nСпособ получения порошковой смеси бидисперсных керамических и металлических частиц: -\nПеремешивание порошков в жидкой среде: -\nДвухэтапное перемешивание: -\nИспользование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды: -\nМассовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1: -\nПеремешивание керамических наночастиц в жидкой среде на первом этапе: -\nДлительность перемешивания на первом этапе не менее 15 минут: -\nДобавление металлических микрочастиц на втором этапе: -\nПеремешивание полученной смеси на втором этапе: -\nДлительность перемешивания на втором этапе не менее 15 минут: -\nУдаление жидкости после перемешивания: -\nУдаление жидкости в сушильном шкафу: -\nТемпература удаления жидкости не менее 80°C: -\nДлительность удаления жидкости не менее 24 часов: -\nИспользование керамических наночастиц: -\nДиаметр керамических наночастиц от 30 до 140 нм: -\nИспользование металлических микрочастиц: -\nДиаметр металлических микрочастиц от 20 до 180 мкм: -\nМассовое соотношение порошков и жидкости 1/2: -\nМассовое соотношение наночастиц и микрочастиц 1/19: -\nСпособ получения дифениламина: -\nТермическая обработка анилина: -\nПроведение термической обработки в присутствии катализатора: -\nИспользование алюмооксидного катализатора: -\nКатализатор кислого характера: -\nПолучение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде: -\nИспользование азотной кислоты при получении катализатора: -\nПластификация катализатора: -\nФормование катализатора: -\nСушка катализатора: -\nПрокаливание катализатора при повышенной температуре: -\nКатализатор с бидисперсной пористой структурой: +\nСуммарный объем пор катализатора равен или более 0,45 см³/г: +\nОбъем пор катализатора с радиусом более равен или более 0,27 см³/г: +\nУдельная поверхность катализатора не менее 200 м²/г: +\nПолучение катализатора из термо- или термомеханохимически активированного гидроксида алюминия: -\nСмешивание активированного гидроксида алюминия с ортофосфорной кислотой: -\nПроведение пластификации при кислотном модуле 0,02 - 0,07: -', 'stage': 'completed'}
2025-10-05 23:57:53,192 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFA40>, 1830913972:b5b4de03-2619-40df-b556-e74af4ac5945
2025-10-05 23:57:53,220 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:b5b4de03-2619-40df-b556-e74af4ac5945 disconnected
2025-10-05 23:57:53,221 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-05 23:57:53,221 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:b5b4de03-2619-40df-b556-e74af4ac5945 cleanup completed
2025-10-05 23:57:53,227 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07
2025-10-05 23:57:53,228 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07 создан новый список соединений
2025-10-05 23:57:53,228 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07: 1
2025-10-05 23:57:53,229 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07 содержит 0 сообщений
2025-10-05 23:57:53,229 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:57:53,229 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07: 1 соединений
2025-10-05 23:57:53,229 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07 содержит 0 сообщений
2025-10-05 23:57:53,230 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07
2025-10-05 23:57:53,230 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07 connected successfully
2025-10-05 23:57:53,232 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:57:53,232 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:57:53,233 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:57:53,234 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:57:53,234 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:57:53,234 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:57:53,234 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:57:53,234 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347D6A0>
2025-10-05 23:57:53,234 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:57:53,234 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347D6A0>
2025-10-05 23:57:53,235 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:57:53,235 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:57:53,236 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347D6A0>
2025-10-05 23:57:53,237 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:57:53,238 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:57:53,240 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-05 23:57:53,242 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:57:53,243 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:57:53,243 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:57:53,244 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:57:53,244 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:57:53,245 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:57:53,246 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:57:53,246 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07
2025-10-05 23:57:53,246 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:57:53,247 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD520>, 1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07
2025-10-05 23:57:53,247 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07
2025-10-05 23:57:53,248 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:57:53,249 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD520>, 1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07
2025-10-05 23:57:53,249 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07
2025-10-05 23:57:53,249 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:57:53,250 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD520>, 1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07
2025-10-05 23:57:53,250 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07
2025-10-05 23:57:53,250 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:57:53,251 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD520>, 1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07
2025-10-05 23:58:48,099 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Провяливание катализатора на воздухе не менее 12 часов перед сушкой: -
Сушка катализатора при 100 °C не менее 12 часов после провяливания: -
Прокаливание катализатора при 500 °C после сушки: -
Гранулированный наноструктурированный алюмооксидный катализатор: -
Содержание натрия в катализаторе от 0,005 до 0,02 мас.%: -
Содержание серы в катализатора от 0 до 5 мас.%: -
Содержание фосфора в катализаторе от 0 до 2,8 мас.%: -
Содержание хлора в катализаторе от 0 до 2,6 мас.%: -
Бидисперсная пористая структура катализатора: +
Объем микропор катализатора от 0,06 до 0,18 см³/г: -
Объем мезопор катализатора от 0,2 до 0,32 см³/г: -
Суммарный объем пор катализатора от 0,25 до 0,55 см³/г: -
Средний диаметр пор катализатора от 3 до 5,5 нм: -
Удельная поверхность катализатора от 200 до 350 м²/г: +
Оксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы: -
Суммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%: -
Содержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%: -
Форма гранул катализатора - цилиндр диаметром 3-5 мм: -
Форма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм: -
Способ приготовления катализатора, включающий термическую активацию гидраргиллита: -
Гидратация продуктов термической активации гидраргиллита в кислом растворе: -
Отмывка продуктов гидратации от примесных ионов: -
Введение модифицирующих добавок на стадии пластификации: -
Формование в гранулы методом экструзии: -
Проведение термической обработки сформированных гранул: -
Отмывка продуктов гидратации дистиллированной водой: -
Отмывка продуктов гидратации слабыми растворами серной кислоты: -
Отмывка продуктов гидратации слабыми растворами азотной кислоты: -
Использование растворов серной кислоты для пластификации гидроксида алюминия: -
Использование растворов соляной кислоты для пластификации гидроксида алюминия: -
Использование растворов ортофосфорной кислоты для пластификации гидроксида алюминия: -
Использование растворов азотной кислоты для пластификации гидроксида алюминия: -
Модифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃: -
Модифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃: -
Модифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃: -
Модифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃: -
Использование продукта центробежной термической активации гидраргиллита: -
Использование термоактивированного гидроксида алюминия: -
Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С: -
Способ получения этилена путем дегидратации этанола: -
2025-10-05 23:58:48,102 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07
2025-10-05 23:58:48,103 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07, message: {'status': 'completed', 'message': 'Провяливание катализатора на воздухе не менее 12 часов перед сушкой: -\nСушка катализатора при 100 °C не менее 12 часов после провяливания: -\nПрокаливание катализатора при 500 °C после сушки: -\nГранулированный наноструктурированный алюмооксидный катализатор: -\nСодержание натрия в катализаторе от 0,005 до 0,02 мас.%: -\nСодержание серы в катализатора от 0 до 5 мас.%: -\nСодержание фосфора в катализаторе от 0 до 2,8 мас.%: -\nСодержание хлора в катализаторе от 0 до 2,6 мас.%: -\nБидисперсная пористая структура катализатора: +\nОбъем микропор катализатора от 0,06 до 0,18 см³/г: -\nОбъем мезопор катализатора от 0,2 до 0,32 см³/г: -\nСуммарный объем пор катализатора от 0,25 до 0,55 см³/г: -\nСредний диаметр пор катализатора от 3 до 5,5 нм: -\nУдельная поверхность катализатора от 200 до 350 м²/г: +\nОксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы: -\nСуммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%: -\nСодержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%: -\nФорма гранул катализатора - цилиндр диаметром 3-5 мм: -\nФорма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм: -\nСпособ приготовления катализатора, включающий термическую активацию гидраргиллита: -\nГидратация продуктов термической активации гидраргиллита в кислом растворе: -\nОтмывка продуктов гидратации от примесных ионов: -\nВведение модифицирующих добавок на стадии пластификации: -\nФормование в гранулы методом экструзии: -\nПроведение термической обработки сформированных гранул: -\nОтмывка продуктов гидратации дистиллированной водой: -\nОтмывка продуктов гидратации слабыми растворами серной кислоты: -\nОтмывка продуктов гидратации слабыми растворами азотной кислоты: -\nИспользование растворов серной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов соляной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов ортофосфорной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов азотной кислоты для пластификации гидроксида алюминия: -\nМодифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃: -\nМодифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃: -\nМодифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃: -\nМодифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃: -\nИспользование продукта центробежной термической активации гидраргиллита: -\nИспользование термоактивированного гидроксида алюминия: -\nПроведение термической обработки гранул гидроксида алюминия при температуре 500-550°С: -\nСпособ получения этилена путем дегидратации этанола: -', 'stage': 'completed'}
2025-10-05 23:58:48,105 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD520>, 1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07
2025-10-05 23:58:48,119 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:58:48,119 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a
2025-10-05 23:58:48,120 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a создан новый список соединений
2025-10-05 23:58:48,120 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a: 1
2025-10-05 23:58:48,121 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a содержит 0 сообщений
2025-10-05 23:58:48,122 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:58:48,122 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07: 1 соединений
2025-10-05 23:58:48,122 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a: 1 соединений
2025-10-05 23:58:48,123 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a содержит 0 сообщений
2025-10-05 23:58:48,123 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a
2025-10-05 23:58:48,124 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a connected successfully
2025-10-05 23:58:48,124 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07 disconnected
2025-10-05 23:58:48,125 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:58:48,125 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a: 1 соединений
2025-10-05 23:58:48,126 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:7eddef75-bdd1-45b1-9b3e-1f8462a54c07 cleanup completed
2025-10-05 23:58:48,127 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:58:48,129 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:58:48,129 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:58:48,129 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:58:48,130 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:58:48,130 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:58:48,131 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FBD0>
2025-10-05 23:58:48,131 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:58:48,132 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FBD0>
2025-10-05 23:58:48,132 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:58:48,132 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:58:48,133 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FBD0>
2025-10-05 23:58:48,133 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:58:48,134 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:58:48,135 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-05 23:58:48,135 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:58:48,136 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:58:48,136 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:58:48,136 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:58:48,136 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:58:48,137 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:58:48,137 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:58:48,137 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a
2025-10-05 23:58:48,137 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:58:48,138 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEDE0>, 1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a
2025-10-05 23:58:48,138 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a
2025-10-05 23:58:48,139 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:58:48,140 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEDE0>, 1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a
2025-10-05 23:58:48,140 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a
2025-10-05 23:58:48,141 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:58:48,141 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEDE0>, 1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a
2025-10-05 23:58:48,142 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a
2025-10-05 23:58:48,142 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:58:48,143 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEDE0>, 1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a
2025-10-05 23:59:34,526 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора: -
Проведение процесса получения этилена при температуре 350-450°С: -
Проведение процесса получения этилена при времени контакта 0.2-4.0 с: -
Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов: +
Содержание палладия в катализаторе 0,01÷1,0 мас.%: +
Размер частиц палладия от 1,5 до 20 нм: +
Нанесение активного компонента (палладия) на бидисперсный силикагель: +
Содержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%: +
Удельная поверхность бидисперсного силикагеля 150÷350 м²/г: +
Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г: +
Отсутствие микропор в бидисперсном силикагеле: +
Объем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г: +
Объем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г: +
Способ приготовления палладиевого катализатора: +
Использование предварительно высушенного носителя: +
Пропитка носителя водным раствором стабилизированного нитрата палладия: +
Пропитка носителя раствором стабилизированного нитрата палладия при определенных рН: +
Сушка катализатора после пропитки: +
Прокаливание катализатора на воздухе после сушки: +
Восстановление катализатора в потоке водородсодержащего газа после прокаливания: +
Добавление лимонной кислоты в пропиточные растворы: +
Предотвращение агломерации палладийсодержащих частиц на поверхности носителя: +
Регулирование рН пропиточных растворов без введения катионов щелочных металлов: +
Регулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида: +
Способ очистки олефинов от примесей полиненасыщенных углеводородов: +
Очистка путем каталитического гидрирования: +
Гидрирование при повышенных температурах: +
Гидрирование при атмосферном давлении: +
Гидрирование при температуре 50-200°С: +
Гидрирование при объемной скорости 10000-20000 ч⁻¹: +
Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой: -
Использование гидроксида алюминия в виде гидратированного соединения: -
Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия: -
Содержание в гидратированном соединении до 10% гиббсита: -
Размол гидроксида алюминия до частиц размером менее 20 мкм: -
Количество частиц размером менее 20 мкм после размола более 70%: -
Смешивание размолотого гидроксида алюминия с водой: -
Проведение смешивания в присутствии азотной кислоты: -
Проведение пластификации полученной смеси: -
Формование гранул из пластифицированного продукта: -
2025-10-05 23:59:34,528 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a
2025-10-05 23:59:34,528 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a, message: {'status': 'completed', 'message': 'Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора: -\nПроведение процесса получения этилена при температуре 350-450°С: -\nПроведение процесса получения этилена при времени контакта 0.2-4.0 с: -\nКатализатор для очистки олефинов от примесей полиненасыщенных углеводородов: +\nСодержание палладия в катализаторе 0,01÷1,0 мас.%: +\nРазмер частиц палладия от 1,5 до 20 нм: +\nНанесение активного компонента (палладия) на бидисперсный силикагель: +\nСодержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%: +\nУдельная поверхность бидисперсного силикагеля 150÷350 м²/г: +\nОбщий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г: +\nОтсутствие микропор в бидисперсном силикагеле: +\nОбъем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г: +\nОбъем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г: +\nСпособ приготовления палладиевого катализатора: +\nИспользование предварительно высушенного носителя: +\nПропитка носителя водным раствором стабилизированного нитрата палладия: +\nПропитка носителя раствором стабилизированного нитрата палладия при определенных рН: +\nСушка катализатора после пропитки: +\nПрокаливание катализатора на воздухе после сушки: +\nВосстановление катализатора в потоке водородсодержащего газа после прокаливания: +\nДобавление лимонной кислоты в пропиточные растворы: +\nПредотвращение агломерации палладийсодержащих частиц на поверхности носителя: +\nРегулирование рН пропиточных растворов без введения катионов щелочных металлов: +\nРегулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида: +\nСпособ очистки олефинов от примесей полиненасыщенных углеводородов: +\nОчистка путем каталитического гидрирования: +\nГидрирование при повышенных температурах: +\nГидрирование при атмосферном давлении: +\nГидрирование при температуре 50-200°С: +\nГидрирование при объемной скорости 10000-20000 ч⁻¹: +\nСпособ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой: -\nИспользование гидроксида алюминия в виде гидратированного соединения: -\nСодержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия: -\nСодержание в гидратированном соединении до 10% гиббсита: -\nРазмол гидроксида алюминия до частиц размером менее 20 мкм: -\nКоличество частиц размером менее 20 мкм после размола более 70%: -\nСмешивание размолотого гидроксида алюминия с водой: -\nПроведение смешивания в присутствии азотной кислоты: -\nПроведение пластификации полученной смеси: -\nФормование гранул из пластифицированного продукта: -', 'stage': 'completed'}
2025-10-05 23:59:34,529 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEDE0>, 1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a
2025-10-05 23:59:34,544 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-05 23:59:34,544 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:f39821b9-9083-434c-8f22-cf8937637cb0
2025-10-05 23:59:34,545 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:f39821b9-9083-434c-8f22-cf8937637cb0 создан новый список соединений
2025-10-05 23:59:34,545 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:f39821b9-9083-434c-8f22-cf8937637cb0: 1
2025-10-05 23:59:34,546 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:f39821b9-9083-434c-8f22-cf8937637cb0 содержит 0 сообщений
2025-10-05 23:59:34,547 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:59:34,548 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a: 1 соединений
2025-10-05 23:59:34,548 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:f39821b9-9083-434c-8f22-cf8937637cb0: 1 соединений
2025-10-05 23:59:34,549 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:f39821b9-9083-434c-8f22-cf8937637cb0 содержит 0 сообщений
2025-10-05 23:59:34,549 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:f39821b9-9083-434c-8f22-cf8937637cb0
2025-10-05 23:59:34,549 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:f39821b9-9083-434c-8f22-cf8937637cb0 connected successfully
2025-10-05 23:59:34,550 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a disconnected
2025-10-05 23:59:34,551 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-05 23:59:34,551 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:f39821b9-9083-434c-8f22-cf8937637cb0: 1 соединений
2025-10-05 23:59:34,551 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:0d12342e-cadf-46f0-835f-f8789f0d247a cleanup completed
2025-10-05 23:59:34,552 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-05 23:59:34,553 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-05 23:59:34,553 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-05 23:59:34,553 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-05 23:59:34,553 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-05 23:59:34,553 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:59:34,564 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FE00>
2025-10-05 23:59:34,565 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-05 23:59:34,565 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:f39821b9-9083-434c-8f22-cf8937637cb0, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FE00>
2025-10-05 23:59:34,566 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-05 23:59:34,566 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-05 23:59:34,567 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FE00>
2025-10-05 23:59:34,567 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-05 23:59:34,568 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-05 23:59:34,569 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-05 23:59:34,570 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-05 23:59:34,570 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-05 23:59:34,570 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-05 23:59:34,571 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-05 23:59:34,571 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-05 23:59:34,572 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-05 23:59:34,572 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-05 23:59:34,572 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f39821b9-9083-434c-8f22-cf8937637cb0
2025-10-05 23:59:34,572 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f39821b9-9083-434c-8f22-cf8937637cb0, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-05 23:59:34,573 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE2A0>, 1830913972:f39821b9-9083-434c-8f22-cf8937637cb0
2025-10-05 23:59:34,574 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f39821b9-9083-434c-8f22-cf8937637cb0
2025-10-05 23:59:34,574 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f39821b9-9083-434c-8f22-cf8937637cb0, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-05 23:59:34,574 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE2A0>, 1830913972:f39821b9-9083-434c-8f22-cf8937637cb0
2025-10-05 23:59:34,575 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f39821b9-9083-434c-8f22-cf8937637cb0
2025-10-05 23:59:34,575 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f39821b9-9083-434c-8f22-cf8937637cb0, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-05 23:59:34,576 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE2A0>, 1830913972:f39821b9-9083-434c-8f22-cf8937637cb0
2025-10-05 23:59:34,576 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f39821b9-9083-434c-8f22-cf8937637cb0
2025-10-05 23:59:34,576 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f39821b9-9083-434c-8f22-cf8937637cb0, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-05 23:59:34,577 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE2A0>, 1830913972:f39821b9-9083-434c-8f22-cf8937637cb0
2025-10-06 00:00:12,526 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Формование гранул в слое керосина: -
Формование гранул в водном растворе аммиака: -
Сушка полученных гранул: -
Прокаливание полученных гранул: -
Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л: -
Промывка гранул после прокаливания водой: -
Значение pH воды для промывки от 6 до 9: -
Время промывки 15 минут: -
Проведение термообработки промытых гранул: -
Температура термообработки 250 °C: -
Каталитический реактор трубчатого типа: -
Проведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C: -
Реактор содержит корпус: -
Реактор содержит трубные решетки: -
Реактор содержит устройства для ввода реагентов: -
Реактор содержит устройства для вывода реагентов: -
Реактор содержит устройства для ввода хладагентов: -
Реактор содержит устройства для вывода хладагентов: -
Реактор содержит каталитически активные теплообменные трубки: -
Соединение каталитически активных теплообменных трубок с трубными решетками: -
Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки: -
Нанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок: -
Слой каталитически активного армированного порометаллического материала образован плоскими лентами: -
Слой каталитически активного армированного порометаллического материала образован гофрированными лентами: -
Создание бидисперсной структуры нанесенного на поверхность трубки слоя: -
Толщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм: -
Равномерное нанесение слоя катализатора по длине трубки: -
Неравномерное нанесение слоя катализатора по длине трубки: -
Способ осуществления сильно экзотермических реакций: -
Подача реагирующей смеси стехиометрического состава в межтрубное пространство: -
Подача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство: -
Образование межтрубного пространства каталитически активными теплообменными трубками: -
Подача хладоагента внутрь каталитически активных теплообменных трубок: -
Способ получения пористого железо-калиевооксидного композита: -
Приготовление шихты: -
Шихта содержит кристаллогидрат нитрата железа: -
Шихта содержит кристаллогидрат нитрата церия: -
Шихта содержит нитрат калия: -
Шихта содержит оксид молибдена: -
Шихта содержит оксид титана: -
2025-10-06 00:00:12,528 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f39821b9-9083-434c-8f22-cf8937637cb0
2025-10-06 00:00:12,528 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f39821b9-9083-434c-8f22-cf8937637cb0, message: {'status': 'completed', 'message': 'Формование гранул в слое керосина: -\nФормование гранул в водном растворе аммиака: -\nСушка полученных гранул: -\nПрокаливание полученных гранул: -\nСмешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л: -\nПромывка гранул после прокаливания водой: -\nЗначение pH воды для промывки от 6 до 9: -\nВремя промывки 15 минут: -\nПроведение термообработки промытых гранул: -\nТемпература термообработки 250 °C: -\nКаталитический реактор трубчатого типа: -\nПроведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C: -\nРеактор содержит корпус: -\nРеактор содержит трубные решетки: -\nРеактор содержит устройства для ввода реагентов: -\nРеактор содержит устройства для вывода реагентов: -\nРеактор содержит устройства для ввода хладагентов: -\nРеактор содержит устройства для вывода хладагентов: -\nРеактор содержит каталитически активные теплообменные трубки: -\nСоединение каталитически активных теплообменных трубок с трубными решетками: -\nКаталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки: -\nНанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок: -\nСлой каталитически активного армированного порометаллического материала образован плоскими лентами: -\nСлой каталитически активного армированного порометаллического материала образован гофрированными лентами: -\nСоздание бидисперсной структуры нанесенного на поверхность трубки слоя: -\nТолщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм: -\nРавномерное нанесение слоя катализатора по длине трубки: -\nНеравномерное нанесение слоя катализатора по длине трубки: -\nСпособ осуществления сильно экзотермических реакций: -\nПодача реагирующей смеси стехиометрического состава в межтрубное пространство: -\nПодача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство: -\nОбразование межтрубного пространства каталитически активными теплообменными трубками: -\nПодача хладоагента внутрь каталитически активных теплообменных трубок: -\nСпособ получения пористого железо-калиевооксидного композита: -\nПриготовление шихты: -\nШихта содержит кристаллогидрат нитрата железа: -\nШихта содержит кристаллогидрат нитрата церия: -\nШихта содержит нитрат калия: -\nШихта содержит оксид молибдена: -\nШихта содержит оксид титана: -', 'stage': 'completed'}
2025-10-06 00:00:12,530 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE2A0>, 1830913972:f39821b9-9083-434c-8f22-cf8937637cb0
2025-10-06 00:00:12,541 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:f39821b9-9083-434c-8f22-cf8937637cb0 disconnected
2025-10-06 00:00:12,542 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:00:12,542 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:f39821b9-9083-434c-8f22-cf8937637cb0 cleanup completed
2025-10-06 00:00:12,545 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00
2025-10-06 00:00:12,545 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00 создан новый список соединений
2025-10-06 00:00:12,546 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00: 1
2025-10-06 00:00:12,546 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00 содержит 0 сообщений
2025-10-06 00:00:12,546 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:00:12,547 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00: 1 соединений
2025-10-06 00:00:12,547 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00 содержит 0 сообщений
2025-10-06 00:00:12,547 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00
2025-10-06 00:00:12,548 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00 connected successfully
2025-10-06 00:00:12,549 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:00:12,550 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:00:12,551 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:00:12,552 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:00:12,552 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:00:12,552 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:00:12,552 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:00:12,553 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347ED60>
2025-10-06 00:00:12,553 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:00:12,553 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347ED60>
2025-10-06 00:00:12,554 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:00:12,554 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:00:12,554 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347ED60>
2025-10-06 00:00:12,554 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:00:12,555 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:00:12,556 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:00:12,558 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:00:12,558 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:00:12,558 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:00:12,558 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:00:12,559 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:00:12,559 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:00:12,559 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:00:12,560 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00
2025-10-06 00:00:12,560 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:00:12,561 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DED50>, 1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00
2025-10-06 00:00:12,561 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00
2025-10-06 00:00:12,561 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:00:12,562 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DED50>, 1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00
2025-10-06 00:00:12,562 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00
2025-10-06 00:00:12,562 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:00:12,563 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DED50>, 1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00
2025-10-06 00:00:12,563 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00
2025-10-06 00:00:12,563 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:00:12,564 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DED50>, 1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00
2025-10-06 00:00:54,318 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Шихта содержит карбонат кальция: -
Шихта содержит тетраэтоксисилан: -
Компоненты шихты взяты в стехиометрическом соотношении: -
Импрегнирование в шихту выгорающей микродобавки: -
Импрегнирование продуктами гидролиза солей: -
Получение продуктов гидролиза солей способом соосаждения: -
Получение продуктов гидролиза солей способом золь-гель: -
Использование диоксанлигнина березы в качестве выгорающей микродобавки: -
Количество выгорающей микродобавки 0,125-0,250 мас.%: -
Формование образцов композита методом полусухого прессования: -
Проведение обжига: -
Обжиг в интервале температур 20-700°С: -
Скорость нагрева при обжиге 10°/мин: -
Изотермическая выдержка при обжиге в течение 3 часов: -
Формирование бидисперсной структуры в композите: -
Пористый железо-калиевооксидный композит: -
Композит содержит фазу оксида железа α-Fe2O3: -
Композит содержит фазу оксида церия CeO2: -
Композит содержит фазу молибдата калия K2MoO4: -
Композит содержит фазу феррита калия состава KFeO2: -
Композит содержит фазу феррита калия состава KFe11O17: -
Композит имеет бидисперсную структуру: -
Общий объем пор композита от 0,006 до 0,013 см3/г: -
Диаметр мезопор композита от 16 до 40 нм: -
Диаметр макропор композита от 75 до 130 нм: -
Удельная поверхность композита от 2 до 5 м2/г: -
Способ получения пористых порошковых материалов: -
Нанесение на частицы порообразователя связующего: -
Смешивание частиц порообразователя со связующим с порошком: -
Формование шихты: -
Спекание шихты: -
Использование металлического порошка при смешивании: -
Использование керамического порошка при смешивании: -
Нанесение на частицы порообразователя не менее двух слоев керамического порошка: -
Нанесение на частицы порообразователя не более пяти слоев керамического порошка: -
Нанесение органического связющего при нанесении первого слоя керамического порошка: -
Использование неорганического связующего при нанесении второго слоя керамического порошка: -
Использование неорганического связующего при нанесении последующих слоев керамического порошка: -
Использование гранул пенополистирола в качестве частиц порообразователя: -
Использование частиц порообразователя с размером в диапазоне 0,5-1 мм: -
2025-10-06 00:00:54,319 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00
2025-10-06 00:00:54,320 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00, message: {'status': 'completed', 'message': 'Шихта содержит карбонат кальция: -\nШихта содержит тетраэтоксисилан: -\nКомпоненты шихты взяты в стехиометрическом соотношении: -\nИмпрегнирование в шихту выгорающей микродобавки: -\nИмпрегнирование продуктами гидролиза солей: -\nПолучение продуктов гидролиза солей способом соосаждения: -\nПолучение продуктов гидролиза солей способом золь-гель: -\nИспользование диоксанлигнина березы в качестве выгорающей микродобавки: -\nКоличество выгорающей микродобавки 0,125-0,250 мас.%: -\nФормование образцов композита методом полусухого прессования: -\nПроведение обжига: -\nОбжиг в интервале температур 20-700°С: -\nСкорость нагрева при обжиге 10°/мин: -\nИзотермическая выдержка при обжиге в течение 3 часов: -\nФормирование бидисперсной структуры в композите: -\nПористый железо-калиевооксидный композит: -\nКомпозит содержит фазу оксида железа α-Fe2O3: -\nКомпозит содержит фазу оксида церия CeO2: -\nКомпозит содержит фазу молибдата калия K2MoO4: -\nКомпозит содержит фазу феррита калия состава KFeO2: -\nКомпозит содержит фазу феррита калия состава KFe11O17: -\nКомпозит имеет бидисперсную структуру: -\nОбщий объем пор композита от 0,006 до 0,013 см3/г: -\nДиаметр мезопор композита от 16 до 40 нм: -\nДиаметр макропор композита от 75 до 130 нм: -\nУдельная поверхность композита от 2 до 5 м2/г: -\nСпособ получения пористых порошковых материалов: -\nНанесение на частицы порообразователя связующего: -\nСмешивание частиц порообразователя со связующим с порошком: -\nФормование шихты: -\nСпекание шихты: -\nИспользование металлического порошка при смешивании: -\nИспользование керамического порошка при смешивании: -\nНанесение на частицы порообразователя не менее двух слоев керамического порошка: -\nНанесение на частицы порообразователя не более пяти слоев керамического порошка: -\nНанесение органического связющего при нанесении первого слоя керамического порошка: -\nИспользование неорганического связующего при нанесении второго слоя керамического порошка: -\nИспользование неорганического связующего при нанесении последующих слоев керамического порошка: -\nИспользование гранул пенополистирола в качестве частиц порообразователя: -\nИспользование частиц порообразователя с размером в диапазоне 0,5-1 мм: -', 'stage': 'completed'}
2025-10-06 00:00:54,322 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DED50>, 1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00
2025-10-06 00:00:54,332 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00 disconnected
2025-10-06 00:00:54,332 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:00:54,333 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:1a8fc9c3-62fc-45d1-bf30-3289c8929c00 cleanup completed
2025-10-06 00:00:54,334 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:00:54,334 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:7e2cf048-622e-437a-988f-693180ebafb0
2025-10-06 00:00:54,335 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:7e2cf048-622e-437a-988f-693180ebafb0 создан новый список соединений
2025-10-06 00:00:54,335 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:7e2cf048-622e-437a-988f-693180ebafb0: 1
2025-10-06 00:00:54,335 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:7e2cf048-622e-437a-988f-693180ebafb0 содержит 0 сообщений
2025-10-06 00:00:54,335 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:00:54,336 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:7e2cf048-622e-437a-988f-693180ebafb0: 1 соединений
2025-10-06 00:00:54,336 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:7e2cf048-622e-437a-988f-693180ebafb0 содержит 0 сообщений
2025-10-06 00:00:54,336 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:7e2cf048-622e-437a-988f-693180ebafb0
2025-10-06 00:00:54,336 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:7e2cf048-622e-437a-988f-693180ebafb0 connected successfully
2025-10-06 00:00:54,337 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:00:54,338 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:00:54,338 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:00:54,338 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:00:54,339 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:00:54,339 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:00:54,339 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C9F0>
2025-10-06 00:00:54,339 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:00:54,340 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:7e2cf048-622e-437a-988f-693180ebafb0, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C9F0>
2025-10-06 00:00:54,340 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:00:54,340 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:00:54,340 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C9F0>
2025-10-06 00:00:54,341 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:00:54,342 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:00:54,342 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:00:54,343 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:00:54,343 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:00:54,344 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:00:54,344 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:00:54,344 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:00:54,344 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:00:54,344 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:00:54,345 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:7e2cf048-622e-437a-988f-693180ebafb0
2025-10-06 00:00:54,345 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:7e2cf048-622e-437a-988f-693180ebafb0, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:00:54,345 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DED50>, 1830913972:7e2cf048-622e-437a-988f-693180ebafb0
2025-10-06 00:00:54,345 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:7e2cf048-622e-437a-988f-693180ebafb0
2025-10-06 00:00:54,346 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:7e2cf048-622e-437a-988f-693180ebafb0, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:00:54,346 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DED50>, 1830913972:7e2cf048-622e-437a-988f-693180ebafb0
2025-10-06 00:00:54,346 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:7e2cf048-622e-437a-988f-693180ebafb0
2025-10-06 00:00:54,346 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:7e2cf048-622e-437a-988f-693180ebafb0, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:00:54,347 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DED50>, 1830913972:7e2cf048-622e-437a-988f-693180ebafb0
2025-10-06 00:00:54,347 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:7e2cf048-622e-437a-988f-693180ebafb0
2025-10-06 00:00:54,347 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:7e2cf048-622e-437a-988f-693180ebafb0, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:00:54,347 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DED50>, 1830913972:7e2cf048-622e-437a-988f-693180ebafb0
2025-10-06 00:01:06,629 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Использование водно-дисперсионного полиуретанового лака в качестве органического связующего: -
Использование водного раствора силиката натрия в качестве неорганического связующего: -
Способ соединения крупногабаритных порошковых деталей: -
Приготовление шихты на основе железа: -
Прессование деталей: -
Нанесение на соединяемые поверхности слоя шликера на основе порошка железа: -
Сборка деталей: -
Размещение пропитывающих брикетов на основе меди: -
Проведение спекания с одновременной инфильтрацией: -
Приготовление шликера из бидисперсных порошков: -
Расположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями: -
Нанесение слоя шликера на поверхность соединяемых деталей: -
Нанесение слоя шликера на поверхность непроницаемой перегородки: -
Размещение пропитывающих брикетов сверху сборки: -
Размещение пропитывающих брикетов снизу сборки: -
2025-10-06 00:01:06,630 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:7e2cf048-622e-437a-988f-693180ebafb0
2025-10-06 00:01:06,631 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:7e2cf048-622e-437a-988f-693180ebafb0, message: {'status': 'completed', 'message': 'Использование водно-дисперсионного полиуретанового лака в качестве органического связующего: -\nИспользование водного раствора силиката натрия в качестве неорганического связующего: -\nСпособ соединения крупногабаритных порошковых деталей: -\nПриготовление шихты на основе железа: -\nПрессование деталей: -\nНанесение на соединяемые поверхности слоя шликера на основе порошка железа: -\nСборка деталей: -\nРазмещение пропитывающих брикетов на основе меди: -\nПроведение спекания с одновременной инфильтрацией: -\nПриготовление шликера из бидисперсных порошков: -\nРасположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями: -\nНанесение слоя шликера на поверхность соединяемых деталей: -\nНанесение слоя шликера на поверхность непроницаемой перегородки: -\nРазмещение пропитывающих брикетов сверху сборки: -\nРазмещение пропитывающих брикетов снизу сборки: -', 'stage': 'completed'}
2025-10-06 00:01:06,631 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DED50>, 1830913972:7e2cf048-622e-437a-988f-693180ebafb0
2025-10-06 00:01:06,640 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:7e2cf048-622e-437a-988f-693180ebafb0 disconnected
2025-10-06 00:01:06,640 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:01:06,640 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:7e2cf048-622e-437a-988f-693180ebafb0 cleanup completed
2025-10-06 00:01:06,642 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:e8630fb3-7359-40d8-b183-33175f9eca67
2025-10-06 00:01:06,643 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:e8630fb3-7359-40d8-b183-33175f9eca67 создан новый список соединений
2025-10-06 00:01:06,643 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:e8630fb3-7359-40d8-b183-33175f9eca67: 1
2025-10-06 00:01:06,643 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:e8630fb3-7359-40d8-b183-33175f9eca67 содержит 0 сообщений
2025-10-06 00:01:06,644 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:01:06,644 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:e8630fb3-7359-40d8-b183-33175f9eca67: 1 соединений
2025-10-06 00:01:06,644 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:e8630fb3-7359-40d8-b183-33175f9eca67 содержит 0 сообщений
2025-10-06 00:01:06,644 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:e8630fb3-7359-40d8-b183-33175f9eca67
2025-10-06 00:01:06,645 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:e8630fb3-7359-40d8-b183-33175f9eca67 connected successfully
2025-10-06 00:01:06,646 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:01:06,647 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:01:06,648 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:01:06,649 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:01:06,649 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:01:06,649 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:01:06,649 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:01:06,650 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C8A0>
2025-10-06 00:01:06,650 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:01:06,650 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:e8630fb3-7359-40d8-b183-33175f9eca67, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C8A0>
2025-10-06 00:01:06,651 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:01:06,651 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:01:06,651 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C8A0>
2025-10-06 00:01:06,652 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:01:06,652 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:01:06,653 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:01:06,654 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:01:06,654 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:01:06,655 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:01:06,655 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:01:06,655 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:01:06,655 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:01:06,656 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:01:06,656 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e8630fb3-7359-40d8-b183-33175f9eca67
2025-10-06 00:01:06,656 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e8630fb3-7359-40d8-b183-33175f9eca67, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:01:06,656 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE2A0>, 1830913972:e8630fb3-7359-40d8-b183-33175f9eca67
2025-10-06 00:01:06,657 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e8630fb3-7359-40d8-b183-33175f9eca67
2025-10-06 00:01:06,657 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e8630fb3-7359-40d8-b183-33175f9eca67, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:01:06,657 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE2A0>, 1830913972:e8630fb3-7359-40d8-b183-33175f9eca67
2025-10-06 00:01:06,657 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e8630fb3-7359-40d8-b183-33175f9eca67
2025-10-06 00:01:06,657 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e8630fb3-7359-40d8-b183-33175f9eca67, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:01:06,657 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE2A0>, 1830913972:e8630fb3-7359-40d8-b183-33175f9eca67
2025-10-06 00:01:06,658 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e8630fb3-7359-40d8-b183-33175f9eca67
2025-10-06 00:01:06,658 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e8630fb3-7359-40d8-b183-33175f9eca67, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:01:06,658 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE2A0>, 1830913972:e8630fb3-7359-40d8-b183-33175f9eca67
2025-10-06 00:01:50,059 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Способ получения бидисперсных порошковых смесей: -
Получение смесей из порошков существенно разных размеров: -
Использование метода самораспространяющегося высокотемпературного синтеза (СВС): -
Подготовка смеси компонентов: +
Смешение нитрата металла и топливного компонента: -
Использование нитрата металла в качестве окислителя: -
Использование топливного компонента в качестве восстановителя: -
Использование глицерина в качестве топливного компонента: -
Использование тиомочевины в качестве топливного компонента: -
Использование этиленгликоля в качестве топливного компонента: -
Пропитка предварительно приготовленного порошка микронных размеров подготовленной смесью: -
Использование порошка микронных размеров на основе оксидов: -
Равномерное распределение реагентов на поверхности частиц порошка: -
Формирование однородной бидисперсной смеси: -
Удаление воды из раствора выпариванием: -
Удаление воды из раствора сушкой: -
Образование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка: -
Нагревание сухой смеси до определенной температуры: -
Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом: -
Экзотермический характер окислительно-восстановительной реакции: -
Самораспространяющийся характер процесса горения: -
Поддержание процесса горения за счет выделяемой энергии: -
Образование продукта в виде нанопорошка оксида металла: -
Формирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ): -
Получение бидисперсной системы, состоящей из микропорошка и нанопорошка: -
Более равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением: -
Способ получения смесевого твердого топлива с металлическим горючим: -
Механическое перемешивание компонентов: +
Использование металлического горючего в виде бидисперсной смеси порошков: -
Использование порошка алюминия микронных размеров: -
Использование нанопорошка алюминия: -
Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%: -
Перемешивание бидисперсной смеси до осредненного состояния: -
Введение бидисперсной смеси в количестве 10-25 мас.%: -
Введение бидисперсной смеси в полностью перемешанную смесь других компонентов: -
Дополнительное перемешивание полученной массы в течение не менее 30 мин: -
Вакуумирование полученной массы в течение не менее 30 мин: -
Использование перхлората аммония в качестве окислителя: -
Использование нитрата аммония в качестве окислителя: -
Использование смешанного окислителя, включающего нитрат аммония и нитрамин: -
2025-10-06 00:01:50,060 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e8630fb3-7359-40d8-b183-33175f9eca67
2025-10-06 00:01:50,061 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e8630fb3-7359-40d8-b183-33175f9eca67, message: {'status': 'completed', 'message': 'Способ получения бидисперсных порошковых смесей: -\nПолучение смесей из порошков существенно разных размеров: -\nИспользование метода самораспространяющегося высокотемпературного синтеза (СВС): -\nПодготовка смеси компонентов: +\nСмешение нитрата металла и топливного компонента: -\nИспользование нитрата металла в качестве окислителя: -\nИспользование топливного компонента в качестве восстановителя: -\nИспользование глицерина в качестве топливного компонента: -\nИспользование тиомочевины в качестве топливного компонента: -\nИспользование этиленгликоля в качестве топливного компонента: -\nПропитка предварительно приготовленного порошка микронных размеров подготовленной смесью: -\nИспользование порошка микронных размеров на основе оксидов: -\nРавномерное распределение реагентов на поверхности частиц порошка: -\nФормирование однородной бидисперсной смеси: -\nУдаление воды из раствора выпариванием: -\nУдаление воды из раствора сушкой: -\nОбразование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка: -\nНагревание сухой смеси до определенной температуры: -\nИнициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом: -\nЭкзотермический характер окислительно-восстановительной реакции: -\nСамораспространяющийся характер процесса горения: -\nПоддержание процесса горения за счет выделяемой энергии: -\nОбразование продукта в виде нанопорошка оксида металла: -\nФормирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ): -\nПолучение бидисперсной системы, состоящей из микропорошка и нанопорошка: -\nБолее равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением: -\nСпособ получения смесевого твердого топлива с металлическим горючим: -\nМеханическое перемешивание компонентов: +\nИспользование металлического горючего в виде бидисперсной смеси порошков: -\nИспользование порошка алюминия микронных размеров: -\nИспользование нанопорошка алюминия: -\nСоотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%: -\nПеремешивание бидисперсной смеси до осредненного состояния: -\nВведение бидисперсной смеси в количестве 10-25 мас.%: -\nВведение бидисперсной смеси в полностью перемешанную смесь других компонентов: -\nДополнительное перемешивание полученной массы в течение не менее 30 мин: -\nВакуумирование полученной массы в течение не менее 30 мин: -\nИспользование перхлората аммония в качестве окислителя: -\nИспользование нитрата аммония в качестве окислителя: -\nИспользование смешанного окислителя, включающего нитрат аммония и нитрамин: -', 'stage': 'completed'}
2025-10-06 00:01:50,062 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE2A0>, 1830913972:e8630fb3-7359-40d8-b183-33175f9eca67
2025-10-06 00:01:50,075 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:e8630fb3-7359-40d8-b183-33175f9eca67 disconnected
2025-10-06 00:01:50,076 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:01:50,076 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:e8630fb3-7359-40d8-b183-33175f9eca67 cleanup completed
2025-10-06 00:01:50,078 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:9f34d654-3454-46b4-931a-fae3b604aa98
2025-10-06 00:01:50,079 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:9f34d654-3454-46b4-931a-fae3b604aa98 создан новый список соединений
2025-10-06 00:01:50,079 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:9f34d654-3454-46b4-931a-fae3b604aa98: 1
2025-10-06 00:01:50,080 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:9f34d654-3454-46b4-931a-fae3b604aa98 содержит 0 сообщений
2025-10-06 00:01:50,080 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:01:50,080 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:9f34d654-3454-46b4-931a-fae3b604aa98: 1 соединений
2025-10-06 00:01:50,081 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:9f34d654-3454-46b4-931a-fae3b604aa98 содержит 0 сообщений
2025-10-06 00:01:50,081 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:9f34d654-3454-46b4-931a-fae3b604aa98
2025-10-06 00:01:50,082 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:9f34d654-3454-46b4-931a-fae3b604aa98 connected successfully
2025-10-06 00:01:50,083 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:01:50,084 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:01:50,085 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:01:50,086 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:01:50,086 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:01:50,086 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:01:50,087 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:01:50,088 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D7F0>
2025-10-06 00:01:50,088 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:01:50,089 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:9f34d654-3454-46b4-931a-fae3b604aa98, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D7F0>
2025-10-06 00:01:50,089 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:01:50,090 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:01:50,090 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D7F0>
2025-10-06 00:01:50,090 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:01:50,091 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:01:50,092 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:01:50,093 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:01:50,094 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:01:50,094 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:01:50,094 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:01:50,094 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:01:50,094 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:01:50,095 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:01:50,095 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9f34d654-3454-46b4-931a-fae3b604aa98
2025-10-06 00:01:50,095 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9f34d654-3454-46b4-931a-fae3b604aa98, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:01:50,096 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DECC0>, 1830913972:9f34d654-3454-46b4-931a-fae3b604aa98
2025-10-06 00:01:50,096 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9f34d654-3454-46b4-931a-fae3b604aa98
2025-10-06 00:01:50,097 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9f34d654-3454-46b4-931a-fae3b604aa98, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:01:50,097 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DECC0>, 1830913972:9f34d654-3454-46b4-931a-fae3b604aa98
2025-10-06 00:01:50,098 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9f34d654-3454-46b4-931a-fae3b604aa98
2025-10-06 00:01:50,099 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9f34d654-3454-46b4-931a-fae3b604aa98, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:01:50,100 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DECC0>, 1830913972:9f34d654-3454-46b4-931a-fae3b604aa98
2025-10-06 00:01:50,100 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9f34d654-3454-46b4-931a-fae3b604aa98
2025-10-06 00:01:50,101 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9f34d654-3454-46b4-931a-fae3b604aa98, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:01:50,102 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DECC0>, 1830913972:9f34d654-3454-46b4-931a-fae3b604aa98
2025-10-06 00:02:37,166 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего: -
Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего: -
Способ получения порошковой смеси бидисперсных керамических и металлических частиц: -
Перемешивание порошков в жидкой среде: -
Двухэтапное перемешивание: -
Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды: -
Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1: -
Перемешивание керамических наночастиц в жидкой среде на первом этапе: -
Длительность перемешивания на первом этапе не менее 15 минут: -
Добавление металлических микрочастиц на втором этапе: -
Перемешивание полученной смеси на втором этапе: -
Длительность перемешивания на втором этапе не менее 15 минут: -
Удаление жидкости после перемешивания: -
Удаление жидкости в сушильном шкафу: -
Температура удаления жидкости не менее 80°C: -
Длительность удаления жидкости не менее 24 часов: -
Использование керамических наночастиц: -
Диаметр керамических наночастиц от 30 до 140 нм: -
Использование металлических микрочастиц: -
Диаметр металлических микрочастиц от 20 до 180 мкм: -
Массовое соотношение порошков и жидкости 1/2: -
Массовое соотношение наночастиц и микрочастиц 1/19: -
Способ получения дифениламина: -
Термическая обработка анилина: -
Проведение термической обработки в присутствии катализатора: -
Использование алюмооксидного катализатора: -
Катализатор кислого характера: -
Получение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде: +
Использование азотной кислоты при получении катализатора: +
Пластификация катализатора: +
Формование катализатора: +
Сушка катализатора: +
Прокаливание катализатора при повышенной температуре: +
Катализатор с бидисперсной пористой структурой: +
Суммарный объем пор катализатора равен или более 0,45 см³/г: -
Объем пор катализатора с радиусом более равен или более 0,27 см³/г: -
Удельная поверхность катализатора не менее 200 м²/г: -
Получение катализатора из термо- или термомеханохимически активированного гидроксида алюминия: -
Смешивание активированного гидроксида алюминия с ортофосфорной кислотой: -
Проведение пластификации при кислотном модуле 0,02 - 0,07: -
2025-10-06 00:02:37,168 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9f34d654-3454-46b4-931a-fae3b604aa98
2025-10-06 00:02:37,168 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9f34d654-3454-46b4-931a-fae3b604aa98, message: {'status': 'completed', 'message': 'Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего: -\nИспользование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего: -\nСпособ получения порошковой смеси бидисперсных керамических и металлических частиц: -\nПеремешивание порошков в жидкой среде: -\nДвухэтапное перемешивание: -\nИспользование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды: -\nМассовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1: -\nПеремешивание керамических наночастиц в жидкой среде на первом этапе: -\nДлительность перемешивания на первом этапе не менее 15 минут: -\nДобавление металлических микрочастиц на втором этапе: -\nПеремешивание полученной смеси на втором этапе: -\nДлительность перемешивания на втором этапе не менее 15 минут: -\nУдаление жидкости после перемешивания: -\nУдаление жидкости в сушильном шкафу: -\nТемпература удаления жидкости не менее 80°C: -\nДлительность удаления жидкости не менее 24 часов: -\nИспользование керамических наночастиц: -\nДиаметр керамических наночастиц от 30 до 140 нм: -\nИспользование металлических микрочастиц: -\nДиаметр металлических микрочастиц от 20 до 180 мкм: -\nМассовое соотношение порошков и жидкости 1/2: -\nМассовое соотношение наночастиц и микрочастиц 1/19: -\nСпособ получения дифениламина: -\nТермическая обработка анилина: -\nПроведение термической обработки в присутствии катализатора: -\nИспользование алюмооксидного катализатора: -\nКатализатор кислого характера: -\nПолучение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде: +\nИспользование азотной кислоты при получении катализатора: +\nПластификация катализатора: +\nФормование катализатора: +\nСушка катализатора: +\nПрокаливание катализатора при повышенной температуре: +\nКатализатор с бидисперсной пористой структурой: +\nСуммарный объем пор катализатора равен или более 0,45 см³/г: -\nОбъем пор катализатора с радиусом более равен или более 0,27 см³/г: -\nУдельная поверхность катализатора не менее 200 м²/г: -\nПолучение катализатора из термо- или термомеханохимически активированного гидроксида алюминия: -\nСмешивание активированного гидроксида алюминия с ортофосфорной кислотой: -\nПроведение пластификации при кислотном модуле 0,02 - 0,07: -', 'stage': 'completed'}
2025-10-06 00:02:37,170 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DECC0>, 1830913972:9f34d654-3454-46b4-931a-fae3b604aa98
2025-10-06 00:02:37,185 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:9f34d654-3454-46b4-931a-fae3b604aa98 disconnected
2025-10-06 00:02:37,185 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:02:37,186 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:9f34d654-3454-46b4-931a-fae3b604aa98 cleanup completed
2025-10-06 00:02:37,188 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:02:37,189 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185
2025-10-06 00:02:37,190 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185 создан новый список соединений
2025-10-06 00:02:37,190 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185: 1
2025-10-06 00:02:37,190 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185 содержит 0 сообщений
2025-10-06 00:02:37,191 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:02:37,191 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185: 1 соединений
2025-10-06 00:02:37,191 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185 содержит 0 сообщений
2025-10-06 00:02:37,191 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185
2025-10-06 00:02:37,192 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185 connected successfully
2025-10-06 00:02:37,193 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:02:37,194 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:02:37,194 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:02:37,195 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:02:37,195 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:02:37,196 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:02:37,196 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CA60>
2025-10-06 00:02:37,196 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:02:37,196 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CA60>
2025-10-06 00:02:37,199 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:02:37,199 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:02:37,200 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CA60>
2025-10-06 00:02:37,200 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:02:37,202 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:02:37,203 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:02:37,204 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:02:37,205 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:02:37,205 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:02:37,205 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:02:37,205 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:02:37,206 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:02:37,206 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:02:37,206 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185
2025-10-06 00:02:37,207 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:02:37,208 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DECC0>, 1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185
2025-10-06 00:02:37,208 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185
2025-10-06 00:02:37,209 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:02:37,209 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DECC0>, 1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185
2025-10-06 00:02:37,210 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185
2025-10-06 00:02:37,210 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:02:37,211 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DECC0>, 1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185
2025-10-06 00:02:37,212 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185
2025-10-06 00:02:37,212 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:02:37,212 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DECC0>, 1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185
2025-10-06 00:03:16,367 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Провяливание катализатора на воздухе не менее 12 часов перед сушкой: -
Сушка катализатора при 100 °C не менее 12 часов после провяливания: -
Прокаливание катализатора при 500 °C после сушки: -
Гранулированный наноструктурированный алюмооксидный катализатор: -
Содержание натрия в катализаторе от 0,005 до 0,02 мас.%: -
Содержание серы в катализатора от 0 до 5 мас.%: -
Содержание фосфора в катализаторе от 0 до 2,8 мас.%: -
Содержание хлора в катализаторе от 0 до 2,6 мас.%: -
Бидисперсная пористая структура катализатора: +
Объем микропор катализатора от 0,06 до 0,18 см³/г: -
Объем мезопор катализатора от 0,2 до 0,32 см³/г: -
Суммарный объем пор катализатора от 0,25 до 0,55 см³/г: -
Средний диаметр пор катализатора от 3 до 5,5 нм: -
Удельная поверхность катализатора от 200 до 350 м²/г: -
Оксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы: -
Суммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%: -
Содержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%: -
Форма гранул катализатора - цилиндр диаметром 3-5 мм: -
Форма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм: -
Способ приготовления катализатора, включающий термическую активацию гидраргиллита: -
Гидратация продуктов термической активации гидраргиллита в кислом растворе: -
Отмывка продуктов гидратации от примесных ионов: -
Введение модифицирующих добавок на стадии пластификации: -
Формование в гранулы методом экструзии: -
Проведение термической обработки сформированных гранул: +
Отмывка продуктов гидратации дистиллированной водой: -
Отмывка продуктов гидратации слабыми растворами серной кислоты: -
Отмывка продуктов гидратации слабыми растворами азотной кислоты: -
Использование растворов серной кислоты для пластификации гидроксида алюминия: -
Использование растворов соляной кислоты для пластификации гидроксида алюминия: -
Использование растворов ортофосфорной кислоты для пластификации гидроксида алюминия: -
Использование растворов азотной кислоты для пластификации гидроксида алюминия: +
Модифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃: -
Модифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃: -
Модифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃: -
Модифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃: -
Использование продукта центробежной термической активации гидраргиллита: -
Использование термоактивированного гидроксида алюминия: -
Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С: -
Способ получения этилена путем дегидратации этанола: -
2025-10-06 00:03:16,370 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185
2025-10-06 00:03:16,372 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185, message: {'status': 'completed', 'message': 'Провяливание катализатора на воздухе не менее 12 часов перед сушкой: -\nСушка катализатора при 100 °C не менее 12 часов после провяливания: -\nПрокаливание катализатора при 500 °C после сушки: -\nГранулированный наноструктурированный алюмооксидный катализатор: -\nСодержание натрия в катализаторе от 0,005 до 0,02 мас.%: -\nСодержание серы в катализатора от 0 до 5 мас.%: -\nСодержание фосфора в катализаторе от 0 до 2,8 мас.%: -\nСодержание хлора в катализаторе от 0 до 2,6 мас.%: -\nБидисперсная пористая структура катализатора: +\nОбъем микропор катализатора от 0,06 до 0,18 см³/г: -\nОбъем мезопор катализатора от 0,2 до 0,32 см³/г: -\nСуммарный объем пор катализатора от 0,25 до 0,55 см³/г: -\nСредний диаметр пор катализатора от 3 до 5,5 нм: -\nУдельная поверхность катализатора от 200 до 350 м²/г: -\nОксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы: -\nСуммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%: -\nСодержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%: -\nФорма гранул катализатора - цилиндр диаметром 3-5 мм: -\nФорма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм: -\nСпособ приготовления катализатора, включающий термическую активацию гидраргиллита: -\nГидратация продуктов термической активации гидраргиллита в кислом растворе: -\nОтмывка продуктов гидратации от примесных ионов: -\nВведение модифицирующих добавок на стадии пластификации: -\nФормование в гранулы методом экструзии: -\nПроведение термической обработки сформированных гранул: +\nОтмывка продуктов гидратации дистиллированной водой: -\nОтмывка продуктов гидратации слабыми растворами серной кислоты: -\nОтмывка продуктов гидратации слабыми растворами азотной кислоты: -\nИспользование растворов серной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов соляной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов ортофосфорной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов азотной кислоты для пластификации гидроксида алюминия: +\nМодифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃: -\nМодифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃: -\nМодифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃: -\nМодифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃: -\nИспользование продукта центробежной термической активации гидраргиллита: -\nИспользование термоактивированного гидроксида алюминия: -\nПроведение термической обработки гранул гидроксида алюминия при температуре 500-550°С: -\nСпособ получения этилена путем дегидратации этанола: -', 'stage': 'completed'}
2025-10-06 00:03:16,375 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DECC0>, 1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185
2025-10-06 00:03:16,397 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185 disconnected
2025-10-06 00:03:16,397 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:03:16,398 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:7e41b4ab-6b20-482c-b112-1b26c52ed185 cleanup completed
2025-10-06 00:03:16,400 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3
2025-10-06 00:03:16,401 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3 создан новый список соединений
2025-10-06 00:03:16,402 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3: 1
2025-10-06 00:03:16,402 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3 содержит 0 сообщений
2025-10-06 00:03:16,403 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:03:16,403 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3: 1 соединений
2025-10-06 00:03:16,404 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3 содержит 0 сообщений
2025-10-06 00:03:16,405 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3
2025-10-06 00:03:16,405 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3 connected successfully
2025-10-06 00:03:16,407 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:03:16,409 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:03:16,411 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:03:16,412 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:03:16,412 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:03:16,413 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:03:16,413 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:03:16,414 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347E6D0>
2025-10-06 00:03:16,414 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:03:16,416 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347E6D0>
2025-10-06 00:03:16,416 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:03:16,417 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:03:16,417 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347E6D0>
2025-10-06 00:03:16,418 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:03:16,418 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:03:16,419 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:03:16,420 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:03:16,420 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:03:16,421 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:03:16,421 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:03:16,422 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:03:16,422 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:03:16,422 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:03:16,423 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3
2025-10-06 00:03:16,423 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:03:16,424 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD760>, 1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3
2025-10-06 00:03:16,425 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3
2025-10-06 00:03:16,425 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:03:16,426 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD760>, 1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3
2025-10-06 00:03:16,426 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3
2025-10-06 00:03:16,427 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:03:16,427 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD760>, 1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3
2025-10-06 00:03:16,428 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3
2025-10-06 00:03:16,428 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:03:16,429 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD760>, 1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3
2025-10-06 00:03:54,397 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора: -
Проведение процесса получения этилена при температуре 350-450°С: -
Проведение процесса получения этилена при времени контакта 0.2-4.0 с: -
Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов: -
Содержание палладия в катализаторе 0,01÷1,0 мас.%: -
Размер частиц палладия от 1,5 до 20 нм: -
Нанесение активного компонента (палладия) на бидисперсный силикагель: -
Содержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%: -
Удельная поверхность бидисперсного силикагеля 150÷350 м²/г: -
Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г: -
Отсутствие микропор в бидисперсном силикагеле: -
Объем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г: -
Объем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г: -
Способ приготовления палладиевого катализатора: -
Использование предварительно высушенного носителя: -
Пропитка носителя водным раствором стабилизированного нитрата палладия: -
Пропитка носителя раствором стабилизированного нитрата палладия при определенных рН: -
Сушка катализатора после пропитки: -
Прокаливание катализатора на воздухе после сушки: -
Восстановление катализатора в потоке водородсодержащего газа после прокаливания: -
Добавление лимонной кислоты в пропиточные растворы: -
Предотвращение агломерации палладийсодержащих частиц на поверхности носителя: -
Регулирование рН пропиточных растворов без введения катионов щелочных металлов: -
Регулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида: -
Способ очистки олефинов от примесей полиненасыщенных углеводородов: -
Очистка путем каталитического гидрирования: -
Гидрирование при повышенных температурах: -
Гидрирование при атмосферном давлении: -
Гидрирование при температуре 50-200°С: -
Гидрирование при объемной скорости 10000-20000 ч⁻¹: -
Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой: +
Использование гидроксида алюминия в виде гидратированного соединения: +
Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия: +
Содержание в гидратированном соединении до 10% гиббсита: +
Размол гидроксида алюминия до частиц размером менее 20 мкм: +
Количество частиц размером менее 20 мкм после размола более 70%: +
Смешивание размолотого гидроксида алюминия с водой: +
Проведение смешивания в присутствии азотной кислоты: +
Проведение пластификации полученной смеси: +
Формование гранул из пластифицированного продукта: +
2025-10-06 00:03:54,405 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3
2025-10-06 00:03:54,405 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3, message: {'status': 'completed', 'message': 'Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора: -\nПроведение процесса получения этилена при температуре 350-450°С: -\nПроведение процесса получения этилена при времени контакта 0.2-4.0 с: -\nКатализатор для очистки олефинов от примесей полиненасыщенных углеводородов: -\nСодержание палладия в катализаторе 0,01÷1,0 мас.%: -\nРазмер частиц палладия от 1,5 до 20 нм: -\nНанесение активного компонента (палладия) на бидисперсный силикагель: -\nСодержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%: -\nУдельная поверхность бидисперсного силикагеля 150÷350 м²/г: -\nОбщий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г: -\nОтсутствие микропор в бидисперсном силикагеле: -\nОбъем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г: -\nОбъем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г: -\nСпособ приготовления палладиевого катализатора: -\nИспользование предварительно высушенного носителя: -\nПропитка носителя водным раствором стабилизированного нитрата палладия: -\nПропитка носителя раствором стабилизированного нитрата палладия при определенных рН: -\nСушка катализатора после пропитки: -\nПрокаливание катализатора на воздухе после сушки: -\nВосстановление катализатора в потоке водородсодержащего газа после прокаливания: -\nДобавление лимонной кислоты в пропиточные растворы: -\nПредотвращение агломерации палладийсодержащих частиц на поверхности носителя: -\nРегулирование рН пропиточных растворов без введения катионов щелочных металлов: -\nРегулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида: -\nСпособ очистки олефинов от примесей полиненасыщенных углеводородов: -\nОчистка путем каталитического гидрирования: -\nГидрирование при повышенных температурах: -\nГидрирование при атмосферном давлении: -\nГидрирование при температуре 50-200°С: -\nГидрирование при объемной скорости 10000-20000 ч⁻¹: -\nСпособ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой: +\nИспользование гидроксида алюминия в виде гидратированного соединения: +\nСодержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия: +\nСодержание в гидратированном соединении до 10% гиббсита: +\nРазмол гидроксида алюминия до частиц размером менее 20 мкм: +\nКоличество частиц размером менее 20 мкм после размола более 70%: +\nСмешивание размолотого гидроксида алюминия с водой: +\nПроведение смешивания в присутствии азотной кислоты: +\nПроведение пластификации полученной смеси: +\nФормование гранул из пластифицированного продукта: +', 'stage': 'completed'}
2025-10-06 00:03:54,407 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD760>, 1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3
2025-10-06 00:03:54,424 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be
2025-10-06 00:03:54,425 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be создан новый список соединений
2025-10-06 00:03:54,425 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be: 1
2025-10-06 00:03:54,426 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be содержит 0 сообщений
2025-10-06 00:03:54,426 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:03:54,426 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3: 1 соединений
2025-10-06 00:03:54,427 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be: 1 соединений
2025-10-06 00:03:54,427 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be содержит 0 сообщений
2025-10-06 00:03:54,428 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be
2025-10-06 00:03:54,429 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be connected successfully
2025-10-06 00:03:54,430 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3 disconnected
2025-10-06 00:03:54,430 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:03:54,430 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be: 1 соединений
2025-10-06 00:03:54,431 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:97f8f944-4c81-4e5a-8be4-86a53c3a7af3 cleanup completed
2025-10-06 00:03:54,433 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:03:54,433 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:03:54,434 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:03:54,435 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:03:54,435 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:03:54,435 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:03:54,436 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:03:54,436 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D8D0>
2025-10-06 00:03:54,437 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:03:54,437 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D8D0>
2025-10-06 00:03:54,438 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:03:54,438 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:03:54,439 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D8D0>
2025-10-06 00:03:54,439 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:03:54,439 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:03:54,440 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:03:54,441 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:03:54,441 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:03:54,442 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:03:54,442 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:03:54,442 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:03:54,443 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:03:54,443 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:03:54,443 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be
2025-10-06 00:03:54,444 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:03:54,445 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFD10>, 1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be
2025-10-06 00:03:54,445 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be
2025-10-06 00:03:54,446 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:03:54,447 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFD10>, 1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be
2025-10-06 00:03:54,448 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be
2025-10-06 00:03:54,448 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:03:54,448 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFD10>, 1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be
2025-10-06 00:03:54,448 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be
2025-10-06 00:03:54,449 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:03:54,449 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFD10>, 1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be
2025-10-06 00:04:42,814 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Формование гранул в слое керосина: +
Формование гранул в водном растворе аммиака: +
Сушка полученных гранул: +
Прокаливание полученных гранул: +
Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л: +
Промывка гранул после прокаливания водой: +
Значение pH воды для промывки от 6 до 9: +
Время промывки 15 минут: +
Проведение термообработки промытых гранул: +
Температура термообработки 250 °C: +
Каталитический реактор трубчатого типа: -
Проведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C: -
Реактор содержит корпус: -
Реактор содержит трубные решетки: -
Реактор содержит устройства для ввода реагентов: -
Реактор содержит устройства для вывода реагентов: -
Реактор содержит устройства для ввода хладагентов: -
Реактор содержит устройства для вывода хладагентов: -
Реактор содержит каталитически активные теплообменные трубки: -
Соединение каталитически активных теплообменных трубок с трубными решетками: -
Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки: -
Нанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок: -
Слой каталитически активного армированного порометаллического материала образован плоскими лентами: -
Слой каталитически активного армированного порометаллического материала образован гофрированными лентами: -
Создание бидисперсной структуры нанесенного на поверхность трубки слоя: -
Толщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм: -
Равномерное нанесение слоя катализатора по длине трубки: -
Неравномерное нанесение слоя катализатора по длине трубки: -
Способ осуществления сильно экзотермических реакций: -
Подача реагирующей смеси стехиометрического состава в межтрубное пространство: -
Подача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство: -
Образование межтрубного пространства каталитически активными теплообменными трубками: -
Подача хладоагента внутрь каталитически активных теплообменных трубок: -
Способ получения пористого железо-калиевооксидного композита: -
Приготовление шихты: -
Шихта содержит кристаллогидрат нитрата железа: -
Шихта содержит кристаллогидрат нитрата церия: -
Шихта содержит нитрат калия: -
Шихта содержит оксид молибдена: -
Шихта содержит оксид титана: -
2025-10-06 00:04:42,816 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be
2025-10-06 00:04:42,816 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be, message: {'status': 'completed', 'message': 'Формование гранул в слое керосина: +\nФормование гранул в водном растворе аммиака: +\nСушка полученных гранул: +\nПрокаливание полученных гранул: +\nСмешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л: +\nПромывка гранул после прокаливания водой: +\nЗначение pH воды для промывки от 6 до 9: +\nВремя промывки 15 минут: +\nПроведение термообработки промытых гранул: +\nТемпература термообработки 250 °C: +\nКаталитический реактор трубчатого типа: -\nПроведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C: -\nРеактор содержит корпус: -\nРеактор содержит трубные решетки: -\nРеактор содержит устройства для ввода реагентов: -\nРеактор содержит устройства для вывода реагентов: -\nРеактор содержит устройства для ввода хладагентов: -\nРеактор содержит устройства для вывода хладагентов: -\nРеактор содержит каталитически активные теплообменные трубки: -\nСоединение каталитически активных теплообменных трубок с трубными решетками: -\nКаталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки: -\nНанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок: -\nСлой каталитически активного армированного порометаллического материала образован плоскими лентами: -\nСлой каталитически активного армированного порометаллического материала образован гофрированными лентами: -\nСоздание бидисперсной структуры нанесенного на поверхность трубки слоя: -\nТолщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм: -\nРавномерное нанесение слоя катализатора по длине трубки: -\nНеравномерное нанесение слоя катализатора по длине трубки: -\nСпособ осуществления сильно экзотермических реакций: -\nПодача реагирующей смеси стехиометрического состава в межтрубное пространство: -\nПодача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство: -\nОбразование межтрубного пространства каталитически активными теплообменными трубками: -\nПодача хладоагента внутрь каталитически активных теплообменных трубок: -\nСпособ получения пористого железо-калиевооксидного композита: -\nПриготовление шихты: -\nШихта содержит кристаллогидрат нитрата железа: -\nШихта содержит кристаллогидрат нитрата церия: -\nШихта содержит нитрат калия: -\nШихта содержит оксид молибдена: -\nШихта содержит оксид титана: -', 'stage': 'completed'}
2025-10-06 00:04:42,817 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFD10>, 1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be
2025-10-06 00:04:42,832 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:d8be5bc0-95de-4f29-be05-60f988440053
2025-10-06 00:04:42,832 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:04:42,833 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:d8be5bc0-95de-4f29-be05-60f988440053 создан новый список соединений
2025-10-06 00:04:42,834 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:d8be5bc0-95de-4f29-be05-60f988440053: 1
2025-10-06 00:04:42,834 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:d8be5bc0-95de-4f29-be05-60f988440053 содержит 0 сообщений
2025-10-06 00:04:42,834 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:04:42,835 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be: 1 соединений
2025-10-06 00:04:42,835 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:d8be5bc0-95de-4f29-be05-60f988440053: 1 соединений
2025-10-06 00:04:42,836 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:d8be5bc0-95de-4f29-be05-60f988440053 содержит 0 сообщений
2025-10-06 00:04:42,836 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:d8be5bc0-95de-4f29-be05-60f988440053
2025-10-06 00:04:42,837 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:d8be5bc0-95de-4f29-be05-60f988440053 connected successfully
2025-10-06 00:04:42,837 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be disconnected
2025-10-06 00:04:42,838 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:04:42,838 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:d8be5bc0-95de-4f29-be05-60f988440053: 1 соединений
2025-10-06 00:04:42,839 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:01ac0f2e-51d3-4471-9961-5f534a0009be cleanup completed
2025-10-06 00:04:42,841 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:04:42,842 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:04:42,842 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:04:42,843 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:04:42,843 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:04:42,843 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:04:42,844 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C0C0>
2025-10-06 00:04:42,844 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:04:42,845 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:d8be5bc0-95de-4f29-be05-60f988440053, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C0C0>
2025-10-06 00:04:42,845 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:04:42,846 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:04:42,846 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C0C0>
2025-10-06 00:04:42,846 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:04:42,847 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:04:42,849 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:04:42,849 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:04:42,850 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:04:42,850 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:04:42,851 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:04:42,851 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:04:42,851 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:04:42,852 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:04:42,852 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d8be5bc0-95de-4f29-be05-60f988440053
2025-10-06 00:04:42,853 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d8be5bc0-95de-4f29-be05-60f988440053, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:04:42,853 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD370>, 1830913972:d8be5bc0-95de-4f29-be05-60f988440053
2025-10-06 00:04:42,854 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d8be5bc0-95de-4f29-be05-60f988440053
2025-10-06 00:04:42,854 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d8be5bc0-95de-4f29-be05-60f988440053, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:04:42,855 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD370>, 1830913972:d8be5bc0-95de-4f29-be05-60f988440053
2025-10-06 00:04:42,856 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d8be5bc0-95de-4f29-be05-60f988440053
2025-10-06 00:04:42,856 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d8be5bc0-95de-4f29-be05-60f988440053, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:04:42,857 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD370>, 1830913972:d8be5bc0-95de-4f29-be05-60f988440053
2025-10-06 00:04:42,857 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d8be5bc0-95de-4f29-be05-60f988440053
2025-10-06 00:04:42,858 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d8be5bc0-95de-4f29-be05-60f988440053, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:04:42,858 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD370>, 1830913972:d8be5bc0-95de-4f29-be05-60f988440053
2025-10-06 00:05:32,473 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Шихта содержит карбонат кальция: -
Шихта содержит тетраэтоксисилан: -
Компоненты шихты взяты в стехиометрическом соотношении: -
Импрегнирование в шихту выгорающей микродобавки: -
Импрегнирование продуктами гидролиза солей: -
Получение продуктов гидролиза солей способом соосаждения: -
Получение продуктов гидролиза солей способом золь-гель: -
Использование диоксанлигнина березы в качестве выгорающей микродобавки: -
Количество выгорающей микродобавки 0,125-0,250 мас.%: -
Формование образцов композита методом полусухого прессования: -
Проведение обжига: -
Обжиг в интервале температур 20-700°С: -
Скорость нагрева при обжиге 10°/мин: -
Изотермическая выдержка при обжиге в течение 3 часов: -
Формирование бидисперсной структуры в композите: -
Пористый железо-калиевооксидный композит: -
Композит содержит фазу оксида железа α-Fe2O3: -
Композит содержит фазу оксида церия CeO2: -
Композит содержит фазу молибдата калия K2MoO4: -
Композит содержит фазу феррита калия состава KFeO2: -
Композит содержит фазу феррита калия состава KFe11O17: -
Композит имеет бидисперсную структуру: -
Общий объем пор композита от 0,006 до 0,013 см3/г: -
Диаметр мезопор композита от 16 до 40 нм: -
Диаметр макропор композита от 75 до 130 нм: -
Удельная поверхность композита от 2 до 5 м2/г: -
Способ получения пористых порошковых материалов: -
Нанесение на частицы порообразователя связующего: -
Смешивание частиц порообразователя со связующим с порошком: -
Формование шихты: -
Спекание шихты: -
Использование металлического порошка при смешивании: -
Использование керамического порошка при смешивании: -
Нанесение на частицы порообразователя не менее двух слоев керамического порошка: -
Нанесение на частицы порообразователя не более пяти слоев керамического порошка: -
Нанесение органического связющего при нанесении первого слоя керамического порошка: -
Использование неорганического связующего при нанесении второго слоя керамического порошка: -
Использование неорганического связующего при нанесении последующих слоев керамического порошка: -
Использование гранул пенополистирола в качестве частиц порообразователя: -
Использование частиц порообразователя с размером в диапазоне 0,5-1 мм: -
2025-10-06 00:05:32,475 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d8be5bc0-95de-4f29-be05-60f988440053
2025-10-06 00:05:32,476 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d8be5bc0-95de-4f29-be05-60f988440053, message: {'status': 'completed', 'message': 'Шихта содержит карбонат кальция: -\nШихта содержит тетраэтоксисилан: -\nКомпоненты шихты взяты в стехиометрическом соотношении: -\nИмпрегнирование в шихту выгорающей микродобавки: -\nИмпрегнирование продуктами гидролиза солей: -\nПолучение продуктов гидролиза солей способом соосаждения: -\nПолучение продуктов гидролиза солей способом золь-гель: -\nИспользование диоксанлигнина березы в качестве выгорающей микродобавки: -\nКоличество выгорающей микродобавки 0,125-0,250 мас.%: -\nФормование образцов композита методом полусухого прессования: -\nПроведение обжига: -\nОбжиг в интервале температур 20-700°С: -\nСкорость нагрева при обжиге 10°/мин: -\nИзотермическая выдержка при обжиге в течение 3 часов: -\nФормирование бидисперсной структуры в композите: -\nПористый железо-калиевооксидный композит: -\nКомпозит содержит фазу оксида железа α-Fe2O3: -\nКомпозит содержит фазу оксида церия CeO2: -\nКомпозит содержит фазу молибдата калия K2MoO4: -\nКомпозит содержит фазу феррита калия состава KFeO2: -\nКомпозит содержит фазу феррита калия состава KFe11O17: -\nКомпозит имеет бидисперсную структуру: -\nОбщий объем пор композита от 0,006 до 0,013 см3/г: -\nДиаметр мезопор композита от 16 до 40 нм: -\nДиаметр макропор композита от 75 до 130 нм: -\nУдельная поверхность композита от 2 до 5 м2/г: -\nСпособ получения пористых порошковых материалов: -\nНанесение на частицы порообразователя связующего: -\nСмешивание частиц порообразователя со связующим с порошком: -\nФормование шихты: -\nСпекание шихты: -\nИспользование металлического порошка при смешивании: -\nИспользование керамического порошка при смешивании: -\nНанесение на частицы порообразователя не менее двух слоев керамического порошка: -\nНанесение на частицы порообразователя не более пяти слоев керамического порошка: -\nНанесение органического связющего при нанесении первого слоя керамического порошка: -\nИспользование неорганического связующего при нанесении второго слоя керамического порошка: -\nИспользование неорганического связующего при нанесении последующих слоев керамического порошка: -\nИспользование гранул пенополистирола в качестве частиц порообразователя: -\nИспользование частиц порообразователя с размером в диапазоне 0,5-1 мм: -', 'stage': 'completed'}
2025-10-06 00:05:32,479 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD370>, 1830913972:d8be5bc0-95de-4f29-be05-60f988440053
2025-10-06 00:05:32,492 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856
2025-10-06 00:05:32,493 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856 создан новый список соединений
2025-10-06 00:05:32,494 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856: 1
2025-10-06 00:05:32,494 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856 содержит 0 сообщений
2025-10-06 00:05:32,495 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:05:32,495 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:d8be5bc0-95de-4f29-be05-60f988440053: 1 соединений
2025-10-06 00:05:32,495 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856: 1 соединений
2025-10-06 00:05:32,496 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856 содержит 0 сообщений
2025-10-06 00:05:32,496 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856
2025-10-06 00:05:32,497 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856 connected successfully
2025-10-06 00:05:32,497 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:d8be5bc0-95de-4f29-be05-60f988440053 disconnected
2025-10-06 00:05:32,498 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:05:32,498 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856: 1 соединений
2025-10-06 00:05:32,499 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:d8be5bc0-95de-4f29-be05-60f988440053 cleanup completed
2025-10-06 00:05:32,501 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:05:32,502 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:05:32,504 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:05:32,505 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:05:32,505 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:05:32,506 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:05:32,506 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:05:32,506 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D7F0>
2025-10-06 00:05:32,507 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:05:32,507 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D7F0>
2025-10-06 00:05:32,508 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:05:32,508 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:05:32,509 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D7F0>
2025-10-06 00:05:32,510 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:05:32,511 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:05:32,512 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:05:32,513 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:05:32,514 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:05:32,514 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:05:32,515 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:05:32,515 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:05:32,515 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:05:32,516 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:05:32,516 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856
2025-10-06 00:05:32,517 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:05:32,518 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEE70>, 1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856
2025-10-06 00:05:32,518 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856
2025-10-06 00:05:32,519 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:05:32,519 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEE70>, 1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856
2025-10-06 00:05:32,520 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856
2025-10-06 00:05:32,520 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:05:32,521 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEE70>, 1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856
2025-10-06 00:05:32,522 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856
2025-10-06 00:05:32,522 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:05:32,523 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEE70>, 1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856
2025-10-06 00:05:48,245 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Использование водно-дисперсионного полиуретанового лака в качестве органического связующего: -
Использование водного раствора силиката натрия в качестве неорганического связующего: -
Способ соединения крупногабаритных порошковых деталей: -
Приготовление шихты на основе железа: -
Прессование деталей: -
Нанесение на соединяемые поверхности слоя шликера на основе порошка железа: -
Сборка деталей: -
Размещение пропитывающих брикетов на основе меди: -
Проведение спекания с одновременной инфильтрацией: -
Приготовление шликера из бидисперсных порошков: -
Расположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями: -
Нанесение слоя шликера на поверхность соединяемых деталей: -
Нанесение слоя шликера на поверхность непроницаемой перегородки: -
Размещение пропитывающих брикетов сверху сборки: -
Размещение пропитывающих брикетов снизу сборки: -
2025-10-06 00:05:48,246 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856
2025-10-06 00:05:48,247 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856, message: {'status': 'completed', 'message': 'Использование водно-дисперсионного полиуретанового лака в качестве органического связующего: -\nИспользование водного раствора силиката натрия в качестве неорганического связующего: -\nСпособ соединения крупногабаритных порошковых деталей: -\nПриготовление шихты на основе железа: -\nПрессование деталей: -\nНанесение на соединяемые поверхности слоя шликера на основе порошка железа: -\nСборка деталей: -\nРазмещение пропитывающих брикетов на основе меди: -\nПроведение спекания с одновременной инфильтрацией: -\nПриготовление шликера из бидисперсных порошков: -\nРасположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями: -\nНанесение слоя шликера на поверхность соединяемых деталей: -\nНанесение слоя шликера на поверхность непроницаемой перегородки: -\nРазмещение пропитывающих брикетов сверху сборки: -\nРазмещение пропитывающих брикетов снизу сборки: -', 'stage': 'completed'}
2025-10-06 00:05:48,248 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DEE70>, 1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856
2025-10-06 00:05:48,256 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:05:48,257 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7
2025-10-06 00:05:48,257 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7 создан новый список соединений
2025-10-06 00:05:48,258 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7: 1
2025-10-06 00:05:48,258 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7 содержит 0 сообщений
2025-10-06 00:05:48,258 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:05:48,258 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856: 1 соединений
2025-10-06 00:05:48,259 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7: 1 соединений
2025-10-06 00:05:48,259 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7 содержит 0 сообщений
2025-10-06 00:05:48,259 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7
2025-10-06 00:05:48,259 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7 connected successfully
2025-10-06 00:05:48,260 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856 disconnected
2025-10-06 00:05:48,260 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:05:48,260 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7: 1 соединений
2025-10-06 00:05:48,261 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:e7621261-bdd6-4bdb-8c3c-9cc85682b856 cleanup completed
2025-10-06 00:05:48,262 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:05:48,263 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:05:48,263 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:05:48,264 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:05:48,264 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:05:48,264 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:05:48,264 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D240>
2025-10-06 00:05:48,265 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:05:48,265 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D240>
2025-10-06 00:05:48,266 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:05:48,266 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:05:48,267 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D240>
2025-10-06 00:05:48,268 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:05:48,269 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:05:48,270 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:05:48,271 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:05:48,271 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:05:48,272 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:05:48,272 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:05:48,272 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:05:48,273 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:05:48,273 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:05:48,274 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7
2025-10-06 00:05:48,274 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:05:48,275 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF410>, 1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7
2025-10-06 00:05:48,276 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7
2025-10-06 00:05:48,276 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:05:48,277 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF410>, 1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7
2025-10-06 00:05:48,277 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7
2025-10-06 00:05:48,278 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:05:48,279 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF410>, 1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7
2025-10-06 00:05:48,279 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7
2025-10-06 00:05:48,279 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:05:48,280 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF410>, 1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7
2025-10-06 00:06:38,624 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Способ получения бидисперсных порошковых смесей: -
Получение смесей из порошков существенно разных размеров: -
Использование метода самораспространяющегося высокотемпературного синтеза (СВС): -
Подготовка смеси компонентов: -
Смешение нитрата металла и топливного компонента: -
Использование нитрата металла в качестве окислителя: -
Использование топливного компонента в качестве восстановителя: -
Использование глицерина в качестве топливного компонента: -
Использование тиомочевины в качестве топливного компонента: -
Использование этиленгликоля в качестве топливного компонента: -
Пропитка предварительно приготовленного порошка микронных размеров подготовленной смесью: -
Использование порошка микронных размеров на основе оксидов: -
Равномерное распределение реагентов на поверхности частиц порошка: -
Формирование однородной бидисперсной смеси: -
Удаление воды из раствора выпариванием: -
Удаление воды из раствора сушкой: -
Образование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка: -
Нагревание сухой смеси до определенной температуры: -
Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом: -
Экзотермический характер окислительно-восстановительной реакции: -
Самораспространяющийся характер процесса горения: -
Поддержание процесса горения за счет выделяемой энергии: -
Образование продукта в виде нанопорошка оксида металла: -
Формирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ): -
Получение бидисперсной системы, состоящей из микропорошка и нанопорошка: -
Более равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением: -
Способ получения смесевого твердого топлива с металлическим горючим: -
Механическое перемешивание компонентов: -
Использование металлического горючего в виде бидисперсной смеси порошков: -
Использование порошка алюминия микронных размеров: -
Использование нанопорошка алюминия: -
Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%: -
Перемешивание бидисперсной смеси до осредненного состояния: -
Введение бидисперсной смеси в количестве 10-25 мас.%: -
Введение бидисперсной смеси в полностью перемешанную смесь других компонентов: -
Дополнительное перемешивание полученной массы в течение не менее 30 мин: -
Вакуумирование полученной массы в течение не менее 30 мин: -
Использование перхлората аммония в качестве окислителя: -
Использование нитрата аммония в качестве окислителя: -
Использование смешанного окислителя, включающего нитрат аммония и нитрамин: -
2025-10-06 00:06:38,625 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7
2025-10-06 00:06:38,626 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7, message: {'status': 'completed', 'message': 'Способ получения бидисперсных порошковых смесей: -\nПолучение смесей из порошков существенно разных размеров: -\nИспользование метода самораспространяющегося высокотемпературного синтеза (СВС): -\nПодготовка смеси компонентов: -\nСмешение нитрата металла и топливного компонента: -\nИспользование нитрата металла в качестве окислителя: -\nИспользование топливного компонента в качестве восстановителя: -\nИспользование глицерина в качестве топливного компонента: -\nИспользование тиомочевины в качестве топливного компонента: -\nИспользование этиленгликоля в качестве топливного компонента: -\nПропитка предварительно приготовленного порошка микронных размеров подготовленной смесью: -\nИспользование порошка микронных размеров на основе оксидов: -\nРавномерное распределение реагентов на поверхности частиц порошка: -\nФормирование однородной бидисперсной смеси: -\nУдаление воды из раствора выпариванием: -\nУдаление воды из раствора сушкой: -\nОбразование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка: -\nНагревание сухой смеси до определенной температуры: -\nИнициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом: -\nЭкзотермический характер окислительно-восстановительной реакции: -\nСамораспространяющийся характер процесса горения: -\nПоддержание процесса горения за счет выделяемой энергии: -\nОбразование продукта в виде нанопорошка оксида металла: -\nФормирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ): -\nПолучение бидисперсной системы, состоящей из микропорошка и нанопорошка: -\nБолее равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением: -\nСпособ получения смесевого твердого топлива с металлическим горючим: -\nМеханическое перемешивание компонентов: -\nИспользование металлического горючего в виде бидисперсной смеси порошков: -\nИспользование порошка алюминия микронных размеров: -\nИспользование нанопорошка алюминия: -\nСоотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%: -\nПеремешивание бидисперсной смеси до осредненного состояния: -\nВведение бидисперсной смеси в количестве 10-25 мас.%: -\nВведение бидисперсной смеси в полностью перемешанную смесь других компонентов: -\nДополнительное перемешивание полученной массы в течение не менее 30 мин: -\nВакуумирование полученной массы в течение не менее 30 мин: -\nИспользование перхлората аммония в качестве окислителя: -\nИспользование нитрата аммония в качестве окислителя: -\nИспользование смешанного окислителя, включающего нитрат аммония и нитрамин: -', 'stage': 'completed'}
2025-10-06 00:06:38,628 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF410>, 1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7
2025-10-06 00:06:38,640 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7 disconnected
2025-10-06 00:06:38,641 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:06:38,641 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:39ba4dce-bc08-4bf5-bfd6-dd69e000e0a7 cleanup completed
2025-10-06 00:06:38,643 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:c554f228-c12b-4764-80ae-549ddf46c983
2025-10-06 00:06:38,643 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:c554f228-c12b-4764-80ae-549ddf46c983 создан новый список соединений
2025-10-06 00:06:38,644 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:c554f228-c12b-4764-80ae-549ddf46c983: 1
2025-10-06 00:06:38,644 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:c554f228-c12b-4764-80ae-549ddf46c983 содержит 0 сообщений
2025-10-06 00:06:38,645 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:06:38,645 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:c554f228-c12b-4764-80ae-549ddf46c983: 1 соединений
2025-10-06 00:06:38,645 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:c554f228-c12b-4764-80ae-549ddf46c983 содержит 0 сообщений
2025-10-06 00:06:38,646 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:c554f228-c12b-4764-80ae-549ddf46c983
2025-10-06 00:06:38,646 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:c554f228-c12b-4764-80ae-549ddf46c983 connected successfully
2025-10-06 00:06:38,647 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:06:38,648 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:06:38,649 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:06:38,650 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:06:38,650 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:06:38,650 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:06:38,651 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:06:38,651 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D5C0>
2025-10-06 00:06:38,651 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:06:38,652 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:c554f228-c12b-4764-80ae-549ddf46c983, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D5C0>
2025-10-06 00:06:38,652 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:06:38,652 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:06:38,652 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D5C0>
2025-10-06 00:06:38,652 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:06:38,653 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:06:38,654 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:06:38,655 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:06:38,656 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:06:38,656 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:06:38,656 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:06:38,657 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:06:38,657 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:06:38,657 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:06:38,658 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:c554f228-c12b-4764-80ae-549ddf46c983
2025-10-06 00:06:38,658 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:c554f228-c12b-4764-80ae-549ddf46c983, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:06:38,659 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:c554f228-c12b-4764-80ae-549ddf46c983
2025-10-06 00:06:38,659 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:c554f228-c12b-4764-80ae-549ddf46c983
2025-10-06 00:06:38,660 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:c554f228-c12b-4764-80ae-549ddf46c983, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:06:38,660 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:c554f228-c12b-4764-80ae-549ddf46c983
2025-10-06 00:06:38,661 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:c554f228-c12b-4764-80ae-549ddf46c983
2025-10-06 00:06:38,661 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:c554f228-c12b-4764-80ae-549ddf46c983, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:06:38,662 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:c554f228-c12b-4764-80ae-549ddf46c983
2025-10-06 00:06:38,663 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:c554f228-c12b-4764-80ae-549ddf46c983
2025-10-06 00:06:38,663 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:c554f228-c12b-4764-80ae-549ddf46c983, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:06:38,664 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:c554f228-c12b-4764-80ae-549ddf46c983
2025-10-06 00:07:19,176 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего: -
Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего: -
Способ получения порошковой смеси бидисперсных керамических и металлических частиц: -
Перемешивание порошков в жидкой среде: -
Двухэтапное перемешивание: -
Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды: -
Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1: -
Перемешивание керамических наночастиц в жидкой среде на первом этапе: -
Длительность перемешивания на первом этапе не менее 15 минут: -
Добавление металлических микрочастиц на втором этапе: -
Перемешивание полученной смеси на втором этапе: -
Длительность перемешивания на втором этапе не менее 15 минут: -
Удаление жидкости после перемешивания: -
Удаление жидкости в сушильном шкафу: -
Температура удаления жидкости не менее 80°C: -
Длительность удаления жидкости не менее 24 часов: -
Использование керамических наночастиц: -
Диаметр керамических наночастиц от 30 до 140 нм: -
Использование металлических микрочастиц: -
Диаметр металлических микрочастиц от 20 до 180 мкм: -
Массовое соотношение порошков и жидкости 1/2: -
Массовое соотношение наночастиц и микрочастиц 1/19: -
Способ получения дифениламина: -
Термическая обработка анилина: -
Проведение термической обработки в присутствии катализатора: -
Использование алюмооксидного катализатора: -
Катализатор кислого характера: -
Получение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде: -
Использование азотной кислоты при получении катализатора: -
Пластификация катализатора: -
Формование катализатора: -
Сушка катализатора: -
Прокаливание катализатора при повышенной температуре: -
Катализатор с бидисперсной пористой структурой: +
Суммарный объем пор катализатора равен или более 0,45 см³/г: -
Объем пор катализатора с радиусом более равен или более 0,27 см³/г: -
Удельная поверхность катализатора не менее 200 м²/г: -
Получение катализатора из термо- или термомеханохимически активированного гидроксида алюминия: -
Смешивание активированного гидроксида алюминия с ортофосфорной кислотой: -
Проведение пластификации при кислотном модуле 0,02 - 0,07: -
2025-10-06 00:07:19,177 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:c554f228-c12b-4764-80ae-549ddf46c983
2025-10-06 00:07:19,177 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:c554f228-c12b-4764-80ae-549ddf46c983, message: {'status': 'completed', 'message': 'Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего: -\nИспользование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего: -\nСпособ получения порошковой смеси бидисперсных керамических и металлических частиц: -\nПеремешивание порошков в жидкой среде: -\nДвухэтапное перемешивание: -\nИспользование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды: -\nМассовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1: -\nПеремешивание керамических наночастиц в жидкой среде на первом этапе: -\nДлительность перемешивания на первом этапе не менее 15 минут: -\nДобавление металлических микрочастиц на втором этапе: -\nПеремешивание полученной смеси на втором этапе: -\nДлительность перемешивания на втором этапе не менее 15 минут: -\nУдаление жидкости после перемешивания: -\nУдаление жидкости в сушильном шкафу: -\nТемпература удаления жидкости не менее 80°C: -\nДлительность удаления жидкости не менее 24 часов: -\nИспользование керамических наночастиц: -\nДиаметр керамических наночастиц от 30 до 140 нм: -\nИспользование металлических микрочастиц: -\nДиаметр металлических микрочастиц от 20 до 180 мкм: -\nМассовое соотношение порошков и жидкости 1/2: -\nМассовое соотношение наночастиц и микрочастиц 1/19: -\nСпособ получения дифениламина: -\nТермическая обработка анилина: -\nПроведение термической обработки в присутствии катализатора: -\nИспользование алюмооксидного катализатора: -\nКатализатор кислого характера: -\nПолучение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде: -\nИспользование азотной кислоты при получении катализатора: -\nПластификация катализатора: -\nФормование катализатора: -\nСушка катализатора: -\nПрокаливание катализатора при повышенной температуре: -\nКатализатор с бидисперсной пористой структурой: +\nСуммарный объем пор катализатора равен или более 0,45 см³/г: -\nОбъем пор катализатора с радиусом более равен или более 0,27 см³/г: -\nУдельная поверхность катализатора не менее 200 м²/г: -\nПолучение катализатора из термо- или термомеханохимически активированного гидроксида алюминия: -\nСмешивание активированного гидроксида алюминия с ортофосфорной кислотой: -\nПроведение пластификации при кислотном модуле 0,02 - 0,07: -', 'stage': 'completed'}
2025-10-06 00:07:19,180 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:c554f228-c12b-4764-80ae-549ddf46c983
2025-10-06 00:07:19,193 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:c554f228-c12b-4764-80ae-549ddf46c983 disconnected
2025-10-06 00:07:19,193 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:07:19,194 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:c554f228-c12b-4764-80ae-549ddf46c983 cleanup completed
2025-10-06 00:07:19,195 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e
2025-10-06 00:07:19,195 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:07:19,196 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e создан новый список соединений
2025-10-06 00:07:19,197 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e: 1
2025-10-06 00:07:19,197 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e содержит 0 сообщений
2025-10-06 00:07:19,197 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:07:19,198 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e: 1 соединений
2025-10-06 00:07:19,198 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e содержит 0 сообщений
2025-10-06 00:07:19,198 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e
2025-10-06 00:07:19,198 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e connected successfully
2025-10-06 00:07:19,200 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:07:19,200 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:07:19,201 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:07:19,201 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:07:19,201 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:07:19,201 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:07:19,201 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D2B0>
2025-10-06 00:07:19,202 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:07:19,202 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D2B0>
2025-10-06 00:07:19,203 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:07:19,203 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:07:19,203 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D2B0>
2025-10-06 00:07:19,204 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:07:19,204 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:07:19,205 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:07:19,206 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:07:19,206 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:07:19,206 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:07:19,206 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:07:19,207 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:07:19,207 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:07:19,207 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:07:19,207 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e
2025-10-06 00:07:19,208 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:07:19,208 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e
2025-10-06 00:07:19,208 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e
2025-10-06 00:07:19,209 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:07:19,209 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e
2025-10-06 00:07:19,210 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e
2025-10-06 00:07:19,210 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:07:19,211 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e
2025-10-06 00:07:19,211 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e
2025-10-06 00:07:19,211 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:07:19,212 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e
2025-10-06 00:08:07,508 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Провяливание катализатора на воздухе не менее 12 часов перед сушкой: -
Сушка катализатора при 100 °C не менее 12 часов после провяливания: -
Прокаливание катализатора при 500 °C после сушки: -
Гранулированный наноструктурированный алюмооксидный катализатор: -
Содержание натрия в катализаторе от 0,005 до 0,02 мас.%: -
Содержание серы в катализатора от 0 до 5 мас.%: -
Содержание фосфора в катализаторе от 0 до 2,8 мас.%: -
Содержание хлора в катализаторе от 0 до 2,6 мас.%: -
Бидисперсная пористая структура катализатора: +
Объем микропор катализатора от 0,06 до 0,18 см³/г: -
Объем мезопор катализатора от 0,2 до 0,32 см³/г: -
Суммарный объем пор катализатора от 0,25 до 0,55 см³/г: -
Средний диаметр пор катализатора от 3 до 5,5 нм: -
Удельная поверхность катализатора от 200 до 350 м²/г: -
Оксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы: -
Суммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%: -
Содержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%: -
Форма гранул катализатора - цилиндр диаметром 3-5 мм: -
Форма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм: -
Способ приготовления катализатора, включающий термическую активацию гидраргиллита: -
Гидратация продуктов термической активации гидраргиллита в кислом растворе: -
Отмывка продуктов гидратации от примесных ионов: -
Введение модифицирующих добавок на стадии пластификации: -
Формование в гранулы методом экструзии: -
Проведение термической обработки сформированных гранул: -
Отмывка продуктов гидратации дистиллированной водой: -
Отмывка продуктов гидратации слабыми растворами серной кислоты: -
Отмывка продуктов гидратации слабыми растворами азотной кислоты: -
Использование растворов серной кислоты для пластификации гидроксида алюминия: -
Использование растворов соляной кислоты для пластификации гидроксида алюминия: -
Использование растворов ортофосфорной кислоты для пластификации гидроксида алюминия: -
Использование растворов азотной кислоты для пластификации гидроксида алюминия: -
Модифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃: -
Модифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃: -
Модифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃: -
Модифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃: -
Использование продукта центробежной термической активации гидраргиллита: -
Использование термоактивированного гидроксида алюминия: -
Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С: -
Способ получения этилена путем дегидратации этанола: -
2025-10-06 00:08:07,510 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e
2025-10-06 00:08:07,510 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e, message: {'status': 'completed', 'message': 'Провяливание катализатора на воздухе не менее 12 часов перед сушкой: -\nСушка катализатора при 100 °C не менее 12 часов после провяливания: -\nПрокаливание катализатора при 500 °C после сушки: -\nГранулированный наноструктурированный алюмооксидный катализатор: -\nСодержание натрия в катализаторе от 0,005 до 0,02 мас.%: -\nСодержание серы в катализатора от 0 до 5 мас.%: -\nСодержание фосфора в катализаторе от 0 до 2,8 мас.%: -\nСодержание хлора в катализаторе от 0 до 2,6 мас.%: -\nБидисперсная пористая структура катализатора: +\nОбъем микропор катализатора от 0,06 до 0,18 см³/г: -\nОбъем мезопор катализатора от 0,2 до 0,32 см³/г: -\nСуммарный объем пор катализатора от 0,25 до 0,55 см³/г: -\nСредний диаметр пор катализатора от 3 до 5,5 нм: -\nУдельная поверхность катализатора от 200 до 350 м²/г: -\nОксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы: -\nСуммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%: -\nСодержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%: -\nФорма гранул катализатора - цилиндр диаметром 3-5 мм: -\nФорма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм: -\nСпособ приготовления катализатора, включающий термическую активацию гидраргиллита: -\nГидратация продуктов термической активации гидраргиллита в кислом растворе: -\nОтмывка продуктов гидратации от примесных ионов: -\nВведение модифицирующих добавок на стадии пластификации: -\nФормование в гранулы методом экструзии: -\nПроведение термической обработки сформированных гранул: -\nОтмывка продуктов гидратации дистиллированной водой: -\nОтмывка продуктов гидратации слабыми растворами серной кислоты: -\nОтмывка продуктов гидратации слабыми растворами азотной кислоты: -\nИспользование растворов серной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов соляной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов ортофосфорной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов азотной кислоты для пластификации гидроксида алюминия: -\nМодифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃: -\nМодифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃: -\nМодифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃: -\nМодифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃: -\nИспользование продукта центробежной термической активации гидраргиллита: -\nИспользование термоактивированного гидроксида алюминия: -\nПроведение термической обработки гранул гидроксида алюминия при температуре 500-550°С: -\nСпособ получения этилена путем дегидратации этанола: -', 'stage': 'completed'}
2025-10-06 00:08:07,512 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFE30>, 1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e
2025-10-06 00:08:07,524 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff
2025-10-06 00:08:07,525 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff создан новый список соединений
2025-10-06 00:08:07,525 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff: 1
2025-10-06 00:08:07,526 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff содержит 0 сообщений
2025-10-06 00:08:07,526 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:08:07,526 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e: 1 соединений
2025-10-06 00:08:07,526 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff: 1 соединений
2025-10-06 00:08:07,527 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff содержит 0 сообщений
2025-10-06 00:08:07,527 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff
2025-10-06 00:08:07,527 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff connected successfully
2025-10-06 00:08:07,528 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e disconnected
2025-10-06 00:08:07,528 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:08:07,528 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:08:07,529 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff: 1 соединений
2025-10-06 00:08:07,529 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:a084e7b4-5bcf-4ad6-9ee7-4b8317d16f4e cleanup completed
2025-10-06 00:08:07,530 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:08:07,531 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:08:07,531 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:08:07,532 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:08:07,532 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:08:07,532 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:08:07,533 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DC50>
2025-10-06 00:08:07,533 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:08:07,533 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DC50>
2025-10-06 00:08:07,533 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:08:07,534 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:08:07,534 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DC50>
2025-10-06 00:08:07,535 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:08:07,535 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:08:07,536 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:08:07,537 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:08:07,537 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:08:07,537 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:08:07,537 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:08:07,538 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:08:07,538 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:08:07,538 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:08:07,538 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff
2025-10-06 00:08:07,538 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:08:07,539 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF140>, 1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff
2025-10-06 00:08:07,539 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff
2025-10-06 00:08:07,540 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:08:07,540 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF140>, 1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff
2025-10-06 00:08:07,541 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff
2025-10-06 00:08:07,541 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:08:07,542 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF140>, 1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff
2025-10-06 00:08:07,542 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff
2025-10-06 00:08:07,542 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:08:07,543 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF140>, 1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff
2025-10-06 00:08:53,271 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора: -
Проведение процесса получения этилена при температуре 350-450°С: -
Проведение процесса получения этилена при времени контакта 0.2-4.0 с: -
Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов: -
Содержание палладия в катализаторе 0,01÷1,0 мас.%: -
Размер частиц палладия от 1,5 до 20 нм: -
Нанесение активного компонента (палладия) на бидисперсный силикагель: -
Содержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%: -
Удельная поверхность бидисперсного силикагеля 150÷350 м²/г: -
Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г: -
Отсутствие микропор в бидисперсном силикагеле: -
Объем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г: -
Объем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г: -
Способ приготовления палладиевого катализатора: -
Использование предварительно высушенного носителя: -
Пропитка носителя водным раствором стабилизированного нитрата палладия: -
Пропитка носителя раствором стабилизированного нитрата палладия при определенных рН: -
Сушка катализатора после пропитки: -
Прокаливание катализатора на воздухе после сушки: -
Восстановление катализатора в потоке водородсодержащего газа после прокаливания: -
Добавление лимонной кислоты в пропиточные растворы: -
Предотвращение агломерации палладийсодержащих частиц на поверхности носителя: -
Регулирование рН пропиточных растворов без введения катионов щелочных металлов: -
Регулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида: -
Способ очистки олефинов от примесей полиненасыщенных углеводородов: -
Очистка путем каталитического гидрирования: -
Гидрирование при повышенных температурах: -
Гидрирование при атмосферном давлении: -
Гидрирование при температуре 50-200°С: -
Гидрирование при объемной скорости 10000-20000 ч⁻¹: -
Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой: -
Использование гидроксида алюминия в виде гидратированного соединения: -
Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия: -
Содержание в гидратированном соединении до 10% гиббсита: -
Размол гидроксида алюминия до частиц размером менее 20 мкм: -
Количество частиц размером менее 20 мкм после размола более 70%: -
Смешивание размолотого гидроксида алюминия с водой: -
Проведение смешивания в присутствии азотной кислоты: -
Проведение пластификации полученной смеси: -
Формование гранул из пластифицированного продукта: -
2025-10-06 00:08:53,275 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff
2025-10-06 00:08:53,276 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff, message: {'status': 'completed', 'message': 'Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора: -\nПроведение процесса получения этилена при температуре 350-450°С: -\nПроведение процесса получения этилена при времени контакта 0.2-4.0 с: -\nКатализатор для очистки олефинов от примесей полиненасыщенных углеводородов: -\nСодержание палладия в катализаторе 0,01÷1,0 мас.%: -\nРазмер частиц палладия от 1,5 до 20 нм: -\nНанесение активного компонента (палладия) на бидисперсный силикагель: -\nСодержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%: -\nУдельная поверхность бидисперсного силикагеля 150÷350 м²/г: -\nОбщий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г: -\nОтсутствие микропор в бидисперсном силикагеле: -\nОбъем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г: -\nОбъем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г: -\nСпособ приготовления палладиевого катализатора: -\nИспользование предварительно высушенного носителя: -\nПропитка носителя водным раствором стабилизированного нитрата палладия: -\nПропитка носителя раствором стабилизированного нитрата палладия при определенных рН: -\nСушка катализатора после пропитки: -\nПрокаливание катализатора на воздухе после сушки: -\nВосстановление катализатора в потоке водородсодержащего газа после прокаливания: -\nДобавление лимонной кислоты в пропиточные растворы: -\nПредотвращение агломерации палладийсодержащих частиц на поверхности носителя: -\nРегулирование рН пропиточных растворов без введения катионов щелочных металлов: -\nРегулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида: -\nСпособ очистки олефинов от примесей полиненасыщенных углеводородов: -\nОчистка путем каталитического гидрирования: -\nГидрирование при повышенных температурах: -\nГидрирование при атмосферном давлении: -\nГидрирование при температуре 50-200°С: -\nГидрирование при объемной скорости 10000-20000 ч⁻¹: -\nСпособ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой: -\nИспользование гидроксида алюминия в виде гидратированного соединения: -\nСодержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия: -\nСодержание в гидратированном соединении до 10% гиббсита: -\nРазмол гидроксида алюминия до частиц размером менее 20 мкм: -\nКоличество частиц размером менее 20 мкм после размола более 70%: -\nСмешивание размолотого гидроксида алюминия с водой: -\nПроведение смешивания в присутствии азотной кислоты: -\nПроведение пластификации полученной смеси: -\nФормование гранул из пластифицированного продукта: -', 'stage': 'completed'}
2025-10-06 00:08:53,277 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF140>, 1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff
2025-10-06 00:08:53,291 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff disconnected
2025-10-06 00:08:53,291 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:08:53,292 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:b62909dd-9d95-4529-92d0-85d9e040aeff cleanup completed
2025-10-06 00:08:53,294 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c
2025-10-06 00:08:53,294 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c создан новый список соединений
2025-10-06 00:08:53,294 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c: 1
2025-10-06 00:08:53,294 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c содержит 0 сообщений
2025-10-06 00:08:53,295 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:08:53,295 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c: 1 соединений
2025-10-06 00:08:53,295 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c содержит 0 сообщений
2025-10-06 00:08:53,295 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c
2025-10-06 00:08:53,296 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c connected successfully
2025-10-06 00:08:53,297 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:08:53,298 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:08:53,299 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:08:53,299 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:08:53,299 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:08:53,300 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:08:53,300 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:08:53,300 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D400>
2025-10-06 00:08:53,301 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:08:53,301 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D400>
2025-10-06 00:08:53,313 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:08:53,313 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:08:53,313 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D400>
2025-10-06 00:08:53,314 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:08:53,314 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:08:53,316 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:08:53,318 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:08:53,318 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:08:53,318 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:08:53,319 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:08:53,319 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:08:53,319 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:08:53,319 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:08:53,319 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c
2025-10-06 00:08:53,320 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:08:53,320 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF020>, 1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c
2025-10-06 00:08:53,321 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c
2025-10-06 00:08:53,321 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:08:53,322 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF020>, 1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c
2025-10-06 00:08:53,323 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c
2025-10-06 00:08:53,323 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:08:53,323 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF020>, 1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c
2025-10-06 00:08:53,324 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c
2025-10-06 00:08:53,324 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:08:53,325 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF020>, 1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c
2025-10-06 00:09:38,542 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Формование гранул в слое керосина: -
Формование гранул в водном растворе аммиака: -
Сушка полученных гранул: -
Прокаливание полученных гранул: -
Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л: -
Промывка гранул после прокаливания водой: -
Значение pH воды для промывки от 6 до 9: -
Время промывки 15 минут: -
Проведение термообработки промытых гранул: -
Температура термообработки 250 °C: -
Каталитический реактор трубчатого типа: +
Проведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C: +
Реактор содержит корпус: +
Реактор содержит трубные решетки: +
Реактор содержит устройства для ввода реагентов: +
Реактор содержит устройства для вывода реагентов: +
Реактор содержит устройства для ввода хладагентов: +
Реактор содержит устройства для вывода хладагентов: +
Реактор содержит каталитически активные теплообменные трубки: +
Соединение каталитически активных теплообменных трубок с трубными решетками: +
Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки: +
Нанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок: +
Слой каталитически активного армированного порометаллического материала образован плоскими лентами: +
Слой каталитически активного армированного порометаллического материала образован гофрированными лентами: +
Создание бидисперсной структуры нанесенного на поверхность трубки слоя: +
Толщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм: +
Равномерное нанесение слоя катализатора по длине трубки: +
Неравномерное нанесение слоя катализатора по длине трубки: +
Способ осуществления сильно экзотермических реакций: +
Подача реагирующей смеси стехиометрического состава в межтрубное пространство: +
Подача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство: +
Образование межтрубного пространства каталитически активными теплообменными трубками: +
Подача хладоагента внутрь каталитически активных теплообменных трубок: +
Способ получения пористого железо-калиевооксидного композита: -
Приготовление шихты: -
Шихта содержит кристаллогидрат нитрата железа: -
Шихта содержит кристаллогидрат нитрата церия: -
Шихта содержит нитрат калия: -
Шихта содержит оксид молибдена: -
Шихта содержит оксид титана: -
2025-10-06 00:09:38,547 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c
2025-10-06 00:09:38,548 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c, message: {'status': 'completed', 'message': 'Формование гранул в слое керосина: -\nФормование гранул в водном растворе аммиака: -\nСушка полученных гранул: -\nПрокаливание полученных гранул: -\nСмешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л: -\nПромывка гранул после прокаливания водой: -\nЗначение pH воды для промывки от 6 до 9: -\nВремя промывки 15 минут: -\nПроведение термообработки промытых гранул: -\nТемпература термообработки 250 °C: -\nКаталитический реактор трубчатого типа: +\nПроведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C: +\nРеактор содержит корпус: +\nРеактор содержит трубные решетки: +\nРеактор содержит устройства для ввода реагентов: +\nРеактор содержит устройства для вывода реагентов: +\nРеактор содержит устройства для ввода хладагентов: +\nРеактор содержит устройства для вывода хладагентов: +\nРеактор содержит каталитически активные теплообменные трубки: +\nСоединение каталитически активных теплообменных трубок с трубными решетками: +\nКаталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки: +\nНанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок: +\nСлой каталитически активного армированного порометаллического материала образован плоскими лентами: +\nСлой каталитически активного армированного порометаллического материала образован гофрированными лентами: +\nСоздание бидисперсной структуры нанесенного на поверхность трубки слоя: +\nТолщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм: +\nРавномерное нанесение слоя катализатора по длине трубки: +\nНеравномерное нанесение слоя катализатора по длине трубки: +\nСпособ осуществления сильно экзотермических реакций: +\nПодача реагирующей смеси стехиометрического состава в межтрубное пространство: +\nПодача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство: +\nОбразование межтрубного пространства каталитически активными теплообменными трубками: +\nПодача хладоагента внутрь каталитически активных теплообменных трубок: +\nСпособ получения пористого железо-калиевооксидного композита: -\nПриготовление шихты: -\nШихта содержит кристаллогидрат нитрата железа: -\nШихта содержит кристаллогидрат нитрата церия: -\nШихта содержит нитрат калия: -\nШихта содержит оксид молибдена: -\nШихта содержит оксид титана: -', 'stage': 'completed'}
2025-10-06 00:09:38,551 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF020>, 1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c
2025-10-06 00:09:38,568 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c disconnected
2025-10-06 00:09:38,568 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:09:38,569 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:1a89470a-e094-4a2d-b9c1-9fe55b23fb5c cleanup completed
2025-10-06 00:09:38,572 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35
2025-10-06 00:09:38,572 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35 создан новый список соединений
2025-10-06 00:09:38,573 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35: 1
2025-10-06 00:09:38,573 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35 содержит 0 сообщений
2025-10-06 00:09:38,573 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:09:38,574 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35: 1 соединений
2025-10-06 00:09:38,574 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35 содержит 0 сообщений
2025-10-06 00:09:38,575 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35
2025-10-06 00:09:38,575 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35 connected successfully
2025-10-06 00:09:38,577 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:09:38,578 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:09:38,579 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:09:38,580 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:09:38,580 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:09:38,581 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:09:38,581 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:09:38,581 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D6A0>
2025-10-06 00:09:38,582 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:09:38,582 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D6A0>
2025-10-06 00:09:38,583 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:09:38,583 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:09:38,584 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D6A0>
2025-10-06 00:09:38,584 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:09:38,585 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:09:38,586 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:09:38,588 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:09:38,589 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:09:38,589 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:09:38,589 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:09:38,590 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:09:38,590 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:09:38,590 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:09:38,591 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35
2025-10-06 00:09:38,591 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:09:38,592 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DECC0>, 1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35
2025-10-06 00:09:38,593 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35
2025-10-06 00:09:38,594 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:09:38,594 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DECC0>, 1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35
2025-10-06 00:09:38,595 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35
2025-10-06 00:09:38,595 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:09:38,596 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DECC0>, 1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35
2025-10-06 00:09:38,597 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35
2025-10-06 00:09:38,597 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:09:38,598 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DECC0>, 1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35
2025-10-06 00:10:18,171 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Шихта содержит карбонат кальция: -
Шихта содержит тетраэтоксисилан: -
Компоненты шихты взяты в стехиометрическом соотношении: -
Импрегнирование в шихту выгорающей микродобавки: -
Импрегнирование продуктами гидролиза солей: -
Получение продуктов гидролиза солей способом соосаждения: -
Получение продуктов гидролиза солей способом золь-гель: -
Использование диоксанлигнина березы в качестве выгорающей микродобавки: -
Количество выгорающей микродобавки 0,125-0,250 мас.%: -
Формование образцов композита методом полусухого прессования: -
Проведение обжига: -
Обжиг в интервале температур 20-700°С: -
Скорость нагрева при обжиге 10°/мин: -
Изотермическая выдержка при обжиге в течение 3 часов: -
Формирование бидисперсной структуры в композите: -
Пористый железо-калиевооксидный композит: -
Композит содержит фазу оксида железа α-Fe2O3: -
Композит содержит фазу оксида церия CeO2: -
Композит содержит фазу молибдата калия K2MoO4: -
Композит содержит фазу феррита калия состава KFeO2: -
Композит содержит фазу феррита калия состава KFe11O17: -
Композит имеет бидисперсную структуру: +
Общий объем пор композита от 0,006 до 0,013 см3/г: -
Диаметр мезопор композита от 16 до 40 нм: -
Диаметр макропор композита от 75 до 130 нм: -
Удельная поверхность композита от 2 до 5 м2/г: -
Способ получения пористых порошковых материалов: -
Нанесение на частицы порообразователя связующего: -
Смешивание частицы порообразователя со связующим с порошком: -
Формование шихты: -
Спекание шихты: -
Использование металлического порошка при смешивании: -
Использование керамического порошка при смешивании: -
Нанесение на частицы порообразователя не менее двух слоев керамического порошка: -
Нанесение на частицы порообразователя не более пяти слоев керамического порошка: -
Нанесение органического связющего при нанесении первого слоя керамического порошка: -
Использование неорганического связующего при нанесении второго слоя керамического порошка: -
Использование неорганического связующего при нанесении последующих слоев керамического порошка: -
Использование гранул пенополистирола в качестве частиц порообразователя: -
Использование частиц порообразователя с размером в диапазоне 0,5-1 мм: -
2025-10-06 00:10:18,172 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35
2025-10-06 00:10:18,173 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35, message: {'status': 'completed', 'message': 'Шихта содержит карбонат кальция: -\nШихта содержит тетраэтоксисилан: -\nКомпоненты шихты взяты в стехиометрическом соотношении: -\nИмпрегнирование в шихту выгорающей микродобавки: -\nИмпрегнирование продуктами гидролиза солей: -\nПолучение продуктов гидролиза солей способом соосаждения: -\nПолучение продуктов гидролиза солей способом золь-гель: -\nИспользование диоксанлигнина березы в качестве выгорающей микродобавки: -\nКоличество выгорающей микродобавки 0,125-0,250 мас.%: -\nФормование образцов композита методом полусухого прессования: -\nПроведение обжига: -\nОбжиг в интервале температур 20-700°С: -\nСкорость нагрева при обжиге 10°/мин: -\nИзотермическая выдержка при обжиге в течение 3 часов: -\nФормирование бидисперсной структуры в композите: -\nПористый железо-калиевооксидный композит: -\nКомпозит содержит фазу оксида железа α-Fe2O3: -\nКомпозит содержит фазу оксида церия CeO2: -\nКомпозит содержит фазу молибдата калия K2MoO4: -\nКомпозит содержит фазу феррита калия состава KFeO2: -\nКомпозит содержит фазу феррита калия состава KFe11O17: -\nКомпозит имеет бидисперсную структуру: +\nОбщий объем пор композита от 0,006 до 0,013 см3/г: -\nДиаметр мезопор композита от 16 до 40 нм: -\nДиаметр макропор композита от 75 до 130 нм: -\nУдельная поверхность композита от 2 до 5 м2/г: -\nСпособ получения пористых порошковых материалов: -\nНанесение на частицы порообразователя связующего: -\nСмешивание частицы порообразователя со связующим с порошком: -\nФормование шихты: -\nСпекание шихты: -\nИспользование металлического порошка при смешивании: -\nИспользование керамического порошка при смешивании: -\nНанесение на частицы порообразователя не менее двух слоев керамического порошка: -\nНанесение на частицы порообразователя не более пяти слоев керамического порошка: -\nНанесение органического связющего при нанесении первого слоя керамического порошка: -\nИспользование неорганического связующего при нанесении второго слоя керамического порошка: -\nИспользование неорганического связующего при нанесении последующих слоев керамического порошка: -\nИспользование гранул пенополистирола в качестве частиц порообразователя: -\nИспользование частиц порообразователя с размером в диапазоне 0,5-1 мм: -', 'stage': 'completed'}
2025-10-06 00:10:18,175 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DECC0>, 1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35
2025-10-06 00:10:18,186 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35 disconnected
2025-10-06 00:10:18,187 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:10:18,187 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:4ab22a12-9e39-4d9c-b7e4-f29c90a3db35 cleanup completed
2025-10-06 00:10:18,189 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:10:18,190 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347
2025-10-06 00:10:18,190 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347 создан новый список соединений
2025-10-06 00:10:18,191 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347: 1
2025-10-06 00:10:18,191 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347 содержит 0 сообщений
2025-10-06 00:10:18,192 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:10:18,192 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347: 1 соединений
2025-10-06 00:10:18,193 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347 содержит 0 сообщений
2025-10-06 00:10:18,193 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347
2025-10-06 00:10:18,193 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347 connected successfully
2025-10-06 00:10:18,195 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:10:18,196 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:10:18,196 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:10:18,196 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:10:18,197 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:10:18,197 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:10:18,197 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D4E0>
2025-10-06 00:10:18,197 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:10:18,206 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D4E0>
2025-10-06 00:10:18,206 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:10:18,206 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:10:18,206 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D4E0>
2025-10-06 00:10:18,206 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:10:18,208 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:10:18,210 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:10:18,211 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:10:18,211 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:10:18,212 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:10:18,212 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:10:18,212 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:10:18,212 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:10:18,213 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:10:18,213 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347
2025-10-06 00:10:18,213 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:10:18,213 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF260>, 1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347
2025-10-06 00:10:18,214 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347
2025-10-06 00:10:18,214 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:10:18,214 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF260>, 1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347
2025-10-06 00:10:18,215 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347
2025-10-06 00:10:18,215 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:10:18,215 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF260>, 1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347
2025-10-06 00:10:18,216 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347
2025-10-06 00:10:18,216 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:10:18,216 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF260>, 1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347
2025-10-06 00:10:34,870 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Использование водно-дисперсионного полиуретанового лака в качестве органического связующего: -
Использование водного раствора силиката натрия в качестве неорганического связующего: -
Способ соединения крупногабаритных порошковых деталей: -
Приготовление шихты на основе железа: -
Прессование деталей: -
Нанесение на соединяемые поверхности слоя шликера на основе порошка железа: -
Сборка деталей: -
Размещение пропитывающих брикетов на основе меди: -
Проведение спекания с одновременной инфильтрацией: -
Приготовление шликера из бидисперсных порошков: -
Расположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями: -
Нанесение слоя шликера на поверхность соединяемых деталей: -
Нанесение слоя шликера на поверхность непроницаемой перегородки: -
Размещение пропитывающих брикетов сверху сборки: -
Размещение пропитывающих брикетов снизу сборки: -
2025-10-06 00:10:34,871 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347
2025-10-06 00:10:34,871 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347, message: {'status': 'completed', 'message': 'Использование водно-дисперсионного полиуретанового лака в качестве органического связующего: -\nИспользование водного раствора силиката натрия в качестве неорганического связующего: -\nСпособ соединения крупногабаритных порошковых деталей: -\nПриготовление шихты на основе железа: -\nПрессование деталей: -\nНанесение на соединяемые поверхности слоя шликера на основе порошка железа: -\nСборка деталей: -\nРазмещение пропитывающих брикетов на основе меди: -\nПроведение спекания с одновременной инфильтрацией: -\nПриготовление шликера из бидисперсных порошков: -\nРасположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями: -\nНанесение слоя шликера на поверхность соединяемых деталей: -\nНанесение слоя шликера на поверхность непроницаемой перегородки: -\nРазмещение пропитывающих брикетов сверху сборки: -\nРазмещение пропитывающих брикетов снизу сборки: -', 'stage': 'completed'}
2025-10-06 00:10:34,872 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF260>, 1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347
2025-10-06 00:10:34,883 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347 disconnected
2025-10-06 00:10:34,884 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:10:34,884 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:3bfefe8d-8d64-4b01-bb07-2b12510ef347 cleanup completed
2025-10-06 00:10:34,888 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8
2025-10-06 00:10:34,887 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:10:34,888 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8 создан новый список соединений
2025-10-06 00:10:34,888 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8: 1
2025-10-06 00:10:34,889 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8 содержит 0 сообщений
2025-10-06 00:10:34,889 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:10:34,889 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8: 1 соединений
2025-10-06 00:10:34,889 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8 содержит 0 сообщений
2025-10-06 00:10:34,889 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8
2025-10-06 00:10:34,890 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8 connected successfully
2025-10-06 00:10:34,891 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:10:34,892 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:10:34,892 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:10:34,892 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:10:34,893 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:10:34,893 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:10:34,893 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347D630>
2025-10-06 00:10:34,893 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:10:34,894 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347D630>
2025-10-06 00:10:34,894 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:10:34,894 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:10:34,894 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347D630>
2025-10-06 00:10:34,895 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:10:34,896 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:10:34,896 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:10:34,897 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:10:34,898 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:10:34,898 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:10:34,898 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:10:34,898 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:10:34,898 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:10:34,899 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:10:34,899 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8
2025-10-06 00:10:34,899 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:10:34,900 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE060>, 1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8
2025-10-06 00:10:34,900 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8
2025-10-06 00:10:34,900 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:10:34,901 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE060>, 1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8
2025-10-06 00:10:34,901 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8
2025-10-06 00:10:34,902 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:10:34,902 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE060>, 1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8
2025-10-06 00:10:34,902 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8
2025-10-06 00:10:34,903 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:10:34,903 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE060>, 1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8
2025-10-06 00:11:18,895 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Способ получения бидисперсных порошковых смесей: -
Получение смесей из порошков существенно разных размеров: -
Использование метода самораспространяющегося высокотемпературного синтеза (СВС): -
Подготовка смеси компонентов: +
Смешение нитрата металла и топливного компонента: -
Использование нитрата металла в качестве окислителя: -
Использование топливного компонента в качестве восстановителя: -
Использование глицерина в качестве топливного компонента: -
Использование тиомочевины в качестве топливного компонента: -
Использование этиленгликоля в качестве топливного компонента: -
Пропитка предварительно приготовленного порошка микронных размеров подготовленной смесью: -
Использование порошка микронных размеров на основе оксидов: -
Равномерное распределение реагентов на поверхности частиц порошка: -
Формирование однородной бидисперсной смеси: -
Удаление воды из раствора выпариванием: -
Удаление воды из раствора сушкой: -
Образование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка: -
Нагревание сухой смеси до определенной температуры: -
Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом: -
Экзотермический характер окислительно-восстановительной реакции: -
Самораспространяющийся характер процесса горения: -
Поддержание процесса горения за счет выделяемой энергии: -
Образование продукта в виде нанопорошка оксида металла: -
Формирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ): -
Получение бидисперсной системы, состоящей из микропорошка и нанопорошка: -
Более равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением: -
Способ получения смесевого твердого топлива с металлическим горючим: -
Механическое перемешивание компонентов: -
Использование металлического горючего в виде бидисперсной смеси порошков: -
Использование порошка алюминия микронных размеров: -
Использование нанопорошка алюминия: -
Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%: -
Перемешивание бидисперсной смеси до осредненного состояния: -
Введение бидисперсной смеси в количестве 10-25 мас.%: -
Введение бидисперсной смеси в полностью перемешанную смесь других компонентов: -
Дополнительное перемешивание полученной массы в течение не менее 30 мин: -
Вакуумирование полученной массы в течение не менее 30 мин: -
Использование перхлората аммония в качестве окислителя: -
Использование нитрата аммония в качестве окислителя: -
Использование смешанного окислителя, включающего нитрат аммония и нитрамин: -
2025-10-06 00:11:18,898 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8
2025-10-06 00:11:18,898 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8, message: {'status': 'completed', 'message': 'Способ получения бидисперсных порошковых смесей: -\nПолучение смесей из порошков существенно разных размеров: -\nИспользование метода самораспространяющегося высокотемпературного синтеза (СВС): -\nПодготовка смеси компонентов: +\nСмешение нитрата металла и топливного компонента: -\nИспользование нитрата металла в качестве окислителя: -\nИспользование топливного компонента в качестве восстановителя: -\nИспользование глицерина в качестве топливного компонента: -\nИспользование тиомочевины в качестве топливного компонента: -\nИспользование этиленгликоля в качестве топливного компонента: -\nПропитка предварительно приготовленного порошка микронных размеров подготовленной смесью: -\nИспользование порошка микронных размеров на основе оксидов: -\nРавномерное распределение реагентов на поверхности частиц порошка: -\nФормирование однородной бидисперсной смеси: -\nУдаление воды из раствора выпариванием: -\nУдаление воды из раствора сушкой: -\nОбразование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка: -\nНагревание сухой смеси до определенной температуры: -\nИнициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом: -\nЭкзотермический характер окислительно-восстановительной реакции: -\nСамораспространяющийся характер процесса горения: -\nПоддержание процесса горения за счет выделяемой энергии: -\nОбразование продукта в виде нанопорошка оксида металла: -\nФормирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ): -\nПолучение бидисперсной системы, состоящей из микропорошка и нанопорошка: -\nБолее равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением: -\nСпособ получения смесевого твердого топлива с металлическим горючим: -\nМеханическое перемешивание компонентов: -\nИспользование металлического горючего в виде бидисперсной смеси порошков: -\nИспользование порошка алюминия микронных размеров: -\nИспользование нанопорошка алюминия: -\nСоотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%: -\nПеремешивание бидисперсной смеси до осредненного состояния: -\nВведение бидисперсной смеси в количестве 10-25 мас.%: -\nВведение бидисперсной смеси в полностью перемешанную смесь других компонентов: -\nДополнительное перемешивание полученной массы в течение не менее 30 мин: -\nВакуумирование полученной массы в течение не менее 30 мин: -\nИспользование перхлората аммония в качестве окислителя: -\nИспользование нитрата аммония в качестве окислителя: -\nИспользование смешанного окислителя, включающего нитрат аммония и нитрамин: -', 'stage': 'completed'}
2025-10-06 00:11:18,900 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE060>, 1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8
2025-10-06 00:11:18,911 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684
2025-10-06 00:11:18,911 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684 создан новый список соединений
2025-10-06 00:11:18,912 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684: 1
2025-10-06 00:11:18,912 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684 содержит 0 сообщений
2025-10-06 00:11:18,912 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:11:18,912 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8: 1 соединений
2025-10-06 00:11:18,912 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684: 1 соединений
2025-10-06 00:11:18,913 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684 содержит 0 сообщений
2025-10-06 00:11:18,913 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684
2025-10-06 00:11:18,913 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684 connected successfully
2025-10-06 00:11:18,913 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8 disconnected
2025-10-06 00:11:18,914 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:11:18,914 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684: 1 соединений
2025-10-06 00:11:18,914 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:9c863fcc-9c37-4ee9-a76f-f44713b89ea8 cleanup completed
2025-10-06 00:11:18,916 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:11:18,916 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:11:18,917 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:11:18,917 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:11:18,918 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:11:18,918 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:11:18,919 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:11:18,919 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CEC0>
2025-10-06 00:11:18,920 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:11:18,921 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CEC0>
2025-10-06 00:11:18,922 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:11:18,922 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:11:18,923 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CEC0>
2025-10-06 00:11:18,939 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:11:18,940 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:11:18,941 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:11:18,942 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:11:18,943 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:11:18,943 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:11:18,943 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:11:18,944 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:11:18,944 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:11:18,944 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:11:18,945 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684
2025-10-06 00:11:18,945 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:11:18,946 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFD10>, 1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684
2025-10-06 00:11:18,946 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684
2025-10-06 00:11:18,947 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:11:18,948 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFD10>, 1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684
2025-10-06 00:11:18,948 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684
2025-10-06 00:11:18,948 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:11:18,949 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFD10>, 1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684
2025-10-06 00:11:18,953 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684
2025-10-06 00:11:18,953 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:11:18,953 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFD10>, 1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684
2025-10-06 00:12:00,909 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего: -
Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего: -
Способ получения порошковой смеси бидисперсных керамических и металлических частиц: -
Перемешивание порошков в жидкой среде: -
Двухэтапное перемешивание: -
Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды: -
Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1: -
Перемешивание керамических наночастиц в жидкой среде на первом этапе: -
Длительность перемешивания на первом этапе не менее 15 минут: -
Добавление металлических микрочастиц на втором этапе: -
Перемешивание полученной смеси на втором этапе: -
Длительность перемешивания на втором этапе не менее 15 минут: -
Удаление жидкости после перемешивания: -
Удаление жидкости в сушильном шкафу: -
Температура удаления жидкости не менее 80°C: -
Длительность удаления жидкости не менее 24 часов: -
Использование керамических наночастиц: -
Диаметр керамических наночастиц от 30 до 140 нм: -
Использование металлических микрочастиц: -
Диаметр металлических микрочастиц от 20 до 180 мкм: -
Массовое соотношение порошков и жидкости 1/2: -
Массовое соотношение наночастиц и микрочастиц 1/19: -
Способ получения дифениламина: -
Термическая обработка анилина: -
Проведение термической обработки в присутствии катализатора: -
Использование алюмооксидного катализатора: -
Катализатор кислого характера: -
Получение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде: -
Использование азотной кислоты при получении катализатора: -
Пластификация катализатора: -
Формование катализатора: -
Сушка катализатора: -
Прокаливание катализатора при повышенной температуре: -
Катализатор с бидисперсной пористой структурой: -
Суммарный объем пор катализатора равен или более 0,45 см³/г: -
Объем пор катализатора с радиусом более равен или более 0,27 см³/г: -
Удельная поверхность катализатора не менее 200 м²/г: -
Получение катализатора из термо- или термомеханохимически активированного гидроксида алюминия: -
Смешивание активированного гидроксида алюминия с ортофосфорной кислотой: -
Проведение пластификации при кислотном модуле 0,02 - 0,07: -
2025-10-06 00:12:00,911 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684
2025-10-06 00:12:00,911 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684, message: {'status': 'completed', 'message': 'Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего: -\nИспользование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего: -\nСпособ получения порошковой смеси бидисперсных керамических и металлических частиц: -\nПеремешивание порошков в жидкой среде: -\nДвухэтапное перемешивание: -\nИспользование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды: -\nМассовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1: -\nПеремешивание керамических наночастиц в жидкой среде на первом этапе: -\nДлительность перемешивания на первом этапе не менее 15 минут: -\nДобавление металлических микрочастиц на втором этапе: -\nПеремешивание полученной смеси на втором этапе: -\nДлительность перемешивания на втором этапе не менее 15 минут: -\nУдаление жидкости после перемешивания: -\nУдаление жидкости в сушильном шкафу: -\nТемпература удаления жидкости не менее 80°C: -\nДлительность удаления жидкости не менее 24 часов: -\nИспользование керамических наночастиц: -\nДиаметр керамических наночастиц от 30 до 140 нм: -\nИспользование металлических микрочастиц: -\nДиаметр металлических микрочастиц от 20 до 180 мкм: -\nМассовое соотношение порошков и жидкости 1/2: -\nМассовое соотношение наночастиц и микрочастиц 1/19: -\nСпособ получения дифениламина: -\nТермическая обработка анилина: -\nПроведение термической обработки в присутствии катализатора: -\nИспользование алюмооксидного катализатора: -\nКатализатор кислого характера: -\nПолучение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде: -\nИспользование азотной кислоты при получении катализатора: -\nПластификация катализатора: -\nФормование катализатора: -\nСушка катализатора: -\nПрокаливание катализатора при повышенной температуре: -\nКатализатор с бидисперсной пористой структурой: -\nСуммарный объем пор катализатора равен или более 0,45 см³/г: -\nОбъем пор катализатора с радиусом более равен или более 0,27 см³/г: -\nУдельная поверхность катализатора не менее 200 м²/г: -\nПолучение катализатора из термо- или термомеханохимически активированного гидроксида алюминия: -\nСмешивание активированного гидроксида алюминия с ортофосфорной кислотой: -\nПроведение пластификации при кислотном модуле 0,02 - 0,07: -', 'stage': 'completed'}
2025-10-06 00:12:00,913 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFD10>, 1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684
2025-10-06 00:12:00,928 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684 disconnected
2025-10-06 00:12:00,928 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:12:00,928 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:5410f8a4-ed01-4ffe-b221-5b7f3295d684 cleanup completed
2025-10-06 00:12:00,929 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd
2025-10-06 00:12:00,930 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd создан новый список соединений
2025-10-06 00:12:00,930 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd: 1
2025-10-06 00:12:00,930 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd содержит 0 сообщений
2025-10-06 00:12:00,930 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:12:00,931 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd: 1 соединений
2025-10-06 00:12:00,931 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd содержит 0 сообщений
2025-10-06 00:12:00,932 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd
2025-10-06 00:12:00,932 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd connected successfully
2025-10-06 00:12:00,933 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:12:00,935 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:12:00,936 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:12:00,936 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:12:00,937 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:12:00,937 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:12:00,937 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:12:00,938 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FE70>
2025-10-06 00:12:00,938 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:12:00,938 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FE70>
2025-10-06 00:12:00,939 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:12:00,939 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:12:00,940 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FE70>
2025-10-06 00:12:00,940 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:12:00,941 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:12:00,942 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:12:00,944 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:12:00,944 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:12:00,945 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:12:00,945 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:12:00,945 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:12:00,946 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:12:00,946 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:12:00,946 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd
2025-10-06 00:12:00,947 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:12:00,947 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF380>, 1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd
2025-10-06 00:12:00,948 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd
2025-10-06 00:12:00,948 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:12:00,949 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF380>, 1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd
2025-10-06 00:12:00,949 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd
2025-10-06 00:12:00,950 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:12:00,950 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF380>, 1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd
2025-10-06 00:12:00,951 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd
2025-10-06 00:12:00,951 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:12:00,952 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF380>, 1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd
2025-10-06 00:12:54,235 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Провяливание катализатора на воздухе не менее 12 часов перед сушкой: -
Сушка катализатора при 100 °C не менее 12 часов после провяливания: -
Прокаливание катализатора при 500 °C после сушки: -
Гранулированный наноструктурированный алюмооксидный катализатор: -
Содержание натрия в катализаторе от 0,005 до 0,02 мас.%: -
Содержание серы в катализатора от 0 до 5 мас.%: -
Содержание фосфора в катализаторе от 0 до 2,8 мас.%: -
Содержание хлора в катализаторе от 0 до 2,6 мас.%: -
Бидисперсная пористая структура катализатора: +
Объем микропор катализатора от 0,06 до 0,18 см³/г: -
Объем мезопор катализатора от 0,2 до 0,32 см³/г: -
Суммарный объем пор катализатора от 0,25 до 0,55 см³/г: -
Средний диаметр пор катализатора от 3 до 5,5 нм: -
Удельная поверхность катализатора от 200 до 350 м²/г: -
Оксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы: -
Суммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%: -
Содержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%: -
Форма гранул катализатора - цилиндр диаметром 3-5 мм: -
Форма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм: -
Способ приготовления катализатора, включающий термическую активацию гидраргиллита: -
Гидратация продуктов термической активации гидраргиллита в кислом растворе: -
Отмывка продуктов гидратации от примесных ионов: -
Введение модифицирующих добавок на стадии пластификации: -
Формование в гранулы методом экструзии: -
Проведение термической обработки сформированных гранул: -
Отмывка продуктов гидратации дистиллированной водой: -
Отмывка продуктов гидратации слабыми растворами серной кислоты: -
Отмывка продуктов гидратации слабыми растворами азотной кислоты: -
Использование растворов серной кислоты для пластификации гидроксида алюминия: -
Использование растворов соляной кислоты для пластификации гидроксида алюминия: -
Использование растворов ортофосфорной кислоты для пластификации гидроксида алюминия: -
Использование растворов азотной кислоты для пластификации гидроксида алюминия: -
Модифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃: -
Модифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃: -
Модифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃: -
Модифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃: -
Использование продукта центробежной термической активации гидраргиллита: -
Использование термоактивированного гидроксида алюминия: -
Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С: -
Способ получения этилена путем дегидратации этанола: -
2025-10-06 00:12:54,237 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd
2025-10-06 00:12:54,238 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd, message: {'status': 'completed', 'message': 'Провяливание катализатора на воздухе не менее 12 часов перед сушкой: -\nСушка катализатора при 100 °C не менее 12 часов после провяливания: -\nПрокаливание катализатора при 500 °C после сушки: -\nГранулированный наноструктурированный алюмооксидный катализатор: -\nСодержание натрия в катализаторе от 0,005 до 0,02 мас.%: -\nСодержание серы в катализатора от 0 до 5 мас.%: -\nСодержание фосфора в катализаторе от 0 до 2,8 мас.%: -\nСодержание хлора в катализаторе от 0 до 2,6 мас.%: -\nБидисперсная пористая структура катализатора: +\nОбъем микропор катализатора от 0,06 до 0,18 см³/г: -\nОбъем мезопор катализатора от 0,2 до 0,32 см³/г: -\nСуммарный объем пор катализатора от 0,25 до 0,55 см³/г: -\nСредний диаметр пор катализатора от 3 до 5,5 нм: -\nУдельная поверхность катализатора от 200 до 350 м²/г: -\nОксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы: -\nСуммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%: -\nСодержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%: -\nФорма гранул катализатора - цилиндр диаметром 3-5 мм: -\nФорма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм: -\nСпособ приготовления катализатора, включающий термическую активацию гидраргиллита: -\nГидратация продуктов термической активации гидраргиллита в кислом растворе: -\nОтмывка продуктов гидратации от примесных ионов: -\nВведение модифицирующих добавок на стадии пластификации: -\nФормование в гранулы методом экструзии: -\nПроведение термической обработки сформированных гранул: -\nОтмывка продуктов гидратации дистиллированной водой: -\nОтмывка продуктов гидратации слабыми растворами серной кислоты: -\nОтмывка продуктов гидратации слабыми растворами азотной кислоты: -\nИспользование растворов серной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов соляной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов ортофосфорной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов азотной кислоты для пластификации гидроксида алюминия: -\nМодифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃: -\nМодифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃: -\nМодифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃: -\nМодифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃: -\nИспользование продукта центробежной термической активации гидраргиллита: -\nИспользование термоактивированного гидроксида алюминия: -\nПроведение термической обработки гранул гидроксида алюминия при температуре 500-550°С: -\nСпособ получения этилена путем дегидратации этанола: -', 'stage': 'completed'}
2025-10-06 00:12:54,242 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF380>, 1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd
2025-10-06 00:12:54,260 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd disconnected
2025-10-06 00:12:54,261 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:12:54,262 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:4bc70382-8a76-48cd-a5c8-c18f166eb1cd cleanup completed
2025-10-06 00:12:54,266 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:12:54,266 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a
2025-10-06 00:12:54,267 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a создан новый список соединений
2025-10-06 00:12:54,267 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a: 1
2025-10-06 00:12:54,267 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a содержит 0 сообщений
2025-10-06 00:12:54,267 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:12:54,268 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a: 1 соединений
2025-10-06 00:12:54,268 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a содержит 0 сообщений
2025-10-06 00:12:54,268 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a
2025-10-06 00:12:54,269 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a connected successfully
2025-10-06 00:12:54,271 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:12:54,273 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:12:54,274 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:12:54,275 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:12:54,275 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:12:54,276 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:12:54,277 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347E4A0>
2025-10-06 00:12:54,277 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:12:54,277 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347E4A0>
2025-10-06 00:12:54,278 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:12:54,278 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:12:54,279 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347E4A0>
2025-10-06 00:12:54,279 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:12:54,280 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:12:54,281 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:12:54,283 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:12:54,283 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:12:54,284 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:12:54,284 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:12:54,285 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:12:54,285 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:12:54,285 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:12:54,286 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a
2025-10-06 00:12:54,286 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:12:54,287 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFD10>, 1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a
2025-10-06 00:12:54,287 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a
2025-10-06 00:12:54,288 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:12:54,289 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFD10>, 1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a
2025-10-06 00:12:54,290 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a
2025-10-06 00:12:54,290 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:12:54,292 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFD10>, 1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a
2025-10-06 00:12:54,292 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a
2025-10-06 00:12:54,293 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:12:54,294 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFD10>, 1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a
2025-10-06 00:13:38,469 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора: -
Проведение процесса получения этилена при температуре 350-450°С: -
Проведение процесса получения этилена при времени контакта 0.2-4.0 с: -
Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов: -
Содержание палладия в катализаторе 0,01÷1,0 мас.%: -
Размер частиц палладия от 1,5 до 20 нм: -
Нанесение активного компонента (палладия) на бидисперсный силикагель: -
Содержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%: -
Удельная поверхность бидисперсного силикагеля 150÷350 м²/г: -
Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г: -
Отсутствие микропор в бидисперсном силикагеле: -
Объем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г: -
Объем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г: -
Способ приготовления палладиевого катализатора: -
Использование предварительно высушенного носителя: -
Пропитка носителя водным раствором стабилизированного нитрата палладия: -
Пропитка носителя раствором стабилизированного нитрата палладия при определенных рН: -
Сушка катализатора после пропитки: -
Прокаливание катализатора на воздухе после сушки: -
Восстановление катализатора в потоке водородсодержащего газа после прокаливания: -
Добавление лимонной кислоты в пропиточные растворы: -
Предотвращение агломерации палладийсодержащих частиц на поверхности носителя: -
Регулирование рН пропиточных растворов без введения катионов щелочных металлов: -
Регулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида: -
Способ очистки олефинов от примесей полиненасыщенных углеводородов: -
Очистка путем каталитического гидрирования: -
Гидрирование при повышенных температурах: -
Гидрирование при атмосферном давлении: -
Гидрирование при температуре 50-200°С: -
Гидрирование при объемной скорости 10000-20000 ч⁻¹: -
Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой: -
Использование гидроксида алюминия в виде гидратированного соединения: -
Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия: -
Содержание в гидратированном соединении до 10% гиббсита: -
Размол гидроксида алюминия до частиц размером менее 20 мкм: -
Количество частиц размером менее 20 мкм после размола более 70%: -
Смешивание размолотого гидроксида алюминия с водой: -
Проведение смешивания в присутствии азотной кислоты: -
Проведение пластификации полученной смеси: -
Формование гранул из пластифицированного продукта: -
2025-10-06 00:13:38,471 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a
2025-10-06 00:13:38,472 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a, message: {'status': 'completed', 'message': 'Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора: -\nПроведение процесса получения этилена при температуре 350-450°С: -\nПроведение процесса получения этилена при времени контакта 0.2-4.0 с: -\nКатализатор для очистки олефинов от примесей полиненасыщенных углеводородов: -\nСодержание палладия в катализаторе 0,01÷1,0 мас.%: -\nРазмер частиц палладия от 1,5 до 20 нм: -\nНанесение активного компонента (палладия) на бидисперсный силикагель: -\nСодержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%: -\nУдельная поверхность бидисперсного силикагеля 150÷350 м²/г: -\nОбщий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г: -\nОтсутствие микропор в бидисперсном силикагеле: -\nОбъем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г: -\nОбъем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г: -\nСпособ приготовления палладиевого катализатора: -\nИспользование предварительно высушенного носителя: -\nПропитка носителя водным раствором стабилизированного нитрата палладия: -\nПропитка носителя раствором стабилизированного нитрата палладия при определенных рН: -\nСушка катализатора после пропитки: -\nПрокаливание катализатора на воздухе после сушки: -\nВосстановление катализатора в потоке водородсодержащего газа после прокаливания: -\nДобавление лимонной кислоты в пропиточные растворы: -\nПредотвращение агломерации палладийсодержащих частиц на поверхности носителя: -\nРегулирование рН пропиточных растворов без введения катионов щелочных металлов: -\nРегулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида: -\nСпособ очистки олефинов от примесей полиненасыщенных углеводородов: -\nОчистка путем каталитического гидрирования: -\nГидрирование при повышенных температурах: -\nГидрирование при атмосферном давлении: -\nГидрирование при температуре 50-200°С: -\nГидрирование при объемной скорости 10000-20000 ч⁻¹: -\nСпособ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой: -\nИспользование гидроксида алюминия в виде гидратированного соединения: -\nСодержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия: -\nСодержание в гидратированном соединении до 10% гиббсита: -\nРазмол гидроксида алюминия до частиц размером менее 20 мкм: -\nКоличество частиц размером менее 20 мкм после размола более 70%: -\nСмешивание размолотого гидроксида алюминия с водой: -\nПроведение смешивания в присутствии азотной кислоты: -\nПроведение пластификации полученной смеси: -\nФормование гранул из пластифицированного продукта: -', 'stage': 'completed'}
2025-10-06 00:13:38,474 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFD10>, 1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a
2025-10-06 00:13:38,494 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a disconnected
2025-10-06 00:13:38,495 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:13:38,495 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:47e9dbc8-e06e-4282-8c21-e41c1750735a cleanup completed
2025-10-06 00:13:38,497 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c
2025-10-06 00:13:38,498 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c создан новый список соединений
2025-10-06 00:13:38,498 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c: 1
2025-10-06 00:13:38,499 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c содержит 0 сообщений
2025-10-06 00:13:38,499 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:13:38,500 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c: 1 соединений
2025-10-06 00:13:38,500 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c содержит 0 сообщений
2025-10-06 00:13:38,501 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c
2025-10-06 00:13:38,501 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c connected successfully
2025-10-06 00:13:38,503 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:13:38,505 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:13:38,506 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:13:38,507 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:13:38,507 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:13:38,508 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:13:38,508 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:13:38,509 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D320>
2025-10-06 00:13:38,509 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:13:38,510 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D320>
2025-10-06 00:13:38,510 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:13:38,510 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:13:38,511 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D320>
2025-10-06 00:13:38,511 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:13:38,513 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:13:38,514 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:13:38,516 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:13:38,516 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:13:38,517 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:13:38,517 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:13:38,518 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:13:38,518 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:13:38,518 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:13:38,519 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c
2025-10-06 00:13:38,519 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:13:38,520 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF6E0>, 1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c
2025-10-06 00:13:38,521 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c
2025-10-06 00:13:38,521 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:13:38,522 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF6E0>, 1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c
2025-10-06 00:13:38,522 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c
2025-10-06 00:13:38,523 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:13:38,524 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF6E0>, 1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c
2025-10-06 00:13:38,524 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c
2025-10-06 00:13:38,525 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:13:38,525 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF6E0>, 1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c
2025-10-06 00:14:27,787 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Формование гранул в слое керосина: -
Формование гранул в водном растворе аммиака: -
Сушка полученных гранул: -
Прокаливание полученных гранул: -
Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л: -
Промывка гранул после прокаливания водой: -
Значение pH воды для промывки от 6 до 9: -
Время промывки 15 минут: -
Проведение термообработки промытых гранул: -
Температура термообработки 250 °C: -
Каталитический реактор трубчатого типа: -
Проведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C: -
Реактор содержит корпус: -
Реактор содержит трубные решетки: -
Реактор содержит устройства для ввода реагентов: -
Реактор содержит устройства для вывода реагентов: -
Реактор содержит устройства для ввода хладагентов: -
Реактор содержит устройства для вывода хладагентов: -
Реактор содержит каталитически активные теплообменные трубки: -
Соединение каталитически активных теплообменных трубок с трубными решетками: -
Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки: -
Нанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок: -
Слой каталитически активного армированного порометаллического материала образован плоскими лентами: -
Слой каталитически активного армированного порометаллического материала образован гофрированными лентами: -
Создание бидисперсной структуры нанесенного на поверхность трубки слоя: -
Толщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм: -
Равномерное нанесение слоя катализатора по длине трубки: -
Неравномерное нанесение слоя катализатора по длине трубки: -
Способ осуществления сильно экзотермических реакций: -
Подача реагирующей смеси стехиометрического состава в межтрубное пространство: -
Подача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство: -
Образование межтрубного пространства каталитически активными теплообменными трубками: -
Подача хладоагента внутрь каталитически активных теплообменных трубок: -
Способ получения пористого железо-калиевооксидного композита: +
Приготовление шихты: +
Шихта содержит кристаллогидрат нитрата железа: +
Шихта содержит кристаллогидрат нитрата церия: +
Шихта содержит нитрат калия: +
Шихта содержит оксид молибдена: +
Шихта содержит оксид титана: +
2025-10-06 00:14:27,793 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c
2025-10-06 00:14:27,794 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c, message: {'status': 'completed', 'message': 'Формование гранул в слое керосина: -\nФормование гранул в водном растворе аммиака: -\nСушка полученных гранул: -\nПрокаливание полученных гранул: -\nСмешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л: -\nПромывка гранул после прокаливания водой: -\nЗначение pH воды для промывки от 6 до 9: -\nВремя промывки 15 минут: -\nПроведение термообработки промытых гранул: -\nТемпература термообработки 250 °C: -\nКаталитический реактор трубчатого типа: -\nПроведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C: -\nРеактор содержит корпус: -\nРеактор содержит трубные решетки: -\nРеактор содержит устройства для ввода реагентов: -\nРеактор содержит устройства для вывода реагентов: -\nРеактор содержит устройства для ввода хладагентов: -\nРеактор содержит устройства для вывода хладагентов: -\nРеактор содержит каталитически активные теплообменные трубки: -\nСоединение каталитически активных теплообменных трубок с трубными решетками: -\nКаталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки: -\nНанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок: -\nСлой каталитически активного армированного порометаллического материала образован плоскими лентами: -\nСлой каталитически активного армированного порометаллического материала образован гофрированными лентами: -\nСоздание бидисперсной структуры нанесенного на поверхность трубки слоя: -\nТолщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм: -\nРавномерное нанесение слоя катализатора по длине трубки: -\nНеравномерное нанесение слоя катализатора по длине трубки: -\nСпособ осуществления сильно экзотермических реакций: -\nПодача реагирующей смеси стехиометрического состава в межтрубное пространство: -\nПодача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство: -\nОбразование межтрубного пространства каталитически активными теплообменными трубками: -\nПодача хладоагента внутрь каталитически активных теплообменных трубок: -\nСпособ получения пористого железо-калиевооксидного композита: +\nПриготовление шихты: +\nШихта содержит кристаллогидрат нитрата железа: +\nШихта содержит кристаллогидрат нитрата церия: +\nШихта содержит нитрат калия: +\nШихта содержит оксид молибдена: +\nШихта содержит оксид титана: +', 'stage': 'completed'}
2025-10-06 00:14:27,800 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF6E0>, 1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c
2025-10-06 00:14:27,827 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c disconnected
2025-10-06 00:14:27,827 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:14:27,828 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:9f85e295-60ad-4656-a584-6ee3db4a964c cleanup completed
2025-10-06 00:14:27,830 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:14:27,831 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0
2025-10-06 00:14:27,832 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0 создан новый список соединений
2025-10-06 00:14:27,833 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0: 1
2025-10-06 00:14:27,833 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0 содержит 0 сообщений
2025-10-06 00:14:27,834 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:14:27,834 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0: 1 соединений
2025-10-06 00:14:27,835 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0 содержит 0 сообщений
2025-10-06 00:14:27,835 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0
2025-10-06 00:14:27,836 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0 connected successfully
2025-10-06 00:14:27,838 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:14:27,840 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:14:27,841 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:14:27,841 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:14:27,842 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:14:27,842 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:14:27,843 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C670>
2025-10-06 00:14:27,843 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:14:27,844 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C670>
2025-10-06 00:14:27,844 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:14:27,845 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:14:27,845 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C670>
2025-10-06 00:14:27,846 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:14:27,847 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:14:27,848 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:14:27,850 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:14:27,851 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:14:27,851 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:14:27,852 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:14:27,852 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:14:27,853 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:14:27,853 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:14:27,854 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0
2025-10-06 00:14:27,854 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:14:27,855 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF6E0>, 1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0
2025-10-06 00:14:27,855 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0
2025-10-06 00:14:27,856 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:14:27,857 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF6E0>, 1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0
2025-10-06 00:14:27,857 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0
2025-10-06 00:14:27,858 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:14:27,858 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF6E0>, 1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0
2025-10-06 00:14:27,859 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0
2025-10-06 00:14:27,859 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:14:27,860 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF6E0>, 1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0
2025-10-06 00:15:19,101 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Шихта содержит карбонат кальция: +
Шихта содержит тетраэтоксисилан: +
Компоненты шихты взяты в стехиометрическом соотношении: +
Импрегнирование в шихту выгорающей микродобавки: +
Импрегнирование продуктами гидролиза солей: +
Получение продуктов гидролиза солей способом соосаждения: +
Получение продуктов гидролиза солей способом золь-гель: +
Использование диоксанлигнина березы в качестве выгорающей микродобавки: +
Количество выгорающей микродобавки 0,125-0,250 мас.%: +
Формование образцов композита методом полусухого прессования: +
Проведение обжига: +
Обжиг в интервале температур 20-700°С: +
Скорость нагрева при обжиге 10°/мин: +
Изотермическая выдержка при обжиге в течение 3 часов: +
Формирование бидисперсной структуры в композите: +
Пористый железо-калиевооксидный композит: +
Композит содержит фазу оксида железа α-Fe2O3: +
Композит содержит фазу оксида церия CeO2: +
Композит содержит фазу молибдата калия K2MoO4: +
Композит содержит фазу феррита калия состава KFeO2: +
Композит содержит фазу феррита калия состава KFe11O17: +
Композит имеет бидисперсную структуру: +
Общий объем пор композита от 0,006 до 0,013 см3/г: +
Диаметр мезопор композита от 16 до 40 нм: +
Диаметр макропор композита от 75 до 130 нм: +
Удельная поверхность композита от 2 до 5 м2/г: +
Способ получения пористых порошковых материалов: -
Нанесение на частицы порообразователя связующего: -
Смешивание частиц порообразователя со связующим с порошком: -
Формование шихты: -
Спекание шихты: -
Использование металлического порошка при смешивании: -
Использование керамического порошка при смешивании: -
Нанесение на частицы порообразователя не менее двух слоев керамического порошка: -
Нанесение на частицы порообразователя не более пяти слоев керамического порошка: -
Нанесение органического связющего при нанесении первого слоя керамического порошка: -
Использование неорганического связующего при нанесении второго слоя керамического порошка: -
Использование неорганического связующего при нанесении последующих слоев керамического порошка: -
Использование гранул пенополистирола в качестве частиц порообразователя: -
Использование частиц порообразователя с размером в диапазоне 0,5-1 мм: -
2025-10-06 00:15:19,105 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0
2025-10-06 00:15:19,106 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0, message: {'status': 'completed', 'message': 'Шихта содержит карбонат кальция: +\nШихта содержит тетраэтоксисилан: +\nКомпоненты шихты взяты в стехиометрическом соотношении: +\nИмпрегнирование в шихту выгорающей микродобавки: +\nИмпрегнирование продуктами гидролиза солей: +\nПолучение продуктов гидролиза солей способом соосаждения: +\nПолучение продуктов гидролиза солей способом золь-гель: +\nИспользование диоксанлигнина березы в качестве выгорающей микродобавки: +\nКоличество выгорающей микродобавки 0,125-0,250 мас.%: +\nФормование образцов композита методом полусухого прессования: +\nПроведение обжига: +\nОбжиг в интервале температур 20-700°С: +\nСкорость нагрева при обжиге 10°/мин: +\nИзотермическая выдержка при обжиге в течение 3 часов: +\nФормирование бидисперсной структуры в композите: +\nПористый железо-калиевооксидный композит: +\nКомпозит содержит фазу оксида железа α-Fe2O3: +\nКомпозит содержит фазу оксида церия CeO2: +\nКомпозит содержит фазу молибдата калия K2MoO4: +\nКомпозит содержит фазу феррита калия состава KFeO2: +\nКомпозит содержит фазу феррита калия состава KFe11O17: +\nКомпозит имеет бидисперсную структуру: +\nОбщий объем пор композита от 0,006 до 0,013 см3/г: +\nДиаметр мезопор композита от 16 до 40 нм: +\nДиаметр макропор композита от 75 до 130 нм: +\nУдельная поверхность композита от 2 до 5 м2/г: +\nСпособ получения пористых порошковых материалов: -\nНанесение на частицы порообразователя связующего: -\nСмешивание частиц порообразователя со связующим с порошком: -\nФормование шихты: -\nСпекание шихты: -\nИспользование металлического порошка при смешивании: -\nИспользование керамического порошка при смешивании: -\nНанесение на частицы порообразователя не менее двух слоев керамического порошка: -\nНанесение на частицы порообразователя не более пяти слоев керамического порошка: -\nНанесение органического связющего при нанесении первого слоя керамического порошка: -\nИспользование неорганического связующего при нанесении второго слоя керамического порошка: -\nИспользование неорганического связующего при нанесении последующих слоев керамического порошка: -\nИспользование гранул пенополистирола в качестве частиц порообразователя: -\nИспользование частиц порообразователя с размером в диапазоне 0,5-1 мм: -', 'stage': 'completed'}
2025-10-06 00:15:19,109 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF6E0>, 1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0
2025-10-06 00:15:19,127 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0 disconnected
2025-10-06 00:15:19,128 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:15:19,128 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:29b3a61d-4a8c-49e7-b9c7-cfbf9e7039d0 cleanup completed
2025-10-06 00:15:19,131 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07
2025-10-06 00:15:19,131 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07 создан новый список соединений
2025-10-06 00:15:19,132 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07: 1
2025-10-06 00:15:19,132 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07 содержит 0 сообщений
2025-10-06 00:15:19,133 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:15:19,133 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07: 1 соединений
2025-10-06 00:15:19,134 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07 содержит 0 сообщений
2025-10-06 00:15:19,135 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07
2025-10-06 00:15:19,136 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07 connected successfully
2025-10-06 00:15:19,137 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:15:19,138 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:15:19,139 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:15:19,140 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:15:19,141 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:15:19,142 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:15:19,142 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:15:19,143 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C7C0>
2025-10-06 00:15:19,144 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:15:19,144 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C7C0>
2025-10-06 00:15:19,144 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:15:19,145 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:15:19,145 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C7C0>
2025-10-06 00:15:19,146 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:15:19,147 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:15:19,149 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:15:19,152 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:15:19,152 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:15:19,152 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:15:19,153 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:15:19,153 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:15:19,154 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:15:19,155 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:15:19,155 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07
2025-10-06 00:15:19,156 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:15:19,159 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07
2025-10-06 00:15:19,159 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07
2025-10-06 00:15:19,160 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:15:19,160 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07
2025-10-06 00:15:19,161 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07
2025-10-06 00:15:19,161 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:15:19,162 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07
2025-10-06 00:15:19,163 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07
2025-10-06 00:15:19,163 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:15:19,164 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07
2025-10-06 00:15:40,350 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Использование водно-дисперсионного полиуретанового лака в качестве органического связующего: -
Использование водного раствора силиката натрия в качестве неорганического связующего: -
Способ соединения крупногабаритных порошковых деталей: -
Приготовление шихты на основе железа: +
Прессование деталей: +
Нанесение на соединяемые поверхности слоя шликера на основе порошка железа: -
Сборка деталей: -
Размещение пропитывающих брикетов на основе меди: -
Проведение спекания с одновременной инфильтрацией: -
Приготовление шликера из бидисперсных порошков: -
Расположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями: -
Нанесение слоя шликера на поверхность соединяемых деталей: -
Нанесение слоя шликера на поверхность непроницаемой перегородки: -
Размещение пропитывающих брикетов сверху сборки: -
Размещение пропитывающих брикетов снизу сборки: -
2025-10-06 00:15:40,351 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07
2025-10-06 00:15:40,352 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07, message: {'status': 'completed', 'message': 'Использование водно-дисперсионного полиуретанового лака в качестве органического связующего: -\nИспользование водного раствора силиката натрия в качестве неорганического связующего: -\nСпособ соединения крупногабаритных порошковых деталей: -\nПриготовление шихты на основе железа: +\nПрессование деталей: +\nНанесение на соединяемые поверхности слоя шликера на основе порошка железа: -\nСборка деталей: -\nРазмещение пропитывающих брикетов на основе меди: -\nПроведение спекания с одновременной инфильтрацией: -\nПриготовление шликера из бидисперсных порошков: -\nРасположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями: -\nНанесение слоя шликера на поверхность соединяемых деталей: -\nНанесение слоя шликера на поверхность непроницаемой перегородки: -\nРазмещение пропитывающих брикетов сверху сборки: -\nРазмещение пропитывающих брикетов снизу сборки: -', 'stage': 'completed'}
2025-10-06 00:15:40,353 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07
2025-10-06 00:15:40,386 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07 disconnected
2025-10-06 00:15:40,387 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:15:40,388 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:b0537d3b-f87f-490c-bb5a-8f0f71f19c07 cleanup completed
2025-10-06 00:15:40,393 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab
2025-10-06 00:15:40,394 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab создан новый список соединений
2025-10-06 00:15:40,394 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab: 1
2025-10-06 00:15:40,394 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab содержит 0 сообщений
2025-10-06 00:15:40,395 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:15:40,395 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab: 1 соединений
2025-10-06 00:15:40,396 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab содержит 0 сообщений
2025-10-06 00:15:40,396 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab
2025-10-06 00:15:40,397 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab connected successfully
2025-10-06 00:15:40,399 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:15:40,401 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:15:40,402 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:15:40,403 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:15:40,403 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:15:40,404 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:15:40,404 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:15:40,405 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C980>
2025-10-06 00:15:40,405 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:15:40,406 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C980>
2025-10-06 00:15:40,406 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:15:40,406 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:15:40,407 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C980>
2025-10-06 00:15:40,407 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:15:40,408 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:15:40,409 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:15:40,411 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:15:40,411 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:15:40,412 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:15:40,412 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:15:40,412 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:15:40,430 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:15:40,431 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:15:40,432 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab
2025-10-06 00:15:40,432 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:15:40,433 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFC80>, 1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab
2025-10-06 00:15:40,433 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab
2025-10-06 00:15:40,434 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:15:40,435 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFC80>, 1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab
2025-10-06 00:15:40,435 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab
2025-10-06 00:15:40,436 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:15:40,437 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFC80>, 1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab
2025-10-06 00:15:40,438 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab
2025-10-06 00:15:40,438 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:15:40,439 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFC80>, 1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab
2025-10-06 00:16:29,397 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Способ получения бидисперсных порошковых смесей: -
Получение смесей из порошков существенно разных размеров: -
Использование метода самораспространяющегося высокотемпературного синтеза (СВС): -
Подготовка смеси компонентов: -
Смешение нитрата металла и топливного компонента: -
Использование нитрата металла в качестве окислителя: -
Использование топливного компонента в качестве восстановителя: -
Использование глицерина в качестве топливного компонента: -
Использование тиомочевины в качестве топливного компонента: -
Использование этиленгликоля в качестве топливного компонента: -
Пропитка предварительно приготовленного порошка микронных размеров подготовленной смесью: -
Использование порошка микронных размеров на основе оксидов: -
Равномерное распределение реагентов на поверхности частиц порошка: -
Формирование однородной бидисперсной смеси: -
Удаление воды из раствора выпариванием: -
Удаление воды из раствора сушкой: -
Образование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка: -
Нагревание сухой смеси до определенной температуры: -
Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом: -
Экзотермический характер окислительно-восстановительной реакции: -
Самораспространяющийся характер процесса горения: -
Поддержание процесса горения за счет выделяемой энергии: -
Образование продукта в виде нанопорошка оксида металла: -
Формирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ): -
Получение бидисперсной системы, состоящей из микропорошка и нанопорошка: -
Более равномерное распределение частиц нанопорошка по всем объему микропорошка по сравнению с традиционным смешением: -
Способ получения смесевого твердого топлива с металлическим горючим: -
Механическое перемешивание компонентов: -
Использование металлического горючего в виде бидисперсной смеси порошков: -
Использование порошка алюминия микронных размеров: -
Использование нанопорошка алюминия: -
Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%: -
Перемешивание бидисперсной смеси до осредненного состояния: -
Введение бидисперсной смеси в количестве 10-25 мас.%: -
Введение бидисперсной смеси в полностью перемешанную смесь других компонентов: -
Дополнительное перемешивание полученной массы в течение не менее 30 мин: -
Вакуумирование полученной массы в течение не менее 30 мин: -
Использование перхлората аммония в качестве окислителя: -
Использование нитрата аммония в качестве окислителя: -
Использование смешанного окислителя, включающего нитрат аммония и нитрамин: -
2025-10-06 00:16:29,399 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab
2025-10-06 00:16:29,399 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab, message: {'status': 'completed', 'message': 'Способ получения бидисперсных порошковых смесей: -\nПолучение смесей из порошков существенно разных размеров: -\nИспользование метода самораспространяющегося высокотемпературного синтеза (СВС): -\nПодготовка смеси компонентов: -\nСмешение нитрата металла и топливного компонента: -\nИспользование нитрата металла в качестве окислителя: -\nИспользование топливного компонента в качестве восстановителя: -\nИспользование глицерина в качестве топливного компонента: -\nИспользование тиомочевины в качестве топливного компонента: -\nИспользование этиленгликоля в качестве топливного компонента: -\nПропитка предварительно приготовленного порошка микронных размеров подготовленной смесью: -\nИспользование порошка микронных размеров на основе оксидов: -\nРавномерное распределение реагентов на поверхности частиц порошка: -\nФормирование однородной бидисперсной смеси: -\nУдаление воды из раствора выпариванием: -\nУдаление воды из раствора сушкой: -\nОбразование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка: -\nНагревание сухой смеси до определенной температуры: -\nИнициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом: -\nЭкзотермический характер окислительно-восстановительной реакции: -\nСамораспространяющийся характер процесса горения: -\nПоддержание процесса горения за счет выделяемой энергии: -\nОбразование продукта в виде нанопорошка оксида металла: -\nФормирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ): -\nПолучение бидисперсной системы, состоящей из микропорошка и нанопорошка: -\nБолее равномерное распределение частиц нанопорошка по всем объему микропорошка по сравнению с традиционным смешением: -\nСпособ получения смесевого твердого топлива с металлическим горючим: -\nМеханическое перемешивание компонентов: -\nИспользование металлического горючего в виде бидисперсной смеси порошков: -\nИспользование порошка алюминия микронных размеров: -\nИспользование нанопорошка алюминия: -\nСоотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%: -\nПеремешивание бидисперсной смеси до осредненного состояния: -\nВведение бидисперсной смеси в количестве 10-25 мас.%: -\nВведение бидисперсной смеси в полностью перемешанную смесь других компонентов: -\nДополнительное перемешивание полученной массы в течение не менее 30 мин: -\nВакуумирование полученной массы в течение не менее 30 мин: -\nИспользование перхлората аммония в качестве окислителя: -\nИспользование нитрата аммония в качестве окислителя: -\nИспользование смешанного окислителя, включающего нитрат аммония и нитрамин: -', 'stage': 'completed'}
2025-10-06 00:16:29,403 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFC80>, 1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab
2025-10-06 00:16:29,423 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab disconnected
2025-10-06 00:16:29,425 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:16:29,426 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:92576b30-65ed-4026-a5d8-9c8e6f89c2ab cleanup completed
2025-10-06 00:16:29,429 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97
2025-10-06 00:16:29,429 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97 создан новый список соединений
2025-10-06 00:16:29,430 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97: 1
2025-10-06 00:16:29,430 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97 содержит 0 сообщений
2025-10-06 00:16:29,431 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:16:29,431 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97: 1 соединений
2025-10-06 00:16:29,432 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97 содержит 0 сообщений
2025-10-06 00:16:29,432 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97
2025-10-06 00:16:29,432 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97 connected successfully
2025-10-06 00:16:29,434 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:16:29,436 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:16:29,437 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:16:29,439 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:16:29,440 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:16:29,440 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:16:29,441 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:16:29,441 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DC50>
2025-10-06 00:16:29,442 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:16:29,442 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DC50>
2025-10-06 00:16:29,442 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:16:29,443 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:16:29,443 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DC50>
2025-10-06 00:16:29,444 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:16:29,445 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:16:29,446 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:16:29,448 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:16:29,448 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:16:29,448 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:16:29,449 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:16:29,449 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:16:29,449 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:16:29,449 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:16:29,450 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97
2025-10-06 00:16:29,452 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:16:29,453 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDFD0>, 1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97
2025-10-06 00:16:29,453 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97
2025-10-06 00:16:29,453 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:16:29,454 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDFD0>, 1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97
2025-10-06 00:16:29,455 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97
2025-10-06 00:16:29,455 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:16:29,456 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDFD0>, 1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97
2025-10-06 00:16:29,457 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97
2025-10-06 00:16:29,457 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:16:29,458 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDFD0>, 1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97
2025-10-06 00:17:10,437 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего: -
Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего: -
Способ получения порошковой смеси бидисперсных керамических и металлических частиц: -
Перемешивание порошков в жидкой среде: -
Двухэтапное перемешивание: -
Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды: -
Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1: -
Перемешивание керамических наночастиц в жидкой среде на первом этапе: -
Длительность перемешивания на первом этапе не менее 15 минут: -
Добавление металлических микрочастиц на втором этапе: -
Перемешивание полученной смеси на втором этапе: -
Длительность перемешивания на втором этапе не менее 15 минут: -
Удаление жидкости после перемешивания: -
Удаление жидкости в сушильном шкафу: -
Температура удаления жидкости не менее 80°C: -
Длительность удаления жидкости не менее 24 часов: -
Использование керамических наночастиц: -
Диаметр керамических наночастиц от 30 до 140 нм: -
Использование металлических микрочастиц: -
Диаметр металлических микрочастиц от 20 до 180 мкм: -
Массовое соотношение порошков и жидкости 1/2: -
Массовое соотношение наночастиц и микрочастиц 1/19: -
Способ получения дифениламина: -
Термическая обработка анилина: -
Проведение термической обработки в присутствии катализатора: -
Использование алюмооксидного катализатора: -
Катализатор кислого характера: -
Получение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде: -
Использование азотной кислоты при получении катализатора: -
Пластификация катализатора: -
Формование катализатора: -
Сушка катализатора: -
Прокаливание катализатора при повышенной температуре: -
Катализатор с бидисперсной пористой структурой: -
Суммарный объем пор катализатора равен или более 0,45 см³/г: -
Объем пор катализатора с радиусом более равен или более 0,27 см³/г: -
Удельная поверхность катализатора не менее 200 м²/г: -
Получение катализатора из термо- или термомеханохимически активированного гидроксида алюминия: -
Смешивание активированного гидроксида алюминия с ортофосфорной кислотой: -
Проведение пластификации при кислотном модуле 0,02 - 0,07: -
2025-10-06 00:17:10,439 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97
2025-10-06 00:17:10,440 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97, message: {'status': 'completed', 'message': 'Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего: -\nИспользование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего: -\nСпособ получения порошковой смеси бидисперсных керамических и металлических частиц: -\nПеремешивание порошков в жидкой среде: -\nДвухэтапное перемешивание: -\nИспользование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды: -\nМассовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1: -\nПеремешивание керамических наночастиц в жидкой среде на первом этапе: -\nДлительность перемешивания на первом этапе не менее 15 минут: -\nДобавление металлических микрочастиц на втором этапе: -\nПеремешивание полученной смеси на втором этапе: -\nДлительность перемешивания на втором этапе не менее 15 минут: -\nУдаление жидкости после перемешивания: -\nУдаление жидкости в сушильном шкафу: -\nТемпература удаления жидкости не менее 80°C: -\nДлительность удаления жидкости не менее 24 часов: -\nИспользование керамических наночастиц: -\nДиаметр керамических наночастиц от 30 до 140 нм: -\nИспользование металлических микрочастиц: -\nДиаметр металлических микрочастиц от 20 до 180 мкм: -\nМассовое соотношение порошков и жидкости 1/2: -\nМассовое соотношение наночастиц и микрочастиц 1/19: -\nСпособ получения дифениламина: -\nТермическая обработка анилина: -\nПроведение термической обработки в присутствии катализатора: -\nИспользование алюмооксидного катализатора: -\nКатализатор кислого характера: -\nПолучение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде: -\nИспользование азотной кислоты при получении катализатора: -\nПластификация катализатора: -\nФормование катализатора: -\nСушка катализатора: -\nПрокаливание катализатора при повышенной температуре: -\nКатализатор с бидисперсной пористой структурой: -\nСуммарный объем пор катализатора равен или более 0,45 см³/г: -\nОбъем пор катализатора с радиусом более равен или более 0,27 см³/г: -\nУдельная поверхность катализатора не менее 200 м²/г: -\nПолучение катализатора из термо- или термомеханохимически активированного гидроксида алюминия: -\nСмешивание активированного гидроксида алюминия с ортофосфорной кислотой: -\nПроведение пластификации при кислотном модуле 0,02 - 0,07: -', 'stage': 'completed'}
2025-10-06 00:17:10,441 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDFD0>, 1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97
2025-10-06 00:17:10,453 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97 disconnected
2025-10-06 00:17:10,454 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:17:10,454 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:4aa6d410-879e-4e8f-ba50-c36b2aca6e97 cleanup completed
2025-10-06 00:17:10,458 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d
2025-10-06 00:17:10,458 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d создан новый список соединений
2025-10-06 00:17:10,458 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d: 1
2025-10-06 00:17:10,459 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d содержит 0 сообщений
2025-10-06 00:17:10,459 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:17:10,460 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d: 1 соединений
2025-10-06 00:17:10,460 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d содержит 0 сообщений
2025-10-06 00:17:10,461 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d
2025-10-06 00:17:10,462 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d connected successfully
2025-10-06 00:17:10,464 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:17:10,465 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:17:10,466 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:17:10,467 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:17:10,467 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:17:10,468 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:17:10,468 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:17:10,469 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CAD0>
2025-10-06 00:17:10,469 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:17:10,470 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CAD0>
2025-10-06 00:17:10,471 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:17:10,471 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:17:10,471 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CAD0>
2025-10-06 00:17:10,472 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:17:10,472 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:17:10,473 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:17:10,473 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:17:10,474 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:17:10,474 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:17:10,474 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:17:10,475 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:17:10,475 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:17:10,476 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:17:10,476 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d
2025-10-06 00:17:10,476 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:17:10,477 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DCB90>, 1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d
2025-10-06 00:17:10,478 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d
2025-10-06 00:17:10,478 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:17:10,479 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DCB90>, 1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d
2025-10-06 00:17:10,479 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d
2025-10-06 00:17:10,480 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:17:10,481 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DCB90>, 1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d
2025-10-06 00:17:10,481 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d
2025-10-06 00:17:10,481 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:17:10,482 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DCB90>, 1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d
2025-10-06 00:18:08,755 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Провяливание катализатора на воздухе не менее 12 часов перед сушкой: -
Сушка катализатора при 100 °C не менее 12 часов после провяливания: -
Прокаливание катализатора при 500 °C после сушки: -
Гранулированный наноструктурированный алюмооксидный катализатор: -
Содержание натрия в катализаторе от 0,005 до 0,02 мас.%: -
Содержание серы в катализатора от 0 до 5 мас.%: -
Содержание фосфора в катализаторе от 0 до 2,8 мас.%: -
Содержание хлора в катализаторе от 0 до 2,6 мас.%: -
Бидисперсная пористая структура катализатора: -
Объем микропор катализатора от 0,06 до 0,18 см³/г: -
Объем мезопор катализатора от 0,2 до 0,32 см³/г: -
Суммарный объем пор катализатора от 0,25 до 0,55 см³/г: -
Средний диаметр пор катализатора от 3 до 5,5 нм: -
Удельная поверхность катализатора от 200 до 350 м²/г: -
Оксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы: -
Суммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%: -
Содержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%: -
Форма гранул катализатора - цилиндр диаметром 3-5 мм: -
Форма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм: -
Способ приготовления катализатора, включающий термическую активацию гидраргиллита: -
Гидратация продуктов термической активации гидраргиллита в кислом растворе: -
Отмывка продуктов гидратации от примесных ионов: -
Введение модифицирующих добавок на стадии пластификации: -
Формование в гранулы методом экструзии: -
Проведение термической обработки сформированных гранул: -
Отмывка продуктов гидратации дистиллированной водой: -
Отмывка продуктов гидратации слабыми растворами серной кислоты: -
Отмывка продуктов гидратации слабыми растворами азотной кислоты: -
Использование растворов серной кислоты для пластификации гидроксида алюминия: -
Использование растворов соляной кислоты для пластификации гидроксида алюминия: -
Использование растворов ортофосфорной кислоты для пластификации гидроксида алюминия: -
Использование растворов азотной кислоты для пластификации гидроксида алюминия: -
Модифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃: -
Модифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃: -
Модифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃: -
Модифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃: -
Использование продукта центробежной термической активации гидраргиллита: -
Использование термоактивированного гидроксида алюминия: -
Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С: -
Способ получения этилена путем дегидратации этанола: -
2025-10-06 00:18:08,756 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d
2025-10-06 00:18:08,758 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d, message: {'status': 'completed', 'message': 'Провяливание катализатора на воздухе не менее 12 часов перед сушкой: -\nСушка катализатора при 100 °C не менее 12 часов после провяливания: -\nПрокаливание катализатора при 500 °C после сушки: -\nГранулированный наноструктурированный алюмооксидный катализатор: -\nСодержание натрия в катализаторе от 0,005 до 0,02 мас.%: -\nСодержание серы в катализатора от 0 до 5 мас.%: -\nСодержание фосфора в катализаторе от 0 до 2,8 мас.%: -\nСодержание хлора в катализаторе от 0 до 2,6 мас.%: -\nБидисперсная пористая структура катализатора: -\nОбъем микропор катализатора от 0,06 до 0,18 см³/г: -\nОбъем мезопор катализатора от 0,2 до 0,32 см³/г: -\nСуммарный объем пор катализатора от 0,25 до 0,55 см³/г: -\nСредний диаметр пор катализатора от 3 до 5,5 нм: -\nУдельная поверхность катализатора от 200 до 350 м²/г: -\nОксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы: -\nСуммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%: -\nСодержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%: -\nФорма гранул катализатора - цилиндр диаметром 3-5 мм: -\nФорма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм: -\nСпособ приготовления катализатора, включающий термическую активацию гидраргиллита: -\nГидратация продуктов термической активации гидраргиллита в кислом растворе: -\nОтмывка продуктов гидратации от примесных ионов: -\nВведение модифицирующих добавок на стадии пластификации: -\nФормование в гранулы методом экструзии: -\nПроведение термической обработки сформированных гранул: -\nОтмывка продуктов гидратации дистиллированной водой: -\nОтмывка продуктов гидратации слабыми растворами серной кислоты: -\nОтмывка продуктов гидратации слабыми растворами азотной кислоты: -\nИспользование растворов серной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов соляной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов ортофосфорной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов азотной кислоты для пластификации гидроксида алюминия: -\nМодифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃: -\nМодифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃: -\nМодифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃: -\nМодифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃: -\nИспользование продукта центробежной термической активации гидраргиллита: -\nИспользование термоактивированного гидроксида алюминия: -\nПроведение термической обработки гранул гидроксида алюминия при температуре 500-550°С: -\nСпособ получения этилена путем дегидратации этанола: -', 'stage': 'completed'}
2025-10-06 00:18:08,759 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DCB90>, 1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d
2025-10-06 00:18:08,774 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:18:08,774 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde
2025-10-06 00:18:08,775 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde создан новый список соединений
2025-10-06 00:18:08,775 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde: 1
2025-10-06 00:18:08,775 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde содержит 0 сообщений
2025-10-06 00:18:08,775 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:18:08,775 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d: 1 соединений
2025-10-06 00:18:08,776 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde: 1 соединений
2025-10-06 00:18:08,776 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde содержит 0 сообщений
2025-10-06 00:18:08,777 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde
2025-10-06 00:18:08,777 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde connected successfully
2025-10-06 00:18:08,777 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d disconnected
2025-10-06 00:18:08,778 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:18:08,778 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde: 1 соединений
2025-10-06 00:18:08,778 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:128dca8e-a344-4e6b-9b3a-6912878d886d cleanup completed
2025-10-06 00:18:08,779 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:18:08,780 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:18:08,780 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:18:08,780 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:18:08,780 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:18:08,780 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:18:08,781 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C670>
2025-10-06 00:18:08,781 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:18:08,781 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C670>
2025-10-06 00:18:08,781 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:18:08,782 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:18:08,782 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C670>
2025-10-06 00:18:08,782 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:18:08,783 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:18:08,784 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:18:08,784 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:18:08,785 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:18:08,786 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:18:08,786 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:18:08,786 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:18:08,786 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:18:08,787 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:18:08,787 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde
2025-10-06 00:18:08,787 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:18:08,788 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF530>, 1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde
2025-10-06 00:18:08,788 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde
2025-10-06 00:18:08,789 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:18:08,790 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF530>, 1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde
2025-10-06 00:18:08,790 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde
2025-10-06 00:18:08,790 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:18:08,791 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF530>, 1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde
2025-10-06 00:18:08,791 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde
2025-10-06 00:18:08,792 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:18:08,792 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF530>, 1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde
2025-10-06 00:18:59,923 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора: -
Проведение процесса получения этилена при температуре 350-450°С: -
Проведение процесса получения этилена при времени контакта 0.2-4.0 с: -
Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов: -
Содержание палладия в катализаторе 0,01÷1,0 мас.%: -
Размер частиц палладия от 1,5 до 20 нм: -
Нанесение активного компонента (палладия) на бидисперсный силикагель: -
Содержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%: -
Удельная поверхность бидисперсного силикагеля 150÷350 м²/г: -
Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г: -
Отсутствие микропор в бидисперсном силикагеле: -
Объем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г: -
Объем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г: -
Способ приготовления палладиевого катализатора: -
Использование предварительно высушенного носителя: -
Пропитка носителя водным раствором стабилизированного нитрата палладия: -
Пропитка носителя раствором стабилизированного нитрата палладия при определенных рН: -
Сушка катализатора после пропитки: -
Прокаливание катализатора на воздухе после сушки: -
Восстановление катализатора в потоке водородсодержащего газа после прокаливания: -
Добавление лимонной кислоты в пропиточные растворы: -
Предотвращение агломерации палладийсодержащих частиц на поверхности носителя: -
Регулирование рН пропиточных растворов без введения катионов щелочных металлов: -
Регулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида: -
Способ очистки олефинов от примесей полиненасыщенных углеводородов: -
Очистка путем каталитического гидрирования: -
Гидрирование при повышенных температурах: -
Гидрирование при атмосферном давлении: -
Гидрирование при температуре 50-200°С: -
Гидрирование при объемной скорости 10000-20000 ч⁻¹: -
Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой: -
Использование гидроксида алюминия в виде гидратированного соединения: -
Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия: -
Содержание в гидратированном соединении до 10% гиббсита: -
Размол гидроксида алюминия до частиц размером менее 20 мкм: -
Количество частиц размером менее 20 мкм после размола более 70%: -
Смешивание размолотого гидроксида алюминия с водой: -
Проведение смешивания в присутствии азотной кислоты: -
Проведение пластификации полученной смеси: -
Формование гранул из пластифицированного продукта: -
2025-10-06 00:18:59,924 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde
2025-10-06 00:18:59,924 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde, message: {'status': 'completed', 'message': 'Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора: -\nПроведение процесса получения этилена при температуре 350-450°С: -\nПроведение процесса получения этилена при времени контакта 0.2-4.0 с: -\nКатализатор для очистки олефинов от примесей полиненасыщенных углеводородов: -\nСодержание палладия в катализаторе 0,01÷1,0 мас.%: -\nРазмер частиц палладия от 1,5 до 20 нм: -\nНанесение активного компонента (палладия) на бидисперсный силикагель: -\nСодержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%: -\nУдельная поверхность бидисперсного силикагеля 150÷350 м²/г: -\nОбщий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г: -\nОтсутствие микропор в бидисперсном силикагеле: -\nОбъем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г: -\nОбъем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г: -\nСпособ приготовления палладиевого катализатора: -\nИспользование предварительно высушенного носителя: -\nПропитка носителя водным раствором стабилизированного нитрата палладия: -\nПропитка носителя раствором стабилизированного нитрата палладия при определенных рН: -\nСушка катализатора после пропитки: -\nПрокаливание катализатора на воздухе после сушки: -\nВосстановление катализатора в потоке водородсодержащего газа после прокаливания: -\nДобавление лимонной кислоты в пропиточные растворы: -\nПредотвращение агломерации палладийсодержащих частиц на поверхности носителя: -\nРегулирование рН пропиточных растворов без введения катионов щелочных металлов: -\nРегулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида: -\nСпособ очистки олефинов от примесей полиненасыщенных углеводородов: -\nОчистка путем каталитического гидрирования: -\nГидрирование при повышенных температурах: -\nГидрирование при атмосферном давлении: -\nГидрирование при температуре 50-200°С: -\nГидрирование при объемной скорости 10000-20000 ч⁻¹: -\nСпособ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой: -\nИспользование гидроксида алюминия в виде гидратированного соединения: -\nСодержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия: -\nСодержание в гидратированном соединении до 10% гиббсита: -\nРазмол гидроксида алюминия до частиц размером менее 20 мкм: -\nКоличество частиц размером менее 20 мкм после размола более 70%: -\nСмешивание размолотого гидроксида алюминия с водой: -\nПроведение смешивания в присутствии азотной кислоты: -\nПроведение пластификации полученной смеси: -\nФормование гранул из пластифицированного продукта: -', 'stage': 'completed'}
2025-10-06 00:18:59,925 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF530>, 1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde
2025-10-06 00:18:59,937 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde disconnected
2025-10-06 00:18:59,938 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:18:59,938 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:f7733cf9-7057-4fbf-b34a-3fed1078ccde cleanup completed
2025-10-06 00:18:59,940 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a
2025-10-06 00:18:59,940 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a создан новый список соединений
2025-10-06 00:18:59,940 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a: 1
2025-10-06 00:18:59,941 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a содержит 0 сообщений
2025-10-06 00:18:59,941 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:18:59,941 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a: 1 соединений
2025-10-06 00:18:59,941 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a содержит 0 сообщений
2025-10-06 00:18:59,941 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a
2025-10-06 00:18:59,942 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a connected successfully
2025-10-06 00:18:59,943 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:18:59,944 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:18:59,945 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:18:59,945 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:18:59,946 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:18:59,946 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:18:59,946 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:18:59,947 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C910>
2025-10-06 00:18:59,947 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:18:59,947 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C910>
2025-10-06 00:18:59,947 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:18:59,948 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:18:59,948 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C910>
2025-10-06 00:18:59,948 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:18:59,948 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:18:59,949 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:18:59,950 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:18:59,950 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:18:59,951 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:18:59,951 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:18:59,951 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:18:59,952 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:18:59,952 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:18:59,952 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a
2025-10-06 00:18:59,952 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:18:59,953 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE450>, 1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a
2025-10-06 00:18:59,953 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a
2025-10-06 00:18:59,953 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:18:59,954 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE450>, 1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a
2025-10-06 00:18:59,954 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a
2025-10-06 00:18:59,954 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:18:59,954 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE450>, 1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a
2025-10-06 00:18:59,955 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a
2025-10-06 00:18:59,955 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:18:59,955 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE450>, 1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a
2025-10-06 00:19:50,315 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Формование гранул в слое керосина: -
Формование гранул в водном растворе аммиака: -
Сушка полученных гранул: -
Прокаливание полученных гранул: -
Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л: -
Промывка гранул после прокаливания водой: -
Значение pH воды для промывки от 6 до 9: -
Время промывки 15 минут: -
Проведение термообработки промытых гранул: -
Температура термообработки 250 °C: -
Каталитический реактор трубчатого типа: -
Проведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C: -
Реактор содержит корпус: -
Реактор содержит трубные решетки: -
Реактор содержит устройства для ввода реагентов: -
Реактор содержит устройства для вывода реагентов: -
Реактор содержит устройства для ввода хладагентов: -
Реактор содержит устройства для вывода хладагентов: -
Реактор содержит каталитически активные теплообменные трубки: -
Соединение каталитически активных теплообменных трубок с трубными решетками: -
Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки: -
Нанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок: -
Слой каталитически активного армированного порометаллического материала образован плоскими лентами: -
Слой каталитически активного армированного порометаллического материала образован гофрированными лентами: -
Создание бидисперсной структуры нанесенного на поверхность трубки слоя: -
Толщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм: -
Равномерное нанесение слоя катализатора по длине трубки: -
Неравномерное нанесение слоя катализатора по длине трубки: -
Способ осуществления сильно экзотермических реакций: -
Подача реагирующей смеси стехиометрического состава в межтрубное пространство: -
Подача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство: -
Образование межтрубного пространства каталитически активными теплообменными трубками: -
Подача хладоагента внутрь каталитически активных теплообменных трубок: -
Способ получения пористого железо-калиевооксидного композита: -
Приготовление шихты: +
Шихта содержит кристаллогидрат нитрата железа: -
Шихта содержит кристаллогидрат нитрата церия: -
Шихта содержит нитрат калия: -
Шихта содержит оксид молибдена: -
Шихта содержит оксид титана: -
2025-10-06 00:19:50,316 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a
2025-10-06 00:19:50,316 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a, message: {'status': 'completed', 'message': 'Формование гранул в слое керосина: -\nФормование гранул в водном растворе аммиака: -\nСушка полученных гранул: -\nПрокаливание полученных гранул: -\nСмешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л: -\nПромывка гранул после прокаливания водой: -\nЗначение pH воды для промывки от 6 до 9: -\nВремя промывки 15 минут: -\nПроведение термообработки промытых гранул: -\nТемпература термообработки 250 °C: -\nКаталитический реактор трубчатого типа: -\nПроведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C: -\nРеактор содержит корпус: -\nРеактор содержит трубные решетки: -\nРеактор содержит устройства для ввода реагентов: -\nРеактор содержит устройства для вывода реагентов: -\nРеактор содержит устройства для ввода хладагентов: -\nРеактор содержит устройства для вывода хладагентов: -\nРеактор содержит каталитически активные теплообменные трубки: -\nСоединение каталитически активных теплообменных трубок с трубными решетками: -\nКаталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки: -\nНанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок: -\nСлой каталитически активного армированного порометаллического материала образован плоскими лентами: -\nСлой каталитически активного армированного порометаллического материала образован гофрированными лентами: -\nСоздание бидисперсной структуры нанесенного на поверхность трубки слоя: -\nТолщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм: -\nРавномерное нанесение слоя катализатора по длине трубки: -\nНеравномерное нанесение слоя катализатора по длине трубки: -\nСпособ осуществления сильно экзотермических реакций: -\nПодача реагирующей смеси стехиометрического состава в межтрубное пространство: -\nПодача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство: -\nОбразование межтрубного пространства каталитически активными теплообменными трубками: -\nПодача хладоагента внутрь каталитически активных теплообменных трубок: -\nСпособ получения пористого железо-калиевооксидного композита: -\nПриготовление шихты: +\nШихта содержит кристаллогидрат нитрата железа: -\nШихта содержит кристаллогидрат нитрата церия: -\nШихта содержит нитрат калия: -\nШихта содержит оксид молибдена: -\nШихта содержит оксид титана: -', 'stage': 'completed'}
2025-10-06 00:19:50,318 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE450>, 1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a
2025-10-06 00:19:50,330 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:a4698693-fcdd-450a-ba97-2702bd917076
2025-10-06 00:19:50,331 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:a4698693-fcdd-450a-ba97-2702bd917076 создан новый список соединений
2025-10-06 00:19:50,331 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:a4698693-fcdd-450a-ba97-2702bd917076: 1
2025-10-06 00:19:50,332 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:a4698693-fcdd-450a-ba97-2702bd917076 содержит 0 сообщений
2025-10-06 00:19:50,332 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:19:50,333 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a: 1 соединений
2025-10-06 00:19:50,333 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:a4698693-fcdd-450a-ba97-2702bd917076: 1 соединений
2025-10-06 00:19:50,333 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:a4698693-fcdd-450a-ba97-2702bd917076 содержит 0 сообщений
2025-10-06 00:19:50,334 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:a4698693-fcdd-450a-ba97-2702bd917076
2025-10-06 00:19:50,334 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:a4698693-fcdd-450a-ba97-2702bd917076 connected successfully
2025-10-06 00:19:50,335 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a disconnected
2025-10-06 00:19:50,335 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:19:50,336 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:a4698693-fcdd-450a-ba97-2702bd917076: 1 соединений
2025-10-06 00:19:50,336 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:91a5d064-0e79-49a0-9d62-7a785a46ff2a cleanup completed
2025-10-06 00:19:50,338 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:19:50,339 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:19:50,340 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:19:50,340 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:19:50,340 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:19:50,341 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:19:50,341 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:19:50,341 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D010>
2025-10-06 00:19:50,341 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:19:50,342 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:a4698693-fcdd-450a-ba97-2702bd917076, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D010>
2025-10-06 00:19:50,342 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:19:50,342 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:19:50,342 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D010>
2025-10-06 00:19:50,343 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:19:50,343 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:19:50,344 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:19:50,345 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:19:50,345 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:19:50,346 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:19:50,346 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:19:50,346 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:19:50,347 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:19:50,347 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:19:50,347 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a4698693-fcdd-450a-ba97-2702bd917076
2025-10-06 00:19:50,347 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a4698693-fcdd-450a-ba97-2702bd917076, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:19:50,348 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:a4698693-fcdd-450a-ba97-2702bd917076
2025-10-06 00:19:50,349 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a4698693-fcdd-450a-ba97-2702bd917076
2025-10-06 00:19:50,349 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a4698693-fcdd-450a-ba97-2702bd917076, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:19:50,349 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:a4698693-fcdd-450a-ba97-2702bd917076
2025-10-06 00:19:50,350 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a4698693-fcdd-450a-ba97-2702bd917076
2025-10-06 00:19:50,350 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a4698693-fcdd-450a-ba97-2702bd917076, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:19:50,350 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:a4698693-fcdd-450a-ba97-2702bd917076
2025-10-06 00:19:50,351 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a4698693-fcdd-450a-ba97-2702bd917076
2025-10-06 00:19:50,351 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a4698693-fcdd-450a-ba97-2702bd917076, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:19:50,351 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:a4698693-fcdd-450a-ba97-2702bd917076
2025-10-06 00:20:32,150 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Шихта содержит карбонат кальция: -
Шихта содержит тетраэтоксисилан: -
Компоненты шихты взяты в стехиометрическом соотношении: -
Импрегнирование в шихту выгорающей микродобавки: -
Импрегнирование продуктами гидролиза солей: -
Получение продуктов гидролиза солей способом соосаждения: -
Получение продуктов гидролиза солей способом золь-гель: -
Использование диоксанлигнина березы в качестве выгорающей микродобавки: -
Количество выгорающей микродобавки 0,125-0,250 мас.%: -
Формование образцов композита методом полусухого прессования: -
Проведение обжига: -
Обжиг в интервале температур 20-700°С: -
Скорость нагрева при обжиге 10°/мин: -
Изотермическая выдержка при обжиге в течение 3 часов: -
Формирование бидисперсной структуры в композите: -
Пористый железо-калиевооксидный композит: -
Композит содержит фазу оксида железа α-Fe2O3: -
Композит содержит фазу оксида церия CeO2: -
Композит содержит фазу молибдата калия K2MoO4: -
Композит содержит фазу феррита калия состава KFeO2: -
Композит содержит фазу феррита калия состава KFe11O17: -
Композит имеет бидисперсную структуру: -
Общий объем пор композита от 0,006 до 0,013 см3/г: -
Диаметр мезопор композита от 16 до 40 нм: -
Диаметр макропор композита от 75 до 130 нм: -
Удельная поверхность композита от 2 до 5 м2/г: -
Способ получения пористых порошковых материалов: +
Нанесение на частицы порообразователя связующего: +
Смешивание частиц порообразователя со связующим с порошком: +
Формование шихты: +
Спекание шихты: +
Использование металлического порошка при смешивании: +
Использование керамического порошка при смешивании: +
Нанесение на частицы порообразователя не менее двух слоев керамического порошка: +
Нанесение на частицы порообразователя не более пяти слоев керамического порошка: +
Нанесение органического связующего при нанесении первого слоя керамического порошка: +
Использование неорганического связующего при нанесении второго слоя керамического порошка: +
Использование неорганического связующего при нанесении последующих слоев керамического порошка: +
Использование гранул пенополистирола в качестве частиц порообразователя: +
Использование частиц порообразователя с размером в диапазоне 0,5-1 мм: +
2025-10-06 00:20:32,152 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:a4698693-fcdd-450a-ba97-2702bd917076
2025-10-06 00:20:32,152 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:a4698693-fcdd-450a-ba97-2702bd917076, message: {'status': 'completed', 'message': 'Шихта содержит карбонат кальция: -\nШихта содержит тетраэтоксисилан: -\nКомпоненты шихты взяты в стехиометрическом соотношении: -\nИмпрегнирование в шихту выгорающей микродобавки: -\nИмпрегнирование продуктами гидролиза солей: -\nПолучение продуктов гидролиза солей способом соосаждения: -\nПолучение продуктов гидролиза солей способом золь-гель: -\nИспользование диоксанлигнина березы в качестве выгорающей микродобавки: -\nКоличество выгорающей микродобавки 0,125-0,250 мас.%: -\nФормование образцов композита методом полусухого прессования: -\nПроведение обжига: -\nОбжиг в интервале температур 20-700°С: -\nСкорость нагрева при обжиге 10°/мин: -\nИзотермическая выдержка при обжиге в течение 3 часов: -\nФормирование бидисперсной структуры в композите: -\nПористый железо-калиевооксидный композит: -\nКомпозит содержит фазу оксида железа α-Fe2O3: -\nКомпозит содержит фазу оксида церия CeO2: -\nКомпозит содержит фазу молибдата калия K2MoO4: -\nКомпозит содержит фазу феррита калия состава KFeO2: -\nКомпозит содержит фазу феррита калия состава KFe11O17: -\nКомпозит имеет бидисперсную структуру: -\nОбщий объем пор композита от 0,006 до 0,013 см3/г: -\nДиаметр мезопор композита от 16 до 40 нм: -\nДиаметр макропор композита от 75 до 130 нм: -\nУдельная поверхность композита от 2 до 5 м2/г: -\nСпособ получения пористых порошковых материалов: +\nНанесение на частицы порообразователя связующего: +\nСмешивание частиц порообразователя со связующим с порошком: +\nФормование шихты: +\nСпекание шихты: +\nИспользование металлического порошка при смешивании: +\nИспользование керамического порошка при смешивании: +\nНанесение на частицы порообразователя не менее двух слоев керамического порошка: +\nНанесение на частицы порообразователя не более пяти слоев керамического порошка: +\nНанесение органического связующего при нанесении первого слоя керамического порошка: +\nИспользование неорганического связующего при нанесении второго слоя керамического порошка: +\nИспользование неорганического связующего при нанесении последующих слоев керамического порошка: +\nИспользование гранул пенополистирола в качестве частиц порообразователя: +\nИспользование частиц порообразователя с размером в диапазоне 0,5-1 мм: +', 'stage': 'completed'}
2025-10-06 00:20:32,155 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DDD00>, 1830913972:a4698693-fcdd-450a-ba97-2702bd917076
2025-10-06 00:20:32,165 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:a4698693-fcdd-450a-ba97-2702bd917076 disconnected
2025-10-06 00:20:32,165 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:20:32,166 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:a4698693-fcdd-450a-ba97-2702bd917076 cleanup completed
2025-10-06 00:20:32,168 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:f64460b4-471f-479b-97fe-a42777bb431d
2025-10-06 00:20:32,168 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:f64460b4-471f-479b-97fe-a42777bb431d создан новый список соединений
2025-10-06 00:20:32,169 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:f64460b4-471f-479b-97fe-a42777bb431d: 1
2025-10-06 00:20:32,169 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:f64460b4-471f-479b-97fe-a42777bb431d содержит 0 сообщений
2025-10-06 00:20:32,169 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:20:32,169 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:f64460b4-471f-479b-97fe-a42777bb431d: 1 соединений
2025-10-06 00:20:32,170 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:f64460b4-471f-479b-97fe-a42777bb431d содержит 0 сообщений
2025-10-06 00:20:32,170 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:f64460b4-471f-479b-97fe-a42777bb431d
2025-10-06 00:20:32,170 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:f64460b4-471f-479b-97fe-a42777bb431d connected successfully
2025-10-06 00:20:32,171 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:20:32,173 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:20:32,174 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:20:32,174 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:20:32,174 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:20:32,175 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:20:32,175 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:20:32,175 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CD00>
2025-10-06 00:20:32,176 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:20:32,176 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:f64460b4-471f-479b-97fe-a42777bb431d, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CD00>
2025-10-06 00:20:32,176 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:20:32,176 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:20:32,176 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CD00>
2025-10-06 00:20:32,177 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:20:32,178 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:20:32,178 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:20:32,180 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:20:32,180 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:20:32,180 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:20:32,180 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:20:32,181 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:20:32,181 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:20:32,181 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:20:32,182 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f64460b4-471f-479b-97fe-a42777bb431d
2025-10-06 00:20:32,182 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f64460b4-471f-479b-97fe-a42777bb431d, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:20:32,183 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6300F140>, 1830913972:f64460b4-471f-479b-97fe-a42777bb431d
2025-10-06 00:20:32,183 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f64460b4-471f-479b-97fe-a42777bb431d
2025-10-06 00:20:32,183 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f64460b4-471f-479b-97fe-a42777bb431d, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:20:32,184 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6300F140>, 1830913972:f64460b4-471f-479b-97fe-a42777bb431d
2025-10-06 00:20:32,184 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f64460b4-471f-479b-97fe-a42777bb431d
2025-10-06 00:20:32,184 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f64460b4-471f-479b-97fe-a42777bb431d, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:20:32,185 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6300F140>, 1830913972:f64460b4-471f-479b-97fe-a42777bb431d
2025-10-06 00:20:32,185 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f64460b4-471f-479b-97fe-a42777bb431d
2025-10-06 00:20:32,186 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f64460b4-471f-479b-97fe-a42777bb431d, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:20:32,186 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6300F140>, 1830913972:f64460b4-471f-479b-97fe-a42777bb431d
2025-10-06 00:20:49,480 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Использование водно-дисперсионного полиуретанового лака в качестве органического связующего: +
Использование водного раствора силиката натрия в качестве неорганического связующего: +
Способ соединения крупногабаритных порошковых деталей: -
Приготовление шихты на основе железа: -
Прессование деталей: -
Нанесение на соединяемые поверхности слоя шликера на основе порошка железа: -
Сборка деталей: -
Размещение пропитывающих брикетов на основе меди: -
Проведение спекания с одновременной инфильтрацией: -
Приготовление шликера из бидисперсных порошков: -
Расположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями: -
Нанесение слоя шликера на поверхность соединяемых деталей: -
Нанесение слоя шликера на поверхность непроницаемой перегородки: -
Размещение пропитывающих брикетов сверху сборки: -
Размещение пропитывающих брикетов снизу сборки: -
2025-10-06 00:20:49,481 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:f64460b4-471f-479b-97fe-a42777bb431d
2025-10-06 00:20:49,482 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:f64460b4-471f-479b-97fe-a42777bb431d, message: {'status': 'completed', 'message': 'Использование водно-дисперсионного полиуретанового лака в качестве органического связующего: +\nИспользование водного раствора силиката натрия в качестве неорганического связующего: +\nСпособ соединения крупногабаритных порошковых деталей: -\nПриготовление шихты на основе железа: -\nПрессование деталей: -\nНанесение на соединяемые поверхности слоя шликера на основе порошка железа: -\nСборка деталей: -\nРазмещение пропитывающих брикетов на основе меди: -\nПроведение спекания с одновременной инфильтрацией: -\nПриготовление шликера из бидисперсных порошков: -\nРасположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями: -\nНанесение слоя шликера на поверхность соединяемых деталей: -\nНанесение слоя шликера на поверхность непроницаемой перегородки: -\nРазмещение пропитывающих брикетов сверху сборки: -\nРазмещение пропитывающих брикетов снизу сборки: -', 'stage': 'completed'}
2025-10-06 00:20:49,482 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6300F140>, 1830913972:f64460b4-471f-479b-97fe-a42777bb431d
2025-10-06 00:20:49,497 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:f64460b4-471f-479b-97fe-a42777bb431d disconnected
2025-10-06 00:20:49,497 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:20:49,497 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:f64460b4-471f-479b-97fe-a42777bb431d cleanup completed
2025-10-06 00:20:49,498 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:247bbee7-e827-47c1-9c2f-7c572af51342
2025-10-06 00:20:49,498 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:20:49,499 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:247bbee7-e827-47c1-9c2f-7c572af51342 создан новый список соединений
2025-10-06 00:20:49,499 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:247bbee7-e827-47c1-9c2f-7c572af51342: 1
2025-10-06 00:20:49,499 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:247bbee7-e827-47c1-9c2f-7c572af51342 содержит 0 сообщений
2025-10-06 00:20:49,499 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:20:49,500 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:247bbee7-e827-47c1-9c2f-7c572af51342: 1 соединений
2025-10-06 00:20:49,500 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:247bbee7-e827-47c1-9c2f-7c572af51342 содержит 0 сообщений
2025-10-06 00:20:49,500 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:247bbee7-e827-47c1-9c2f-7c572af51342
2025-10-06 00:20:49,501 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:247bbee7-e827-47c1-9c2f-7c572af51342 connected successfully
2025-10-06 00:20:49,502 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:20:49,504 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:20:49,504 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:20:49,504 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:20:49,504 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:20:49,504 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:20:49,505 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C210>
2025-10-06 00:20:49,505 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:20:49,505 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:247bbee7-e827-47c1-9c2f-7c572af51342, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C210>
2025-10-06 00:20:49,505 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:20:49,506 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:20:49,506 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371C210>
2025-10-06 00:20:49,506 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:20:49,507 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:20:49,507 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:20:49,508 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:20:49,508 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:20:49,508 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:20:49,509 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:20:49,509 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:20:49,509 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:20:49,509 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:20:49,510 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:247bbee7-e827-47c1-9c2f-7c572af51342
2025-10-06 00:20:49,510 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:247bbee7-e827-47c1-9c2f-7c572af51342, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:20:49,510 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63784560>, 1830913972:247bbee7-e827-47c1-9c2f-7c572af51342
2025-10-06 00:20:49,510 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:247bbee7-e827-47c1-9c2f-7c572af51342
2025-10-06 00:20:49,511 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:247bbee7-e827-47c1-9c2f-7c572af51342, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:20:49,511 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63784560>, 1830913972:247bbee7-e827-47c1-9c2f-7c572af51342
2025-10-06 00:20:49,526 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:247bbee7-e827-47c1-9c2f-7c572af51342
2025-10-06 00:20:49,526 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:247bbee7-e827-47c1-9c2f-7c572af51342, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:20:49,527 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63784560>, 1830913972:247bbee7-e827-47c1-9c2f-7c572af51342
2025-10-06 00:20:49,527 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:247bbee7-e827-47c1-9c2f-7c572af51342
2025-10-06 00:20:49,528 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:247bbee7-e827-47c1-9c2f-7c572af51342, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:20:49,528 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63784560>, 1830913972:247bbee7-e827-47c1-9c2f-7c572af51342
2025-10-06 00:21:35,757 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Способ получения бидисперсных порошковых смесей: -
Получение смесей из порошков существенно разных размеров: +
Использование метода самораспространяющегося высокотемпературного синтеза (СВС): -
Подготовка смеси компонентов: -
Смешение нитрата металла и топливного компонента: -
Использование нитрата металла в качестве окислителя: -
Использование топливного компонента в качестве восстановителя: -
Использование глицерина в качестве топливного компонента: -
Использование тиомочевины в качестве топливного компонента: -
Использование этиленгликоля в качестве топливного компонента: -
Пропитка предварительно приготовленного порошка микронных размеров подготовленной смесью: -
Использование порошка микронных размеров на основе оксидов: -
Равномерное распределение реагентов на поверхности частиц порошка: -
Формирование однородной бидисперсной смеси: -
Удаление воды из раствора выпариванием: -
Удаление воды из раствора сушкой: -
Образование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка: -
Нагревание сухой смеси до определенной температуры: -
Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом: -
Экзотермический характер окислительно-восстановительной реакции: -
Самораспространяющийся характер процесса горения: -
Поддержание процесса горения за счет выделяемой энергии: -
Образование продукта в виде нанопорошка оксида металла: -
Формирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ): -
Получение бидисперсной системы, состоящей из микропорошка и нанопорошка: -
Более равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением: -
Способ получения смесевого твердого топлива с металлическим горючим: -
Механическое перемешивание компонентов: -
Использование металлического горючего в виде бидисперсной смеси порошков: -
Использование порошка алюминия микронных размеров: -
Использование нанопорошка алюминия: -
Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%: -
Перемешивание бидисперсной смеси до осредненного состояния: -
Введение бидисперсной смеси в количестве 10-25 мас.%: -
Введение бидисперсной смеси в полностью перемешанную смесь других компонентов: -
Дополнительное перемешивание полученной массы в течение не менее 30 мин: -
Вакуумирование полученной массы в течение не менее 30 мин: -
Использование перхлората аммония в качестве окислителя: -
Использование нитрата аммония в качестве окислителя: -
Использование смешанного окислителя, включающего нитрат аммония и нитрамин: -
2025-10-06 00:21:35,759 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:247bbee7-e827-47c1-9c2f-7c572af51342
2025-10-06 00:21:35,760 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:247bbee7-e827-47c1-9c2f-7c572af51342, message: {'status': 'completed', 'message': 'Способ получения бидисперсных порошковых смесей: -\nПолучение смесей из порошков существенно разных размеров: +\nИспользование метода самораспространяющегося высокотемпературного синтеза (СВС): -\nПодготовка смеси компонентов: -\nСмешение нитрата металла и топливного компонента: -\nИспользование нитрата металла в качестве окислителя: -\nИспользование топливного компонента в качестве восстановителя: -\nИспользование глицерина в качестве топливного компонента: -\nИспользование тиомочевины в качестве топливного компонента: -\nИспользование этиленгликоля в качестве топливного компонента: -\nПропитка предварительно приготовленного порошка микронных размеров подготовленной смесью: -\nИспользование порошка микронных размеров на основе оксидов: -\nРавномерное распределение реагентов на поверхности частиц порошка: -\nФормирование однородной бидисперсной смеси: -\nУдаление воды из раствора выпариванием: -\nУдаление воды из раствора сушкой: -\nОбразование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка: -\nНагревание сухой смеси до определенной температуры: -\nИнициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом: -\nЭкзотермический характер окислительно-восстановительной реакции: -\nСамораспространяющийся характер процесса горения: -\nПоддержание процесса горения за счет выделяемой энергии: -\nОбразование продукта в виде нанопорошка оксида металла: -\nФормирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ): -\nПолучение бидисперсной системы, состоящей из микропорошка и нанопорошка: -\nБолее равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением: -\nСпособ получения смесевого твердого топлива с металлическим горючим: -\nМеханическое перемешивание компонентов: -\nИспользование металлического горючего в виде бидисперсной смеси порошков: -\nИспользование порошка алюминия микронных размеров: -\nИспользование нанопорошка алюминия: -\nСоотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%: -\nПеремешивание бидисперсной смеси до осредненного состояния: -\nВведение бидисперсной смеси в количестве 10-25 мас.%: -\nВведение бидисперсной смеси в полностью перемешанную смесь других компонентов: -\nДополнительное перемешивание полученной массы в течение не менее 30 мин: -\nВакуумирование полученной массы в течение не менее 30 мин: -\nИспользование перхлората аммония в качестве окислителя: -\nИспользование нитрата аммония в качестве окислителя: -\nИспользование смешанного окислителя, включающего нитрат аммония и нитрамин: -', 'stage': 'completed'}
2025-10-06 00:21:35,772 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63784560>, 1830913972:247bbee7-e827-47c1-9c2f-7c572af51342
2025-10-06 00:21:35,792 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:247bbee7-e827-47c1-9c2f-7c572af51342 disconnected
2025-10-06 00:21:35,793 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:21:35,793 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:247bbee7-e827-47c1-9c2f-7c572af51342 cleanup completed
2025-10-06 00:21:35,795 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f
2025-10-06 00:21:35,796 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f создан новый список соединений
2025-10-06 00:21:35,796 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f: 1
2025-10-06 00:21:35,801 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f содержит 0 сообщений
2025-10-06 00:21:35,801 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:21:35,802 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f: 1 соединений
2025-10-06 00:21:35,802 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f содержит 0 сообщений
2025-10-06 00:21:35,803 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f
2025-10-06 00:21:35,803 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f connected successfully
2025-10-06 00:21:35,805 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:21:35,809 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:21:35,811 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:21:35,811 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:21:35,812 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:21:35,812 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:21:35,813 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:21:35,813 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6305C0C0>
2025-10-06 00:21:35,814 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:21:35,814 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6305C0C0>
2025-10-06 00:21:35,815 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:21:35,815 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:21:35,816 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6305C0C0>
2025-10-06 00:21:35,817 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:21:35,818 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:21:35,819 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: 0c7f...
2025-10-06 00:21:35,821 - core.token_manager.deepseek - WARNING - [deepseek.py:61 - mark_rate_limit()] - Key sk-o... blocked
2025-10-06 00:21:35,822 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:21:35,822 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:21:35,823 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:21:35,823 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:21:35,824 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:21:35,825 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:21:35,825 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:21:35,826 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f
2025-10-06 00:21:35,826 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:21:35,827 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6300FA40>, 1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f
2025-10-06 00:21:35,828 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f
2025-10-06 00:21:35,828 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:21:35,829 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6300FA40>, 1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f
2025-10-06 00:21:35,829 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f
2025-10-06 00:21:35,830 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:21:35,831 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6300FA40>, 1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f
2025-10-06 00:21:35,831 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f
2025-10-06 00:21:35,832 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:21:35,871 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6300FA40>, 1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f
2025-10-06 00:22:13,334 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего: -
Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего: -
Способ получения порошковой смеси бидисперсных керамических и металлических частиц: -
Перемешивание порошков в жидкой среде: -
Двухэтапное перемешивание: -
Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды: -
Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1: -
Перемешивание керамических наночастиц в жидкой среде на первом этапе: -
Длительность перемешивания на первом этапе не менее 15 минут: -
Добавление металлических микрочастиц на втором этапе: -
Перемешивание полученной смеси на втором этапе: -
Длительность перемешивания на втором этапе не менее 15 минут: -
Удаление жидкости после перемешивания: -
Удаление жидкости в сушильном шкафу: -
Температура удаления жидкости не менее 80°C: -
Длительность удаления жидкости не менее 24 часов: -
Использование керамических наночастиц: -
Диаметр керамических наночастиц от 30 до 140 нм: -
Использование металлических микрочастиц: -
Диаметр металлических микрочастиц от 20 до 180 мкм: -
Массовое соотношение порошков и жидкости 1/2: -
Массовое соотношение наночастиц и микрочастиц 1/19: -
Способ получения дифениламина: -
Термическая обработка анилина: -
Проведение термической обработки в присутствии катализатора: -
Использование алюмооксидного катализатора: -
Катализатор кислого характера: -
Получение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде: -
Использование азотной кислоты при получении катализатора: -
Пластификация катализатора: -
Формование катализатора: -
Сушка катализатора: -
Прокаливание катализатора при повышенной температуре: -
Катализатор с бидисперсной пористой структурой: -
Суммарный объем пор катализатора равен или более 0,45 см³/г: -
Объем пор катализатора с радиусом более равен или более 0,27 см³/г: -
Удельная поверхность катализатора не менее 200 м²/г: -
Получение катализатора из термо- или термомеханохимически активированного гидроксида алюминия: -
Смешивание активированного гидроксида алюминия с ортофосфорной кислотой: -
Проведение пластификации при кислотном модуле 0,02 - 0,07: -
2025-10-06 00:22:13,336 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f
2025-10-06 00:22:13,337 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f, message: {'status': 'completed', 'message': 'Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего: -\nИспользование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего: -\nСпособ получения порошковой смеси бидисперсных керамических и металлических частиц: -\nПеремешивание порошков в жидкой среде: -\nДвухэтапное перемешивание: -\nИспользование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды: -\nМассовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1: -\nПеремешивание керамических наночастиц в жидкой среде на первом этапе: -\nДлительность перемешивания на первом этапе не менее 15 минут: -\nДобавление металлических микрочастиц на втором этапе: -\nПеремешивание полученной смеси на втором этапе: -\nДлительность перемешивания на втором этапе не менее 15 минут: -\nУдаление жидкости после перемешивания: -\nУдаление жидкости в сушильном шкафу: -\nТемпература удаления жидкости не менее 80°C: -\nДлительность удаления жидкости не менее 24 часов: -\nИспользование керамических наночастиц: -\nДиаметр керамических наночастиц от 30 до 140 нм: -\nИспользование металлических микрочастиц: -\nДиаметр металлических микрочастиц от 20 до 180 мкм: -\nМассовое соотношение порошков и жидкости 1/2: -\nМассовое соотношение наночастиц и микрочастиц 1/19: -\nСпособ получения дифениламина: -\nТермическая обработка анилина: -\nПроведение термической обработки в присутствии катализатора: -\nИспользование алюмооксидного катализатора: -\nКатализатор кислого характера: -\nПолучение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде: -\nИспользование азотной кислоты при получении катализатора: -\nПластификация катализатора: -\nФормование катализатора: -\nСушка катализатора: -\nПрокаливание катализатора при повышенной температуре: -\nКатализатор с бидисперсной пористой структурой: -\nСуммарный объем пор катализатора равен или более 0,45 см³/г: -\nОбъем пор катализатора с радиусом более равен или более 0,27 см³/г: -\nУдельная поверхность катализатора не менее 200 м²/г: -\nПолучение катализатора из термо- или термомеханохимически активированного гидроксида алюминия: -\nСмешивание активированного гидроксида алюминия с ортофосфорной кислотой: -\nПроведение пластификации при кислотном модуле 0,02 - 0,07: -', 'stage': 'completed'}
2025-10-06 00:22:13,340 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6300FA40>, 1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f
2025-10-06 00:22:13,358 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f disconnected
2025-10-06 00:22:13,359 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:22:13,359 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:34a82291-8f1e-40eb-b8c2-129733065d1f cleanup completed
2025-10-06 00:22:13,364 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:22:13,364 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2
2025-10-06 00:22:13,365 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2 создан новый список соединений
2025-10-06 00:22:13,366 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2: 1
2025-10-06 00:22:13,366 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2 содержит 0 сообщений
2025-10-06 00:22:13,367 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:22:13,368 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2: 1 соединений
2025-10-06 00:22:13,369 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2 содержит 0 сообщений
2025-10-06 00:22:13,369 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2
2025-10-06 00:22:13,371 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2 connected successfully
2025-10-06 00:22:13,373 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:22:13,376 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:22:13,377 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:22:13,377 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:22:13,378 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:22:13,378 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:22:13,379 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347D630>
2025-10-06 00:22:13,379 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:22:13,381 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347D630>
2025-10-06 00:22:13,383 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:22:13,384 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:22:13,386 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347D630>
2025-10-06 00:22:13,387 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:22:13,389 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:22:13,390 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: c206...
2025-10-06 00:22:13,392 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:22:13,393 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:22:13,393 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:22:13,394 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:22:13,394 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:22:13,394 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:22:13,394 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:22:13,395 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2
2025-10-06 00:22:13,396 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:22:13,396 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DCB90>, 1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2
2025-10-06 00:22:13,397 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2
2025-10-06 00:22:13,397 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:22:13,398 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DCB90>, 1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2
2025-10-06 00:22:13,399 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2
2025-10-06 00:22:13,399 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:22:13,400 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DCB90>, 1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2
2025-10-06 00:22:13,401 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2
2025-10-06 00:22:13,401 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:22:13,402 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DCB90>, 1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2
2025-10-06 00:23:10,372 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Провяливание катализатора на воздухе не менее 12 часов перед сушкой: -
Сушка катализатора при 100 °C не менее 12 часов после провяливания: -
Прокаливание катализатора при 500 °C после сушки: -
Гранулированный наноструктурированный алюмооксидный катализатор: -
Содержание натрия в катализаторе от 0,005 до 0,02 мас.%: -
Содержание серы в катализатора от 0 до 5 мас.%: -
Содержание фосфора в катализаторе от 0 до 2,8 мас.%: -
Содержание хлора в катализаторе от 0 до 2,6 мас.%: -
Бидисперсная пористая структура катализатора: -
Объем микропор катализатора от 0,06 до 0,18 см³/г: -
Объем мезопор катализатора от 0,2 до 0,32 см³/г: -
Суммарный объем пор катализатора от 0,25 до 0,55 см³/г: -
Средний диаметр пор катализатора от 3 до 5,5 нм: -
Удельная поверхность катализатора от 200 до 350 м²/г: -
Оксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы: -
Суммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%: -
Содержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%: -
Форма гранул катализатора - цилиндр диаметром 3-5 мм: -
Форма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм: -
Способ приготовления катализатора, включающий термическую активацию гидраргиллита: -
Гидратация продуктов термической активации гидраргиллита в кислом растворе: -
Отмывка продуктов гидратации от примесных ионов: -
Введение модифицирующих добавок на стадии пластификации: -
Формование в гранулы методом экструзии: -
Проведение термической обработки сформированных гранул: -
Отмывка продуктов гидратации дистиллированной водой: -
Отмывка продуктов гидратации слабыми растворами серной кислоты: -
Отмывка продуктов гидратации слабыми растворами азотной кислоты: -
Использование растворов серной кислоты для пластификации гидроксида алюминия: -
Использование растворов соляной кислоты для пластификации гидроксида алюминия: -
Использование растворов ортофосфорной кислоты для пластификации гидроксида алюминия: -
Использование растворов азотной кислоты для пластификации гидроксида алюминия: -
Модифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃: -
Модифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃: -
Модифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃: -
Модифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃: -
Использование продукта центробежной термической активации гидраргиллита: -
Использование термоактивированного гидроксида алюминия: -
Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С: -
Способ получения этилена путем дегидратации этанола: -
2025-10-06 00:23:10,374 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2
2025-10-06 00:23:10,375 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2, message: {'status': 'completed', 'message': 'Провяливание катализатора на воздухе не менее 12 часов перед сушкой: -\nСушка катализатора при 100 °C не менее 12 часов после провяливания: -\nПрокаливание катализатора при 500 °C после сушки: -\nГранулированный наноструктурированный алюмооксидный катализатор: -\nСодержание натрия в катализаторе от 0,005 до 0,02 мас.%: -\nСодержание серы в катализатора от 0 до 5 мас.%: -\nСодержание фосфора в катализаторе от 0 до 2,8 мас.%: -\nСодержание хлора в катализаторе от 0 до 2,6 мас.%: -\nБидисперсная пористая структура катализатора: -\nОбъем микропор катализатора от 0,06 до 0,18 см³/г: -\nОбъем мезопор катализатора от 0,2 до 0,32 см³/г: -\nСуммарный объем пор катализатора от 0,25 до 0,55 см³/г: -\nСредний диаметр пор катализатора от 3 до 5,5 нм: -\nУдельная поверхность катализатора от 200 до 350 м²/г: -\nОксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы: -\nСуммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%: -\nСодержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%: -\nФорма гранул катализатора - цилиндр диаметром 3-5 мм: -\nФорма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм: -\nСпособ приготовления катализатора, включающий термическую активацию гидраргиллита: -\nГидратация продуктов термической активации гидраргиллита в кислом растворе: -\nОтмывка продуктов гидратации от примесных ионов: -\nВведение модифицирующих добавок на стадии пластификации: -\nФормование в гранулы методом экструзии: -\nПроведение термической обработки сформированных гранул: -\nОтмывка продуктов гидратации дистиллированной водой: -\nОтмывка продуктов гидратации слабыми растворами серной кислоты: -\nОтмывка продуктов гидратации слабыми растворами азотной кислоты: -\nИспользование растворов серной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов соляной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов ортофосфорной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов азотной кислоты для пластификации гидроксида алюминия: -\nМодифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃: -\nМодифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃: -\nМодифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃: -\nМодифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃: -\nИспользование продукта центробежной термической активации гидраргиллита: -\nИспользование термоактивированного гидроксида алюминия: -\nПроведение термической обработки гранул гидроксида алюминия при температуре 500-550°С: -\nСпособ получения этилена путем дегидратации этанола: -', 'stage': 'completed'}
2025-10-06 00:23:10,378 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DCB90>, 1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2
2025-10-06 00:23:10,391 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c
2025-10-06 00:23:10,391 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:23:10,392 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c создан новый список соединений
2025-10-06 00:23:10,393 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c: 1
2025-10-06 00:23:10,393 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c содержит 0 сообщений
2025-10-06 00:23:10,394 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:23:10,394 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2: 1 соединений
2025-10-06 00:23:10,395 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c: 1 соединений
2025-10-06 00:23:10,395 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c содержит 0 сообщений
2025-10-06 00:23:10,395 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c
2025-10-06 00:23:10,396 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c connected successfully
2025-10-06 00:23:10,396 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2 disconnected
2025-10-06 00:23:10,397 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:23:10,397 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c: 1 соединений
2025-10-06 00:23:10,398 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:ba05f726-3fd1-4271-8304-d9f05eaf47c2 cleanup completed
2025-10-06 00:23:10,400 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:23:10,401 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:23:10,402 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:23:10,402 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:23:10,403 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:23:10,403 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:23:10,404 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FBD0>
2025-10-06 00:23:10,404 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:23:10,404 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FBD0>
2025-10-06 00:23:10,405 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:23:10,405 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:23:10,405 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FBD0>
2025-10-06 00:23:10,406 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:23:10,406 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:23:10,407 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: c206...
2025-10-06 00:23:10,408 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:23:10,408 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:23:10,408 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:23:10,409 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:23:10,409 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:23:10,409 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:23:10,409 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:23:10,410 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c
2025-10-06 00:23:10,410 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:23:10,411 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE3C0>, 1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c
2025-10-06 00:23:10,411 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c
2025-10-06 00:23:10,411 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:23:10,412 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE3C0>, 1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c
2025-10-06 00:23:10,412 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c
2025-10-06 00:23:10,413 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:23:10,413 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE3C0>, 1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c
2025-10-06 00:23:10,413 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c
2025-10-06 00:23:10,414 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:23:10,414 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE3C0>, 1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c
2025-10-06 00:23:58,069 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора: -
Проведение процесса получения этилена при температуре 350-450°С: -
Проведение процесса получения этилена при времени контакта 0.2-4.0 с: -
Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов: -
Содержание палладия в катализаторе 0,01÷1,0 мас.%: -
Размер частиц палладия от 1,5 до 20 нм: -
Нанесение активного компонента (палладия) на бидисперсный силикагель: -
Содержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%: -
Удельная поверхность бидисперсного силикагеля 150÷350 м²/г: -
Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г: -
Отсутствие микропор в бидисперсном силикагеле: -
Объем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г: -
Объем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г: -
Способ приготовления палладиевого катализатора: -
Использование предварительно высушенного носителя: -
Пропитка носителя водным раствором стабилизированного нитрата палладия: -
Пропитка носителя раствором стабилизированного нитрата палладия при определенных рН: -
Сушка катализатор после пропитки: -
Прокаливание катализатора на воздухе после сушки: -
Восстановление катализатора в потоке водородсодержащего газа после прокаливания: -
Добавление лимонной кислоты в пропиточные растворы: -
Предотвращение агломерации палладийсодержащих частиц на поверхности носителя: -
Регулирование рН пропиточных растворов без введения катионов щелочных металлов: -
Регулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида: -
Способ очистки олефинов от примесей полиненасыщенных углеводородов: -
Очистка путем каталитического гидрирования: -
Гидрирование при повышенных температурах: -
Гидрирование при атмосферном давлении: -
Гидрирование при температуре 50-200°С: -
Гидрирование при объемной скорости 10000-20000 ч⁻¹: -
Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой: -
Использование гидроксида алюминия в виде гидратированного соединения: -
Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия: -
Содержание в гидратированном соединении до 10% гиббсита: -
Размол гидроксида алюминия до частиц размером менее 20 мкм: -
Количество частиц размером менее 20 мкм после размола более 70%: -
Смешивание размолотого гидроксида алюминия с водой: -
Проведение смешивания в присутствии азотной кислоты: -
Проведение пластификации полученной смеси: -
Формование гранул из пластифицированного продукта: -
2025-10-06 00:23:58,071 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c
2025-10-06 00:23:58,071 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c, message: {'status': 'completed', 'message': 'Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора: -\nПроведение процесса получения этилена при температуре 350-450°С: -\nПроведение процесса получения этилена при времени контакта 0.2-4.0 с: -\nКатализатор для очистки олефинов от примесей полиненасыщенных углеводородов: -\nСодержание палладия в катализаторе 0,01÷1,0 мас.%: -\nРазмер частиц палладия от 1,5 до 20 нм: -\nНанесение активного компонента (палладия) на бидисперсный силикагель: -\nСодержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%: -\nУдельная поверхность бидисперсного силикагеля 150÷350 м²/г: -\nОбщий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г: -\nОтсутствие микропор в бидисперсном силикагеле: -\nОбъем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г: -\nОбъем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г: -\nСпособ приготовления палладиевого катализатора: -\nИспользование предварительно высушенного носителя: -\nПропитка носителя водным раствором стабилизированного нитрата палладия: -\nПропитка носителя раствором стабилизированного нитрата палладия при определенных рН: -\nСушка катализатор после пропитки: -\nПрокаливание катализатора на воздухе после сушки: -\nВосстановление катализатора в потоке водородсодержащего газа после прокаливания: -\nДобавление лимонной кислоты в пропиточные растворы: -\nПредотвращение агломерации палладийсодержащих частиц на поверхности носителя: -\nРегулирование рН пропиточных растворов без введения катионов щелочных металлов: -\nРегулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида: -\nСпособ очистки олефинов от примесей полиненасыщенных углеводородов: -\nОчистка путем каталитического гидрирования: -\nГидрирование при повышенных температурах: -\nГидрирование при атмосферном давлении: -\nГидрирование при температуре 50-200°С: -\nГидрирование при объемной скорости 10000-20000 ч⁻¹: -\nСпособ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой: -\nИспользование гидроксида алюминия в виде гидратированного соединения: -\nСодержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия: -\nСодержание в гидратированном соединении до 10% гиббсита: -\nРазмол гидроксида алюминия до частиц размером менее 20 мкм: -\nКоличество частиц размером менее 20 мкм после размола более 70%: -\nСмешивание размолотого гидроксида алюминия с водой: -\nПроведение смешивания в присутствии азотной кислоты: -\nПроведение пластификации полученной смеси: -\nФормование гранул из пластифицированного продукта: -', 'stage': 'completed'}
2025-10-06 00:23:58,073 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE3C0>, 1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c
2025-10-06 00:23:58,084 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6
2025-10-06 00:23:58,084 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6 создан новый список соединений
2025-10-06 00:23:58,085 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6: 1
2025-10-06 00:23:58,085 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6 содержит 0 сообщений
2025-10-06 00:23:58,085 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:23:58,085 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c: 1 соединений
2025-10-06 00:23:58,085 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6: 1 соединений
2025-10-06 00:23:58,086 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6 содержит 0 сообщений
2025-10-06 00:23:58,086 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6
2025-10-06 00:23:58,086 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6 connected successfully
2025-10-06 00:23:58,087 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c disconnected
2025-10-06 00:23:58,087 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:23:58,087 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6: 1 соединений
2025-10-06 00:23:58,087 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:662a6824-a4dd-4057-8a65-d552d832dd5c cleanup completed
2025-10-06 00:23:58,088 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:23:58,089 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:23:58,090 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:23:58,090 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:23:58,090 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:23:58,091 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:23:58,091 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:23:58,092 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D010>
2025-10-06 00:23:58,092 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:23:58,092 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D010>
2025-10-06 00:23:58,092 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:23:58,092 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:23:58,093 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D010>
2025-10-06 00:23:58,093 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:23:58,093 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:23:58,094 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: c206...
2025-10-06 00:23:58,095 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:23:58,095 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:23:58,095 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:23:58,095 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:23:58,096 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:23:58,096 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:23:58,096 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:23:58,096 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6
2025-10-06 00:23:58,096 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:23:58,097 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFA40>, 1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6
2025-10-06 00:23:58,097 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6
2025-10-06 00:23:58,097 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:23:58,098 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFA40>, 1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6
2025-10-06 00:23:58,098 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6
2025-10-06 00:23:58,098 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:23:58,098 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFA40>, 1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6
2025-10-06 00:23:58,099 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6
2025-10-06 00:23:58,099 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:23:58,099 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFA40>, 1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6
2025-10-06 00:24:37,406 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Формование гранул в слое керосина: -
Формование гранул в водном растворе аммиака: -
Сушка полученных гранул: -
Прокаливание полученных гранул: -
Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л: -
Промывка гранул после прокаливания водой: -
Значение pH воды для промывки от 6 до 9: -
Время промывки 15 минут: -
Проведение термообработки промытых гранул: -
Температура термообработки 250 °C: -
Каталитический реактор трубчатого типа: -
Проведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C: -
Реактор содержит корпус: -
Реактор содержит трубные решетки: -
Реактор содержит устройства для ввода реагентов: -
Реактор содержит устройства для вывода реагентов: -
Реактор содержит устройства для ввода хладагентов: -
Реактор содержит устройства для вывода хладагентов: -
Реактор содержит каталитически активные теплообменные трубки: -
Соединение каталитически активных теплообменных трубок с трубными решетками: -
Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки: -
Нанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок: -
Слой каталитически активного армированного порометаллического материала образован плоскими лентами: -
Слой каталитически активного армированного порометаллического материала образован гофрированными лентами: -
Создание бидисперсной структуры нанесенного на поверхность трубки слоя: -
Толщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм: -
Равномерное нанесение слоя катализатора по длине трубки: -
Неравномерное нанесение слоя катализатора по длине трубки: -
Способ осуществления сильно экзотермических реакций: -
Подача реагирующей смеси стехиометрического состава в межтрубное пространство: -
Подача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство: -
Образование межтрубного пространства каталитически активными теплообменными трубками: -
Подача хладоагента внутрь каталитически активных теплообменных трубок: -
Способ получения пористого железо-калиевооксидного композита: -
Приготовление шихты: +
Шихта содержит кристаллогидрат нитрата железа: -
Шихта содержит кристаллогидрат нитрата церия: -
Шихта содержит нитрат калия: -
Шихта содержит оксид молибдена: -
Шихта содержит оксид титана: -
2025-10-06 00:24:37,407 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6
2025-10-06 00:24:37,408 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6, message: {'status': 'completed', 'message': 'Формование гранул в слое керосина: -\nФормование гранул в водном растворе аммиака: -\nСушка полученных гранул: -\nПрокаливание полученных гранул: -\nСмешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л: -\nПромывка гранул после прокаливания водой: -\nЗначение pH воды для промывки от 6 до 9: -\nВремя промывки 15 минут: -\nПроведение термообработки промытых гранул: -\nТемпература термообработки 250 °C: -\nКаталитический реактор трубчатого типа: -\nПроведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C: -\nРеактор содержит корпус: -\nРеактор содержит трубные решетки: -\nРеактор содержит устройства для ввода реагентов: -\nРеактор содержит устройства для вывода реагентов: -\nРеактор содержит устройства для ввода хладагентов: -\nРеактор содержит устройства для вывода хладагентов: -\nРеактор содержит каталитически активные теплообменные трубки: -\nСоединение каталитически активных теплообменных трубок с трубными решетками: -\nКаталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки: -\nНанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок: -\nСлой каталитически активного армированного порометаллического материала образован плоскими лентами: -\nСлой каталитически активного армированного порометаллического материала образован гофрированными лентами: -\nСоздание бидисперсной структуры нанесенного на поверхность трубки слоя: -\nТолщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм: -\nРавномерное нанесение слоя катализатора по длине трубки: -\nНеравномерное нанесение слоя катализатора по длине трубки: -\nСпособ осуществления сильно экзотермических реакций: -\nПодача реагирующей смеси стехиометрического состава в межтрубное пространство: -\nПодача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство: -\nОбразование межтрубного пространства каталитически активными теплообменными трубками: -\nПодача хладоагента внутрь каталитически активных теплообменных трубок: -\nСпособ получения пористого железо-калиевооксидного композита: -\nПриготовление шихты: +\nШихта содержит кристаллогидрат нитрата железа: -\nШихта содержит кристаллогидрат нитрата церия: -\nШихта содержит нитрат калия: -\nШихта содержит оксид молибдена: -\nШихта содержит оксид титана: -', 'stage': 'completed'}
2025-10-06 00:24:37,410 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFA40>, 1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6
2025-10-06 00:24:37,422 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:24:37,423 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a
2025-10-06 00:24:37,424 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a создан новый список соединений
2025-10-06 00:24:37,424 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a: 1
2025-10-06 00:24:37,424 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a содержит 0 сообщений
2025-10-06 00:24:37,425 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:24:37,425 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6: 1 соединений
2025-10-06 00:24:37,425 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a: 1 соединений
2025-10-06 00:24:37,426 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a содержит 0 сообщений
2025-10-06 00:24:37,426 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a
2025-10-06 00:24:37,427 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a connected successfully
2025-10-06 00:24:37,427 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6 disconnected
2025-10-06 00:24:37,427 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:24:37,428 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a: 1 соединений
2025-10-06 00:24:37,428 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:3aa63e9b-3d1a-4e53-ab68-611d288415d6 cleanup completed
2025-10-06 00:24:37,430 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:24:37,431 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:24:37,431 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:24:37,432 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:24:37,432 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:24:37,432 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:24:37,433 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6305C0C0>
2025-10-06 00:24:37,433 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:24:37,433 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6305C0C0>
2025-10-06 00:24:37,434 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:24:37,434 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:24:37,434 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6305C0C0>
2025-10-06 00:24:37,435 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:24:37,435 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:24:37,435 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: c206...
2025-10-06 00:24:37,436 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:24:37,513 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:24:37,514 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:24:37,514 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:24:37,514 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:24:37,514 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:24:37,515 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:24:37,515 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a
2025-10-06 00:24:37,515 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:24:37,516 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD880>, 1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a
2025-10-06 00:24:37,517 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a
2025-10-06 00:24:37,517 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:24:37,517 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD880>, 1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a
2025-10-06 00:24:37,518 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a
2025-10-06 00:24:37,518 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:24:37,519 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD880>, 1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a
2025-10-06 00:24:37,519 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a
2025-10-06 00:24:37,519 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:24:37,520 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD880>, 1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a
2025-10-06 00:25:11,025 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Шихта содержит карбонат кальция: -
Шихта содержит тетраэтоксисилан: -
Компоненты шихты взяты в стехиометрическом соотношении: -
Импрегнирование в шихту выгорающей микродобавки: -
Импрегнирование продуктами гидролиза солей: -
Получение продуктов гидролиза солей способом соосаждения: -
Получение продуктов гидролиза солей способом золь-гель: -
Использование диоксанлигнина березы в качестве выгорающей микродобавки: -
Количество выгорающей микродобавки 0,125-0,250 мас.%: -
Формование образцов композита методом полусухого прессования: -
Проведение обжига: -
Обжиг в интервале температур 20-700°С: -
Скорость нагрева при обжиге 10°/мин: -
Изотермическая выдержка при обжиге в течение 3 часов: -
Формирование бидисперсной структуры в композите: -
Пористый железо-калиевооксидный композит: -
Композит содержит фазу оксида железа α-Fe2O3: -
Композит содержит фазу оксида церия CeO2: -
Композит содержит фазу молибдата калия K2MoO4: -
Композит содержит фазу феррита калия состава KFeO2: -
Композит содержит фазу феррита калия состава KFe11O17: -
Композит имеет бидисперсную структуру: -
Общий объем пор композита от 0,006 до 0,013 см3/г: -
Диаметр мезопор композита от 16 до 40 нм: -
Диаметр макропор композита от 75 до 130 нм: -
Удельная поверхность композита от 2 до 5 м2/г: -
Способ получения пористых порошковых материалов: -
Нанесение на частицы порообразователя связующего: -
Смешивание частиц порообразователя со связующим с порошком: -
Формование шихты: -
Спекание шихты: -
Использование металлического порошка при смешивании: -
Использование керамического порошка при смешивании: -
Нанесение на частицы порообразователя не менее двух слоев керамического порошка: -
Нанесение на частицы порообразователя не более пяти слоев керамического порошка: -
Нанесение органического связющего при нанесении первого слоя керамического порошка: -
Использование неорганического связующего при нанесении второго слоя керамического порошка: -
Использование неорганического связующего при нанесении последующих слоев керамического порошка: -
Использование гранул пенополистирола в качестве частиц порообразователя: -
Использование частиц порообразователя с размером в диапазоне 0,5-1 мм: -
2025-10-06 00:25:11,026 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a
2025-10-06 00:25:11,026 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a, message: {'status': 'completed', 'message': 'Шихта содержит карбонат кальция: -\nШихта содержит тетраэтоксисилан: -\nКомпоненты шихты взяты в стехиометрическом соотношении: -\nИмпрегнирование в шихту выгорающей микродобавки: -\nИмпрегнирование продуктами гидролиза солей: -\nПолучение продуктов гидролиза солей способом соосаждения: -\nПолучение продуктов гидролиза солей способом золь-гель: -\nИспользование диоксанлигнина березы в качестве выгорающей микродобавки: -\nКоличество выгорающей микродобавки 0,125-0,250 мас.%: -\nФормование образцов композита методом полусухого прессования: -\nПроведение обжига: -\nОбжиг в интервале температур 20-700°С: -\nСкорость нагрева при обжиге 10°/мин: -\nИзотермическая выдержка при обжиге в течение 3 часов: -\nФормирование бидисперсной структуры в композите: -\nПористый железо-калиевооксидный композит: -\nКомпозит содержит фазу оксида железа α-Fe2O3: -\nКомпозит содержит фазу оксида церия CeO2: -\nКомпозит содержит фазу молибдата калия K2MoO4: -\nКомпозит содержит фазу феррита калия состава KFeO2: -\nКомпозит содержит фазу феррита калия состава KFe11O17: -\nКомпозит имеет бидисперсную структуру: -\nОбщий объем пор композита от 0,006 до 0,013 см3/г: -\nДиаметр мезопор композита от 16 до 40 нм: -\nДиаметр макропор композита от 75 до 130 нм: -\nУдельная поверхность композита от 2 до 5 м2/г: -\nСпособ получения пористых порошковых материалов: -\nНанесение на частицы порообразователя связующего: -\nСмешивание частиц порообразователя со связующим с порошком: -\nФормование шихты: -\nСпекание шихты: -\nИспользование металлического порошка при смешивании: -\nИспользование керамического порошка при смешивании: -\nНанесение на частицы порообразователя не менее двух слоев керамического порошка: -\nНанесение на частицы порообразователя не более пяти слоев керамического порошка: -\nНанесение органического связющего при нанесении первого слоя керамического порошка: -\nИспользование неорганического связующего при нанесении второго слоя керамического порошка: -\nИспользование неорганического связующего при нанесении последующих слоев керамического порошка: -\nИспользование гранул пенополистирола в качестве частиц порообразователя: -\nИспользование частиц порообразователя с размером в диапазоне 0,5-1 мм: -', 'stage': 'completed'}
2025-10-06 00:25:11,027 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD880>, 1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a
2025-10-06 00:25:11,036 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a disconnected
2025-10-06 00:25:11,037 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:25:11,037 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:d7e2ba40-f9e6-4930-bb89-317a67e28e2a cleanup completed
2025-10-06 00:25:11,040 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 00:25:11,041 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c
2025-10-06 00:25:11,042 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c создан новый список соединений
2025-10-06 00:25:11,043 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c: 1
2025-10-06 00:25:11,043 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c содержит 0 сообщений
2025-10-06 00:25:11,043 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 00:25:11,043 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c: 1 соединений
2025-10-06 00:25:11,044 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c содержит 0 сообщений
2025-10-06 00:25:11,044 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c
2025-10-06 00:25:11,044 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c connected successfully
2025-10-06 00:25:11,045 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 00:25:11,046 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 00:25:11,046 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 00:25:11,046 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 00:25:11,047 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 00:25:11,047 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:25:11,047 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DE80>
2025-10-06 00:25:11,047 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 00:25:11,047 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DE80>
2025-10-06 00:25:11,048 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 00:25:11,048 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 00:25:11,048 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DE80>
2025-10-06 00:25:11,049 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 00:25:11,049 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 00:25:11,060 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: c206...
2025-10-06 00:25:11,060 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 00:25:11,061 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 00:25:11,061 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 00:25:11,062 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 00:25:11,062 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 00:25:11,062 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 00:25:11,063 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 00:25:11,063 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c
2025-10-06 00:25:11,063 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 00:25:11,064 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DCB90>, 1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c
2025-10-06 00:25:11,064 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c
2025-10-06 00:25:11,064 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 00:25:11,065 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DCB90>, 1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c
2025-10-06 00:25:11,065 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c
2025-10-06 00:25:11,066 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 00:25:11,067 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DCB90>, 1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c
2025-10-06 00:25:11,067 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c
2025-10-06 00:25:11,067 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 00:25:11,068 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DCB90>, 1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c
2025-10-06 00:25:26,889 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Использование водно-дисперсионного полиуретанового лака в качестве органического связующего: -
Использование водного раствора силиката натрия в качестве неорганического связующего: -
Способ соединения крупногабаритных порошковых деталей: +
Приготовление шихты на основе железа: +
Прессование деталей: +
Нанесение на соединяемые поверхности слоя шликера на основе порошка железа: +
Сборка деталей: +
Размещение пропитывающих брикетов на основе меди: +
Проведение спекания с одновременной инфильтрацией: +
Приготовление шликера из бидисперсных порошков: +
Расположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями: +
Нанесение слоя шликера на поверхность соединяемых деталей: +
Нанесение слоя шликера на поверхность непроницаемой перегородки: +
Размещение пропитывающих брикетов сверху сборки: +
Размещение пропитывающих брикетов снизу сборки: +
2025-10-06 00:25:26,890 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c
2025-10-06 00:25:26,890 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c, message: {'status': 'completed', 'message': 'Использование водно-дисперсионного полиуретанового лака в качестве органического связующего: -\nИспользование водного раствора силиката натрия в качестве неорганического связующего: -\nСпособ соединения крупногабаритных порошковых деталей: +\nПриготовление шихты на основе железа: +\nПрессование деталей: +\nНанесение на соединяемые поверхности слоя шликера на основе порошка железа: +\nСборка деталей: +\nРазмещение пропитывающих брикетов на основе меди: +\nПроведение спекания с одновременной инфильтрацией: +\nПриготовление шликера из бидисперсных порошков: +\nРасположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями: +\nНанесение слоя шликера на поверхность соединяемых деталей: +\nНанесение слоя шликера на поверхность непроницаемой перегородки: +\nРазмещение пропитывающих брикетов сверху сборки: +\nРазмещение пропитывающих брикетов снизу сборки: +', 'stage': 'completed'}
2025-10-06 00:25:26,891 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DCB90>, 1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c
2025-10-06 00:25:26,903 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c disconnected
2025-10-06 00:25:26,904 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 00:25:26,904 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972:9280679d-a65c-4ff9-8e17-2e4ad58a4a9c cleanup completed
2025-10-06 01:57:03,269 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 01:57:03,276 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 01:57:03,280 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 01:57:03,282 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 01:57:03,283 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 01:57:03,283 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 01:57:03,284 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 01:57:03,284 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CAD0>
2025-10-06 01:57:03,285 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 01:57:03,286 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CAD0>
2025-10-06 01:57:03,287 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 01:57:03,287 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 01:57:03,289 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CAD0>
2025-10-06 01:57:03,290 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 01:57:03,294 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 01:57:03,296 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: c206...
2025-10-06 01:57:03,300 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 01:57:03,300 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 01:57:03,301 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 01:57:03,301 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 01:57:03,302 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 01:57:03,303 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 01:57:03,303 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 01:57:03,304 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 01:57:03,304 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 01:57:03,305 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 01:57:03,306 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 1
2025-10-06 01:57:03,307 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 01:57:03,308 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 01:57:03,308 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 01:57:03,309 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 2
2025-10-06 01:57:03,310 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 01:57:03,310 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 01:57:03,311 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 01:57:03,311 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 3
2025-10-06 01:57:03,312 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 01:57:03,312 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 01:57:03,313 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 01:57:03,313 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 4
2025-10-06 01:57:03,324 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972
2025-10-06 01:57:03,324 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972 создан новый список соединений
2025-10-06 01:57:03,324 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972: 1
2025-10-06 01:57:03,325 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972 содержит 4 сообщений
2025-10-06 01:57:03,325 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 01:57:03,325 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972: 1 соединений
2025-10-06 01:57:03,325 - core.connection_manager - DEBUG - [connection_manager.py:187 - print_active_connections()] - 📦 Буферизованные сообщения:
2025-10-06 01:57:03,325 - core.connection_manager - DEBUG - [connection_manager.py:189 - print_active_connections()] -   1830913972: 4 сообщений
2025-10-06 01:57:03,326 - core.connection_manager - DEBUG - [connection_manager.py:190 - print_active_connections()] - buffer: deque([<core.connection_manager.BufferedMessage object at 0x0000022F634F4F50>, <core.connection_manager.BufferedMessage object at 0x0000022F634F5450>, <core.connection_manager.BufferedMessage object at 0x0000022F63724140>, <core.connection_manager.BufferedMessage object at 0x0000022F634C2F30>], maxlen=50)
2025-10-06 01:57:03,326 - core.connection_manager - DEBUG - [connection_manager.py:130 - _flush_buffer()] - Flushing buffer for 1830913972 (4 messages)
2025-10-06 01:57:03,326 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 01:57:03,329 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD1C0>, 1830913972
2025-10-06 01:57:03,330 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 01:57:03,331 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD1C0>, 1830913972
2025-10-06 01:57:03,332 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 01:57:03,333 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD1C0>, 1830913972
2025-10-06 01:57:03,334 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 01:57:03,335 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD1C0>, 1830913972
2025-10-06 01:57:03,336 - core.connection_manager - DEBUG - [connection_manager.py:150 - _flush_buffer()] - Flushed 4 messages for 1830913972
2025-10-06 01:57:03,336 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972 содержит 0 сообщений
2025-10-06 01:57:03,336 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972
2025-10-06 01:57:03,337 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972 connected successfully
2025-10-06 01:57:32,596 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Способ получения бидисперсных порошковых смесей: +
Получение смесей из порошков существенно разных размеров: +
Использование метода самораспространяющегося высокотемпературного синтеза (СВС): +
Подготовка смеси компонентов: +
Смешение нитрата металла и топливного компонента: +
Использование нитрата металла в качестве окислителя: +
Использование топливного компонента в качестве восстановителя: +
Использование глицерина в качестве топливного компонента: +
Использование тиомочевины в качестве топливного компонента: +
Использование этиленгликоля в качестве топливного компонента: +
Пропитка предварительно приготовленного порошка микронных размеров подготовленной смесью: +
Использование порошка микронных размеров на основе оксидов: +
Равномерное распределение реагентов на поверхности частиц порошка: +
Формирование однородной бидисперсной смеси: +
Удаление воды из раствора выпариванием: +
Удаление воды из раствора сушкой: +
Образование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка: +
Нагревание сухой смеси до определенной температуры: +
Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом: +
Экзотермический характер окислительно-восстановительной реакции: +
Самораспространяющийся характер процесса горения: +
Поддержание процесса горения за счет выделяемой энергии: +
Образование продукта в виде нанопорошка оксида металла: +
Формирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ): +
Получение бидисперсной системы, состоящей из микропорошка и нанопорошка: +
Более равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением: +
Способ получения смесевого твердого топлива с металлическим горючим: -
Механическое перемешивание компонентов: -
Использование металлического горючего в виде бидисперсной смеси порошков: -
Использование порошка алюминия микронных размеров: -
Использование нанопорошка алюминия: -
Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%: -
Перемешивание бидисперсной смеси до осредненного состояния: -
Введение бидисперсной смеси в количестве 10-25 мас.%: -
Введение бидисперсной смеси в полностью перемешанную смесь других компонентов: -
Дополнительное перемешивание полученной массы в течение не менее 30 мин: -
Вакуумирование полученной массы в течение не менее 30 мин: -
Использование перхлората аммония в качестве окислителя: -
Использование нитрата аммония в качестве окислителя: -
Использование смешанного окислителя, включающего нитрат аммония и нитрамин: -
2025-10-06 01:57:32,608 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 01:57:32,610 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'completed', 'message': 'Способ получения бидисперсных порошковых смесей: +\nПолучение смесей из порошков существенно разных размеров: +\nИспользование метода самораспространяющегося высокотемпературного синтеза (СВС): +\nПодготовка смеси компонентов: +\nСмешение нитрата металла и топливного компонента: +\nИспользование нитрата металла в качестве окислителя: +\nИспользование топливного компонента в качестве восстановителя: +\nИспользование глицерина в качестве топливного компонента: +\nИспользование тиомочевины в качестве топливного компонента: +\nИспользование этиленгликоля в качестве топливного компонента: +\nПропитка предварительно приготовленного порошка микронных размеров подготовленной смесью: +\nИспользование порошка микронных размеров на основе оксидов: +\nРавномерное распределение реагентов на поверхности частиц порошка: +\nФормирование однородной бидисперсной смеси: +\nУдаление воды из раствора выпариванием: +\nУдаление воды из раствора сушкой: +\nОбразование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка: +\nНагревание сухой смеси до определенной температуры: +\nИнициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом: +\nЭкзотермический характер окислительно-восстановительной реакции: +\nСамораспространяющийся характер процесса горения: +\nПоддержание процесса горения за счет выделяемой энергии: +\nОбразование продукта в виде нанопорошка оксида металла: +\nФормирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ): +\nПолучение бидисперсной системы, состоящей из микропорошка и нанопорошка: +\nБолее равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением: +\nСпособ получения смесевого твердого топлива с металлическим горючим: -\nМеханическое перемешивание компонентов: -\nИспользование металлического горючего в виде бидисперсной смеси порошков: -\nИспользование порошка алюминия микронных размеров: -\nИспользование нанопорошка алюминия: -\nСоотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.%: -\nПеремешивание бидисперсной смеси до осредненного состояния: -\nВведение бидисперсной смеси в количестве 10-25 мас.%: -\nВведение бидисперсной смеси в полностью перемешанную смесь других компонентов: -\nДополнительное перемешивание полученной массы в течение не менее 30 мин: -\nВакуумирование полученной массы в течение не менее 30 мин: -\nИспользование перхлората аммония в качестве окислителя: -\nИспользование нитрата аммония в качестве окислителя: -\nИспользование смешанного окислителя, включающего нитрат аммония и нитрамин: -', 'stage': 'completed'}
2025-10-06 01:57:32,615 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD1C0>, 1830913972
2025-10-06 01:57:32,624 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972 disconnected
2025-10-06 01:57:32,627 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 01:57:32,629 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972 cleanup completed
2025-10-06 01:57:32,632 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 01:57:32,633 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 01:57:32,634 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 01:57:32,635 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 01:57:32,635 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 01:57:32,635 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 01:57:32,635 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 01:57:32,635 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DC50>
2025-10-06 01:57:32,636 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 01:57:32,636 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DC50>
2025-10-06 01:57:32,636 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 01:57:32,636 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 01:57:32,639 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DC50>
2025-10-06 01:57:32,641 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 01:57:32,642 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 01:57:32,643 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: c206...
2025-10-06 01:57:32,647 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 01:57:32,647 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 01:57:32,647 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 01:57:32,648 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 01:57:32,648 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 01:57:32,648 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 01:57:32,648 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 01:57:32,648 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 01:57:32,649 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 01:57:32,649 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 01:57:32,649 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 1
2025-10-06 01:57:32,649 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 01:57:32,650 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 01:57:32,650 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 01:57:32,650 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 2
2025-10-06 01:57:32,650 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 01:57:32,650 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 01:57:32,651 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 01:57:32,651 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 3
2025-10-06 01:57:32,652 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 01:57:32,652 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 01:57:32,652 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 01:57:32,658 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 4
2025-10-06 01:57:32,662 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972
2025-10-06 01:57:32,663 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972 создан новый список соединений
2025-10-06 01:57:32,663 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972: 1
2025-10-06 01:57:32,664 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972 содержит 4 сообщений
2025-10-06 01:57:32,665 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 01:57:32,665 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972: 1 соединений
2025-10-06 01:57:32,666 - core.connection_manager - DEBUG - [connection_manager.py:187 - print_active_connections()] - 📦 Буферизованные сообщения:
2025-10-06 01:57:32,666 - core.connection_manager - DEBUG - [connection_manager.py:189 - print_active_connections()] -   1830913972: 4 сообщений
2025-10-06 01:57:32,667 - core.connection_manager - DEBUG - [connection_manager.py:190 - print_active_connections()] - buffer: deque([<core.connection_manager.BufferedMessage object at 0x0000022F634C75B0>, <core.connection_manager.BufferedMessage object at 0x0000022F634C7070>, <core.connection_manager.BufferedMessage object at 0x0000022F634FADD0>, <core.connection_manager.BufferedMessage object at 0x0000022F6348E8D0>], maxlen=50)
2025-10-06 01:57:32,667 - core.connection_manager - DEBUG - [connection_manager.py:130 - _flush_buffer()] - Flushing buffer for 1830913972 (4 messages)
2025-10-06 01:57:32,668 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 01:57:32,671 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD490>, 1830913972
2025-10-06 01:57:32,672 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 01:57:32,672 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD490>, 1830913972
2025-10-06 01:57:32,673 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 01:57:32,675 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD490>, 1830913972
2025-10-06 01:57:32,677 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 01:57:32,678 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD490>, 1830913972
2025-10-06 01:57:32,679 - core.connection_manager - DEBUG - [connection_manager.py:150 - _flush_buffer()] - Flushed 4 messages for 1830913972
2025-10-06 01:57:32,679 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972 содержит 0 сообщений
2025-10-06 01:57:32,680 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972
2025-10-06 01:57:32,680 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972 connected successfully
2025-10-06 01:58:00,320 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего: -
Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего: -
Способ получения порошковой смеси бидисперсных керамических и металлических частиц: -
Перемешивание порошков в жидкой среде: -
Двухэтапное перемешивание: -
Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды: -
Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1: -
Перемешивание керамических наночастиц в жидкой среде на первом этапе: -
Длительность перемешивания на первом этапе не менее 15 минут: -
Добавление металлических микрочастиц на втором этапе: -
Перемешивание полученной смеси на втором этапе: -
Длительность перемешивания на втором этапе не менее 15 минут: -
Удаление жидкости после перемешивания: -
Удаление жидкости в сушильном шкафу: -
Температура удаления жидкости не менее 80°C: -
Длительность удаления жидкости не менее 24 часов: -
Использование керамических наночастиц: -
Диаметр керамических наночастиц от 30 до 140 нм: -
Использование металлических микрочастиц: -
Диаметр металлических микрочастиц от 20 до 180 мкм: -
Массовое соотношение порошков и жидкости 1/2: -
Массовое соотношение наночастиц и микрочастиц 1/19: -
Способ получения дифениламина: -
Термическая обработка анилина: -
Проведение термической обработки в присутствии катализатора: -
Использование алюмооксидного катализатора: -
Катализатор кислого характера: -
Получение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде: -
Использование азотной кислоты при получении катализатора: -
Пластификация катализатора: -
Формование катализатора: -
Сушка катализатора: -
Прокаливание катализатора при повышенной температуре: -
Катализатор с бидисперсной пористой структурой: -
Суммарный объем пор катализатора равен или более 0,45 см³/г: -
Объем пор катализатора с радиусом более равен или более 0,27 см³/г: -
Удельная поверхность катализатора не менее 200 м²/г: -
Получение катализатора из термо- или термомеханохимически активированного гидроксида алюминия: -
Смешивание активированного гидроксида алюминия с ортофосфорной кислотой: -
Проведение пластификации при кислотном модуле 0,02 - 0,07: -
2025-10-06 01:58:00,323 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 01:58:00,324 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'completed', 'message': 'Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего: -\nИспользование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего: -\nСпособ получения порошковой смеси бидисперсных керамических и металлических частиц: -\nПеремешивание порошков в жидкой среде: -\nДвухэтапное перемешивание: -\nИспользование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды: -\nМассовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1: -\nПеремешивание керамических наночастиц в жидкой среде на первом этапе: -\nДлительность перемешивания на первом этапе не менее 15 минут: -\nДобавление металлических микрочастиц на втором этапе: -\nПеремешивание полученной смеси на втором этапе: -\nДлительность перемешивания на втором этапе не менее 15 минут: -\nУдаление жидкости после перемешивания: -\nУдаление жидкости в сушильном шкафу: -\nТемпература удаления жидкости не менее 80°C: -\nДлительность удаления жидкости не менее 24 часов: -\nИспользование керамических наночастиц: -\nДиаметр керамических наночастиц от 30 до 140 нм: -\nИспользование металлических микрочастиц: -\nДиаметр металлических микрочастиц от 20 до 180 мкм: -\nМассовое соотношение порошков и жидкости 1/2: -\nМассовое соотношение наночастиц и микрочастиц 1/19: -\nСпособ получения дифениламина: -\nТермическая обработка анилина: -\nПроведение термической обработки в присутствии катализатора: -\nИспользование алюмооксидного катализатора: -\nКатализатор кислого характера: -\nПолучение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде: -\nИспользование азотной кислоты при получении катализатора: -\nПластификация катализатора: -\nФормование катализатора: -\nСушка катализатора: -\nПрокаливание катализатора при повышенной температуре: -\nКатализатор с бидисперсной пористой структурой: -\nСуммарный объем пор катализатора равен или более 0,45 см³/г: -\nОбъем пор катализатора с радиусом более равен или более 0,27 см³/г: -\nУдельная поверхность катализатора не менее 200 м²/г: -\nПолучение катализатора из термо- или термомеханохимически активированного гидроксида алюминия: -\nСмешивание активированного гидроксида алюминия с ортофосфорной кислотой: -\nПроведение пластификации при кислотном модуле 0,02 - 0,07: -', 'stage': 'completed'}
2025-10-06 01:58:00,326 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD490>, 1830913972
2025-10-06 01:58:00,332 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972 disconnected
2025-10-06 01:58:00,334 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 01:58:00,334 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972 cleanup completed
2025-10-06 01:58:00,341 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 01:58:00,342 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 01:58:00,344 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 01:58:00,344 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 01:58:00,344 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 01:58:00,345 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 01:58:00,345 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 01:58:00,346 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D400>
2025-10-06 01:58:00,346 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 01:58:00,347 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D400>
2025-10-06 01:58:00,347 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 01:58:00,348 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 01:58:00,348 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D400>
2025-10-06 01:58:00,349 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 01:58:00,351 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 01:58:00,352 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: c206...
2025-10-06 01:58:00,353 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 01:58:00,353 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 01:58:00,355 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 01:58:00,355 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 01:58:00,356 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 01:58:00,356 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 01:58:00,356 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 01:58:00,356 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 01:58:00,357 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 01:58:00,358 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 01:58:00,358 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 1
2025-10-06 01:58:00,359 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 01:58:00,359 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 01:58:00,360 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 01:58:00,360 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 2
2025-10-06 01:58:00,360 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 01:58:00,361 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 01:58:00,361 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 01:58:00,362 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 3
2025-10-06 01:58:00,362 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 01:58:00,363 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 01:58:00,363 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 01:58:00,363 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 4
2025-10-06 01:58:00,368 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972
2025-10-06 01:58:00,368 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972 создан новый список соединений
2025-10-06 01:58:00,369 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972: 1
2025-10-06 01:58:00,369 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972 содержит 4 сообщений
2025-10-06 01:58:00,370 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 01:58:00,370 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972: 1 соединений
2025-10-06 01:58:00,371 - core.connection_manager - DEBUG - [connection_manager.py:187 - print_active_connections()] - 📦 Буферизованные сообщения:
2025-10-06 01:58:00,371 - core.connection_manager - DEBUG - [connection_manager.py:189 - print_active_connections()] -   1830913972: 4 сообщений
2025-10-06 01:58:00,371 - core.connection_manager - DEBUG - [connection_manager.py:190 - print_active_connections()] - buffer: deque([<core.connection_manager.BufferedMessage object at 0x0000022F6348DD90>, <core.connection_manager.BufferedMessage object at 0x0000022F63742AF0>, <core.connection_manager.BufferedMessage object at 0x0000022F63740D60>, <core.connection_manager.BufferedMessage object at 0x0000022F63711F90>], maxlen=50)
2025-10-06 01:58:00,372 - core.connection_manager - DEBUG - [connection_manager.py:130 - _flush_buffer()] - Flushing buffer for 1830913972 (4 messages)
2025-10-06 01:58:00,372 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 01:58:00,374 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD640>, 1830913972
2025-10-06 01:58:00,374 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 01:58:00,375 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD640>, 1830913972
2025-10-06 01:58:00,376 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 01:58:00,376 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD640>, 1830913972
2025-10-06 01:58:00,377 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 01:58:00,377 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD640>, 1830913972
2025-10-06 01:58:00,378 - core.connection_manager - DEBUG - [connection_manager.py:150 - _flush_buffer()] - Flushed 4 messages for 1830913972
2025-10-06 01:58:00,378 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972 содержит 0 сообщений
2025-10-06 01:58:00,379 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972
2025-10-06 01:58:00,379 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972 connected successfully
2025-10-06 01:58:43,287 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Провяливание катализатора на воздухе не менее 12 часов перед сушкой: -
Сушка катализатора при 100 °C не менее 12 часов после провяливания: -
Прокаливание катализатора при 500 °C после сушки: -
Гранулированный наноструктурированный алюмооксидный катализатор: -
Содержание натрия в катализаторе от 0,005 до 0,02 мас.%: -
Содержание серы в катализатора от 0 до 5 мас.%: -
Содержание фосфора в катализаторе от 0 до 2,8 мас.%: -
Содержание хлора в катализаторе от 0 до 2,6 мас.%: -
Бидисперсная пористая структура катализатора: -
Объем микропор катализатора от 0,06 до 0,18 см³/г: -
Объем мезопор катализатора от 0,2 до 0,32 см³/г: -
Суммарный объем пор катализатора от 0,25 до 0,55 см³/г: -
Средний диаметр пор катализатора от 3 до 5,5 нм: -
Удельная поверхность катализатора от 200 до 350 м²/г: -
Оксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы: -
Суммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%: -
Содержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%: -
Форма гранул катализатора - цилиндр диаметром 3-5 мм: -
Форма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм: -
Способ приготовления катализатора, включающий термическую активацию гидраргиллита: -
Гидратация продуктов термической активации гидраргиллита в кислом растворе: -
Отмывка продуктов гидратации от примесных ионов: -
Введение модифицирующих добавок на стадии пластификации: -
Формование в гранулы методом экструзии: -
Проведение термической обработки сформированных гранул: -
Отмывка продуктов гидратации дистиллированной водой: -
Отмывка продуктов гидратации слабыми растворами серной кислоты: -
Отмывка продуктов гидратации слабыми растворами азотной кислоты: -
Использование растворов серной кислоты для пластификации гидроксида алюминия: -
Использование растворов соляной кислоты для пластификации гидроксида алюминия: -
Использование растворов ортофосфорной кислоты для пластификации гидроксида алюминия: -
Использование растворов азотной кислоты для пластификации гидроксида алюминия: -
Модифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃: -
Модифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃: -
Модифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃: -
Модифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃: -
Использование продукта центробежной термической активации гидраргиллита: -
Использование термоактивированного гидроксида алюминия: -
Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С: -
Способ получения этилена путем дегидратации этанола: -
2025-10-06 01:58:43,291 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 01:58:43,292 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'completed', 'message': 'Провяливание катализатора на воздухе не менее 12 часов перед сушкой: -\nСушка катализатора при 100 °C не менее 12 часов после провяливания: -\nПрокаливание катализатора при 500 °C после сушки: -\nГранулированный наноструктурированный алюмооксидный катализатор: -\nСодержание натрия в катализаторе от 0,005 до 0,02 мас.%: -\nСодержание серы в катализатора от 0 до 5 мас.%: -\nСодержание фосфора в катализаторе от 0 до 2,8 мас.%: -\nСодержание хлора в катализаторе от 0 до 2,6 мас.%: -\nБидисперсная пористая структура катализатора: -\nОбъем микропор катализатора от 0,06 до 0,18 см³/г: -\nОбъем мезопор катализатора от 0,2 до 0,32 см³/г: -\nСуммарный объем пор катализатора от 0,25 до 0,55 см³/г: -\nСредний диаметр пор катализатора от 3 до 5,5 нм: -\nУдельная поверхность катализатора от 200 до 350 м²/г: -\nОксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы: -\nСуммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.%: -\nСодержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.%: -\nФорма гранул катализатора - цилиндр диаметром 3-5 мм: -\nФорма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм: -\nСпособ приготовления катализатора, включающий термическую активацию гидраргиллита: -\nГидратация продуктов термической активации гидраргиллита в кислом растворе: -\nОтмывка продуктов гидратации от примесных ионов: -\nВведение модифицирующих добавок на стадии пластификации: -\nФормование в гранулы методом экструзии: -\nПроведение термической обработки сформированных гранул: -\nОтмывка продуктов гидратации дистиллированной водой: -\nОтмывка продуктов гидратации слабыми растворами серной кислоты: -\nОтмывка продуктов гидратации слабыми растворами азотной кислоты: -\nИспользование растворов серной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов соляной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов ортофосфорной кислоты для пластификации гидроксида алюминия: -\nИспользование растворов азотной кислоты для пластификации гидроксида алюминия: -\nМодифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃: -\nМодифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃: -\nМодифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃: -\nМодифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃: -\nИспользование продукта центробежной термической активации гидраргиллита: -\nИспользование термоактивированного гидроксида алюминия: -\nПроведение термической обработки гранул гидроксида алюминия при температуре 500-550°С: -\nСпособ получения этилена путем дегидратации этанола: -', 'stage': 'completed'}
2025-10-06 01:58:43,301 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD640>, 1830913972
2025-10-06 01:58:43,311 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972 disconnected
2025-10-06 01:58:43,313 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 01:58:43,314 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972 cleanup completed
2025-10-06 01:58:43,323 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 01:58:43,326 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 01:58:43,328 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 01:58:43,328 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 01:58:43,328 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 01:58:43,328 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 01:58:43,329 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 01:58:43,329 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CDE0>
2025-10-06 01:58:43,329 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 01:58:43,332 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CDE0>
2025-10-06 01:58:43,332 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 01:58:43,332 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 01:58:43,333 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CDE0>
2025-10-06 01:58:43,333 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 01:58:43,333 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 01:58:43,334 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: c206...
2025-10-06 01:58:43,336 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 01:58:43,337 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 01:58:43,337 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 01:58:43,338 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 01:58:43,338 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 01:58:43,338 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 01:58:43,338 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 01:58:43,338 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 01:58:43,339 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 01:58:43,339 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 01:58:43,339 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 1
2025-10-06 01:58:43,339 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 01:58:43,339 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 01:58:43,340 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 01:58:43,340 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 2
2025-10-06 01:58:43,340 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 01:58:43,340 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 01:58:43,341 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 01:58:43,341 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 3
2025-10-06 01:58:43,341 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 01:58:43,342 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 01:58:43,342 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 01:58:43,343 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 4
2025-10-06 01:58:43,348 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972
2025-10-06 01:58:43,348 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972 создан новый список соединений
2025-10-06 01:58:43,349 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972: 1
2025-10-06 01:58:43,349 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972 содержит 4 сообщений
2025-10-06 01:58:43,350 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 01:58:43,350 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972: 1 соединений
2025-10-06 01:58:43,351 - core.connection_manager - DEBUG - [connection_manager.py:187 - print_active_connections()] - 📦 Буферизованные сообщения:
2025-10-06 01:58:43,351 - core.connection_manager - DEBUG - [connection_manager.py:189 - print_active_connections()] -   1830913972: 4 сообщений
2025-10-06 01:58:43,351 - core.connection_manager - DEBUG - [connection_manager.py:190 - print_active_connections()] - buffer: deque([<core.connection_manager.BufferedMessage object at 0x0000022F63710370>, <core.connection_manager.BufferedMessage object at 0x0000022F634DE7B0>, <core.connection_manager.BufferedMessage object at 0x0000022F6373CDD0>, <core.connection_manager.BufferedMessage object at 0x0000022F6373D450>], maxlen=50)
2025-10-06 01:58:43,352 - core.connection_manager - DEBUG - [connection_manager.py:130 - _flush_buffer()] - Flushing buffer for 1830913972 (4 messages)
2025-10-06 01:58:43,352 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 01:58:43,354 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DC9E0>, 1830913972
2025-10-06 01:58:43,355 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 01:58:43,357 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DC9E0>, 1830913972
2025-10-06 01:58:43,358 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 01:58:43,360 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DC9E0>, 1830913972
2025-10-06 01:58:43,361 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 01:58:43,365 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DC9E0>, 1830913972
2025-10-06 01:58:43,365 - core.connection_manager - DEBUG - [connection_manager.py:150 - _flush_buffer()] - Flushed 4 messages for 1830913972
2025-10-06 01:58:43,365 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972 содержит 0 сообщений
2025-10-06 01:58:43,366 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972
2025-10-06 01:58:43,366 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972 connected successfully
2025-10-06 01:59:30,312 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора: -
Проведение процесса получения этилена при температуре 350-450°С: -
Проведение процесса получения этилена при времени контакта 0.2-4.0 с: -
Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов: -
Содержание палладия в катализаторе 0,01÷1,0 мас.%: -
Размер частиц палладия от 1,5 до 20 нм: -
Нанесение активного компонента (палладия) на бидисперсный силикагель: -
Содержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%: -
Удельная поверхность бидисперсного силикагеля 150÷350 м²/г: -
Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г: -
Отсутствие микропор в бидисперсном силикагеле: -
Объем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г: -
Объем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г: -
Способ приготовления палладиевого катализатора: -
Использование предварительно высушенного носителя: -
Пропитка носителя водным раствором стабилизированного нитрата палладия: -
Пропитка носителя раствором стабилизированного нитрата палладия при определенных рН: -
Сушка катализатора после пропитки: -
Прокаливание катализатора на воздухе после сушки: -
Восстановление катализатора в потоке водородсодержащего газа после прокаливания: -
Добавление лимонной кислоты в пропиточные растворы: -
Предотвращение агломерации палладийсодержащих частиц на поверхности носителя: -
Регулирование рН пропиточных растворов без введения катионов щелочных металлов: -
Регулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида: -
Способ очистки олефинов от примесей полиненасыщенных углеводородов: -
Очистка путем каталитического гидрирования: -
Гидрирование при повышенных температурах: -
Гидрирование при атмосферном давлении: -
Гидрирование при температуре 50-200°С: -
Гидрирование при объемной скорости 10000-20000 ч⁻¹: -
Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой: -
Использование гидроксида алюминия в виде гидратированного соединения: -
Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия: -
Содержание в гидратированном соединении до 10% гиббсита: -
Размол гидроксида алюминия до частиц размером менее 20 мкм: -
Количество частиц размером менее 20 мкм после размола более 70%: -
Смешивание размолотого гидроксида алюминия с водой: -
Проведение смешивания в присутствии азотной кислоты: -
Проведение пластификации полученной смеси: -
Формование гранул из пластифицированного продукта: -
2025-10-06 01:59:30,315 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 01:59:30,315 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'completed', 'message': 'Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора: -\nПроведение процесса получения этилена при температуре 350-450°С: -\nПроведение процесса получения этилена при времени контакта 0.2-4.0 с: -\nКатализатор для очистки олефинов от примесей полиненасыщенных углеводородов: -\nСодержание палладия в катализаторе 0,01÷1,0 мас.%: -\nРазмер частиц палладия от 1,5 до 20 нм: -\nНанесение активного компонента (палладия) на бидисперсный силикагель: -\nСодержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.%: -\nУдельная поверхность бидисперсного силикагеля 150÷350 м²/г: -\nОбщий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г: -\nОтсутствие микропор в бидисперсном силикагеле: -\nОбъем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г: -\nОбъем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г: -\nСпособ приготовления палладиевого катализатора: -\nИспользование предварительно высушенного носителя: -\nПропитка носителя водным раствором стабилизированного нитрата палладия: -\nПропитка носителя раствором стабилизированного нитрата палладия при определенных рН: -\nСушка катализатора после пропитки: -\nПрокаливание катализатора на воздухе после сушки: -\nВосстановление катализатора в потоке водородсодержащего газа после прокаливания: -\nДобавление лимонной кислоты в пропиточные растворы: -\nПредотвращение агломерации палладийсодержащих частиц на поверхности носителя: -\nРегулирование рН пропиточных растворов без введения катионов щелочных металлов: -\nРегулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида: -\nСпособ очистки олефинов от примесей полиненасыщенных углеводородов: -\nОчистка путем каталитического гидрирования: -\nГидрирование при повышенных температурах: -\nГидрирование при атмосферном давлении: -\nГидрирование при температуре 50-200°С: -\nГидрирование при объемной скорости 10000-20000 ч⁻¹: -\nСпособ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой: -\nИспользование гидроксида алюминия в виде гидратированного соединения: -\nСодержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия: -\nСодержание в гидратированном соединении до 10% гиббсита: -\nРазмол гидроксида алюминия до частиц размером менее 20 мкм: -\nКоличество частиц размером менее 20 мкм после размола более 70%: -\nСмешивание размолотого гидроксида алюминия с водой: -\nПроведение смешивания в присутствии азотной кислоты: -\nПроведение пластификации полученной смеси: -\nФормование гранул из пластифицированного продукта: -', 'stage': 'completed'}
2025-10-06 01:59:30,318 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DC9E0>, 1830913972
2025-10-06 01:59:30,324 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972 disconnected
2025-10-06 01:59:30,324 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 01:59:30,324 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972 cleanup completed
2025-10-06 01:59:30,331 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 01:59:30,332 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 01:59:30,334 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 01:59:30,334 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 01:59:30,335 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 01:59:30,336 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 01:59:30,336 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 01:59:30,336 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D010>
2025-10-06 01:59:30,337 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 01:59:30,338 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D010>
2025-10-06 01:59:30,338 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 01:59:30,339 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 01:59:30,339 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D010>
2025-10-06 01:59:30,340 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 01:59:30,340 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 01:59:30,345 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: c206...
2025-10-06 01:59:30,346 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 01:59:30,347 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 01:59:30,347 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 01:59:30,347 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 01:59:30,347 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 01:59:30,348 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 01:59:30,348 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 01:59:30,348 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 01:59:30,348 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 01:59:30,348 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 01:59:30,349 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 1
2025-10-06 01:59:30,349 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 01:59:30,349 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 01:59:30,349 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 01:59:30,349 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 2
2025-10-06 01:59:30,349 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 01:59:30,349 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 01:59:30,349 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 01:59:30,349 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 3
2025-10-06 01:59:30,349 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 01:59:30,350 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 01:59:30,350 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 01:59:30,356 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 4
2025-10-06 01:59:30,360 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972
2025-10-06 01:59:30,360 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972 создан новый список соединений
2025-10-06 01:59:30,360 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972: 1
2025-10-06 01:59:30,361 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972 содержит 4 сообщений
2025-10-06 01:59:30,361 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 01:59:30,362 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972: 1 соединений
2025-10-06 01:59:30,362 - core.connection_manager - DEBUG - [connection_manager.py:187 - print_active_connections()] - 📦 Буферизованные сообщения:
2025-10-06 01:59:30,363 - core.connection_manager - DEBUG - [connection_manager.py:189 - print_active_connections()] -   1830913972: 4 сообщений
2025-10-06 01:59:30,363 - core.connection_manager - DEBUG - [connection_manager.py:190 - print_active_connections()] - buffer: deque([<core.connection_manager.BufferedMessage object at 0x0000022F6371DC50>, <core.connection_manager.BufferedMessage object at 0x0000022F6371C4B0>, <core.connection_manager.BufferedMessage object at 0x0000022F634D3170>, <core.connection_manager.BufferedMessage object at 0x0000022F634D3F50>], maxlen=50)
2025-10-06 01:59:30,363 - core.connection_manager - DEBUG - [connection_manager.py:130 - _flush_buffer()] - Flushing buffer for 1830913972 (4 messages)
2025-10-06 01:59:30,364 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 01:59:30,367 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF920>, 1830913972
2025-10-06 01:59:30,367 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 01:59:30,368 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF920>, 1830913972
2025-10-06 01:59:30,368 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 01:59:30,369 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF920>, 1830913972
2025-10-06 01:59:30,369 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 01:59:30,370 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF920>, 1830913972
2025-10-06 01:59:30,370 - core.connection_manager - DEBUG - [connection_manager.py:150 - _flush_buffer()] - Flushed 4 messages for 1830913972
2025-10-06 01:59:30,370 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972 содержит 0 сообщений
2025-10-06 01:59:30,370 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972
2025-10-06 01:59:30,371 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972 connected successfully
2025-10-06 02:00:02,486 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Формование гранул в слое керосина: -
Формование гранул в водном растворе аммиака: -
Сушка полученных гранул: -
Прокаливание полученных гранул: -
Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л: -
Промывка гранул после прокаливания водой: -
Значение pH воды для промывки от 6 до 9: -
Время промывки 15 минут: -
Проведение термообработки промытых гранул: -
Температура термообработки 250 °C: -
Каталитический реактор трубчатого типа: -
Проведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C: -
Реактор содержит корпус: -
Реактор содержит трубные решетки: -
Реактор содержит устройства для ввода реагентов: -
Реактор содержит устройства для вывода реагентов: -
Реактор содержит устройства для ввода хладагентов: -
Реактор содержит устройства для вывода хладагентов: -
Реактор содержит каталитически активные теплообменные трубки: -
Соединение каталитически активных теплообменных трубок с трубными решетками: -
Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки: -
Нанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок: -
Слой каталитически активного армированного порометаллического материала образован плоскими лентами: -
Слой каталитически активного армированного порометаллического материала образован гофрированными лентами: -
Создание бидисперсной структуры нанесенного на поверхность трубки слоя: -
Толщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм: -
Равномерное нанесение слоя катализатора по длине трубки: -
Неравномерное нанесение слоя катализатора по длине трубки: -
Способ осуществления сильно экзотермических реакций: -
Подача реагирующей смеси стехиометрического состава в межтрубное пространство: -
Подача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство: -
Образование межтрубного пространства каталитически активными теплообменными трубками: -
Подача хладоагента внутрь каталитически активных теплообменных трубок: -
Способ получения пористого железо-калиевооксидного композита: -
Приготовление шихты: -
Шихта содержит кристаллогидрат нитрата железа: -
Шихта содержит кристаллогидрат нитрата церия: -
Шихта содержит нитрат калия: -
Шихта содержит оксид молибдена: -
Шихта содержит оксид титана: -
2025-10-06 02:00:02,488 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:00:02,488 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'completed', 'message': 'Формование гранул в слое керосина: -\nФормование гранул в водном растворе аммиака: -\nСушка полученных гранул: -\nПрокаливание полученных гранул: -\nСмешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л: -\nПромывка гранул после прокаливания водой: -\nЗначение pH воды для промывки от 6 до 9: -\nВремя промывки 15 минут: -\nПроведение термообработки промытых гранул: -\nТемпература термообработки 250 °C: -\nКаталитический реактор трубчатого типа: -\nПроведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C: -\nРеактор содержит корпус: -\nРеактор содержит трубные решетки: -\nРеактор содержит устройства для ввода реагентов: -\nРеактор содержит устройства для вывода реагентов: -\nРеактор содержит устройства для ввода хладагентов: -\nРеактор содержит устройства для вывода хладагентов: -\nРеактор содержит каталитически активные теплообменные трубки: -\nСоединение каталитически активных теплообменных трубок с трубными решетками: -\nКаталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки: -\nНанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок: -\nСлой каталитически активного армированного порометаллического материала образован плоскими лентами: -\nСлой каталитически активного армированного порометаллического материала образован гофрированными лентами: -\nСоздание бидисперсной структуры нанесенного на поверхность трубки слоя: -\nТолщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм: -\nРавномерное нанесение слоя катализатора по длине трубки: -\nНеравномерное нанесение слоя катализатора по длине трубки: -\nСпособ осуществления сильно экзотермических реакций: -\nПодача реагирующей смеси стехиометрического состава в межтрубное пространство: -\nПодача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство: -\nОбразование межтрубного пространства каталитически активными теплообменными трубками: -\nПодача хладоагента внутрь каталитически активных теплообменных трубок: -\nСпособ получения пористого железо-калиевооксидного композита: -\nПриготовление шихты: -\nШихта содержит кристаллогидрат нитрата железа: -\nШихта содержит кристаллогидрат нитрата церия: -\nШихта содержит нитрат калия: -\nШихта содержит оксид молибдена: -\nШихта содержит оксид титана: -', 'stage': 'completed'}
2025-10-06 02:00:02,491 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF920>, 1830913972
2025-10-06 02:00:02,496 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972 disconnected
2025-10-06 02:00:02,497 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 02:00:02,497 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972 cleanup completed
2025-10-06 02:00:02,504 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 02:00:02,506 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 02:00:02,507 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 02:00:02,507 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 02:00:02,508 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 02:00:02,508 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 02:00:02,508 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 02:00:02,508 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DF60>
2025-10-06 02:00:02,509 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 02:00:02,509 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DF60>
2025-10-06 02:00:02,509 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 02:00:02,509 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 02:00:02,511 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DF60>
2025-10-06 02:00:02,512 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 02:00:02,512 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 02:00:02,515 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: c206...
2025-10-06 02:00:02,516 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 02:00:02,518 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 02:00:02,518 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 02:00:02,519 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 02:00:02,519 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 02:00:02,520 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 02:00:02,520 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 02:00:02,521 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:00:02,522 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 02:00:02,522 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:00:02,522 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 1
2025-10-06 02:00:02,523 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:00:02,523 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 02:00:02,524 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:00:02,524 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 2
2025-10-06 02:00:02,525 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:00:02,525 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 02:00:02,526 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:00:02,526 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 3
2025-10-06 02:00:02,527 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:00:02,528 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 02:00:02,528 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:00:02,529 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 4
2025-10-06 02:00:02,534 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972
2025-10-06 02:00:02,535 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972 создан новый список соединений
2025-10-06 02:00:02,535 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972: 1
2025-10-06 02:00:02,536 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972 содержит 4 сообщений
2025-10-06 02:00:02,537 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 02:00:02,537 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972: 1 соединений
2025-10-06 02:00:02,537 - core.connection_manager - DEBUG - [connection_manager.py:187 - print_active_connections()] - 📦 Буферизованные сообщения:
2025-10-06 02:00:02,537 - core.connection_manager - DEBUG - [connection_manager.py:189 - print_active_connections()] -   1830913972: 4 сообщений
2025-10-06 02:00:02,538 - core.connection_manager - DEBUG - [connection_manager.py:190 - print_active_connections()] - buffer: deque([<core.connection_manager.BufferedMessage object at 0x0000022F634D3950>, <core.connection_manager.BufferedMessage object at 0x0000022F637525D0>, <core.connection_manager.BufferedMessage object at 0x0000022F637529F0>, <core.connection_manager.BufferedMessage object at 0x0000022F637504D0>], maxlen=50)
2025-10-06 02:00:02,538 - core.connection_manager - DEBUG - [connection_manager.py:130 - _flush_buffer()] - Flushing buffer for 1830913972 (4 messages)
2025-10-06 02:00:02,538 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 02:00:02,539 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD7F0>, 1830913972
2025-10-06 02:00:02,539 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 02:00:02,540 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD7F0>, 1830913972
2025-10-06 02:00:02,541 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 02:00:02,541 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD7F0>, 1830913972
2025-10-06 02:00:02,542 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 02:00:02,543 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD7F0>, 1830913972
2025-10-06 02:00:02,543 - core.connection_manager - DEBUG - [connection_manager.py:150 - _flush_buffer()] - Flushed 4 messages for 1830913972
2025-10-06 02:00:02,544 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972 содержит 0 сообщений
2025-10-06 02:00:02,544 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972
2025-10-06 02:00:02,544 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972 connected successfully
2025-10-06 02:00:37,545 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Шихта содержит карбонат кальция: -
Шихта содержит тетраэтоксисилан: -
Компоненты шихты взяты в стехиометрическом соотношении: -
Импрегнирование в шихту выгорающей микродобавки: -
Импрегнирование продуктами гидролиза солей: -
Получение продуктов гидролиза солей способом соосаждения: -
Получение продуктов гидролиза солей способом золь-гель: -
Использование диоксанлигнина березы в качестве выгорающей микродобавки: -
Количество выгорающей микродобавки 0,125-0,250 мас.%: -
Формование образцов композита методом полусухого прессования: -
Проведение обжига: -
Обжиг в интервале температур 20-700°С: -
Скорость нагрева при обжиге 10°/мин: -
Изотермическая выдержка при обжиге в течение 3 часов: -
Формирование бидисперсной структуры в композите: -
Пористый железо-калиевооксидный композит: -
Композит содержит фазу оксида железа α-Fe2O3: -
Композит содержит фазу оксида церия CeO2: -
Композит содержит фазу молибдата калия K2MoO4: -
Композит содержит фазу феррита калия состава KFeO2: -
Композит содержит фазу феррита калия состава KFe11O17: -
Композит имеет бидисперсную структуру: -
Общий объем пор композита от 0,006 до 0,013 см3/г: -
Диаметр мезопор композита от 16 до 40 нм: -
Диаметр макропор композита от 75 до 130 нм: -
Удельная поверхность композита от 2 до 5 м2/г: -
Способ получения пористых порошковых материалов: -
Нанесение на частицы порообразователя связующего: -
Смешивание частиц порообразователя со связующим с порошком: -
Формование шихты: -
Спекание шихты: -
Использование металлического порошка при смешивании: -
Использование керамического порошка при смешивании: -
Нанесение на частицы порообразователя не менее двух слоев керамического порошка: -
Нанесение на частицы порообразователя не более пяти слоев керамического порошка: -
Нанесение органического связющего при нанесении первого слоя керамического порошка: -
Использование неорганического связующего при нанесении второго слоя керамического порошка: -
Использование неорганического связующего при нанесении последующих слоев керамического порошка: -
Использование гранул пенополистирола в качестве частиц порообразователя: -
Использование частиц порообразователя с размером в диапазоне 0,5-1 мм: -
2025-10-06 02:00:37,546 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:00:37,548 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'completed', 'message': 'Шихта содержит карбонат кальция: -\nШихта содержит тетраэтоксисилан: -\nКомпоненты шихты взяты в стехиометрическом соотношении: -\nИмпрегнирование в шихту выгорающей микродобавки: -\nИмпрегнирование продуктами гидролиза солей: -\nПолучение продуктов гидролиза солей способом соосаждения: -\nПолучение продуктов гидролиза солей способом золь-гель: -\nИспользование диоксанлигнина березы в качестве выгорающей микродобавки: -\nКоличество выгорающей микродобавки 0,125-0,250 мас.%: -\nФормование образцов композита методом полусухого прессования: -\nПроведение обжига: -\nОбжиг в интервале температур 20-700°С: -\nСкорость нагрева при обжиге 10°/мин: -\nИзотермическая выдержка при обжиге в течение 3 часов: -\nФормирование бидисперсной структуры в композите: -\nПористый железо-калиевооксидный композит: -\nКомпозит содержит фазу оксида железа α-Fe2O3: -\nКомпозит содержит фазу оксида церия CeO2: -\nКомпозит содержит фазу молибдата калия K2MoO4: -\nКомпозит содержит фазу феррита калия состава KFeO2: -\nКомпозит содержит фазу феррита калия состава KFe11O17: -\nКомпозит имеет бидисперсную структуру: -\nОбщий объем пор композита от 0,006 до 0,013 см3/г: -\nДиаметр мезопор композита от 16 до 40 нм: -\nДиаметр макропор композита от 75 до 130 нм: -\nУдельная поверхность композита от 2 до 5 м2/г: -\nСпособ получения пористых порошковых материалов: -\nНанесение на частицы порообразователя связующего: -\nСмешивание частиц порообразователя со связующим с порошком: -\nФормование шихты: -\nСпекание шихты: -\nИспользование металлического порошка при смешивании: -\nИспользование керамического порошка при смешивании: -\nНанесение на частицы порообразователя не менее двух слоев керамического порошка: -\nНанесение на частицы порообразователя не более пяти слоев керамического порошка: -\nНанесение органического связющего при нанесении первого слоя керамического порошка: -\nИспользование неорганического связующего при нанесении второго слоя керамического порошка: -\nИспользование неорганического связующего при нанесении последующих слоев керамического порошка: -\nИспользование гранул пенополистирола в качестве частиц порообразователя: -\nИспользование частиц порообразователя с размером в диапазоне 0,5-1 мм: -', 'stage': 'completed'}
2025-10-06 02:00:37,550 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD7F0>, 1830913972
2025-10-06 02:00:37,555 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972 disconnected
2025-10-06 02:00:37,555 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 02:00:37,556 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972 cleanup completed
2025-10-06 02:00:37,563 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 02:00:37,564 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 02:00:37,565 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 02:00:37,566 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 02:00:37,566 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 02:00:37,566 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 02:00:37,566 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 02:00:37,566 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DD30>
2025-10-06 02:00:37,567 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 02:00:37,567 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DD30>
2025-10-06 02:00:37,568 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 02:00:37,568 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 02:00:37,569 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DD30>
2025-10-06 02:00:37,569 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 02:00:37,570 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 02:00:37,572 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: c206...
2025-10-06 02:00:37,573 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 02:00:37,574 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 02:00:37,574 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 02:00:37,575 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 02:00:37,575 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 02:00:37,575 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 02:00:37,576 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 02:00:37,576 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:00:37,576 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 02:00:37,577 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:00:37,577 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 1
2025-10-06 02:00:37,577 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:00:37,578 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 02:00:37,578 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:00:37,578 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 2
2025-10-06 02:00:37,579 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:00:37,579 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 02:00:37,579 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:00:37,580 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 3
2025-10-06 02:00:37,580 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:00:37,580 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 02:00:37,580 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:00:37,580 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 4
2025-10-06 02:00:37,584 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972
2025-10-06 02:00:37,585 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972 создан новый список соединений
2025-10-06 02:00:37,585 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972: 1
2025-10-06 02:00:37,585 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972 содержит 4 сообщений
2025-10-06 02:00:37,588 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 02:00:37,588 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972: 1 соединений
2025-10-06 02:00:37,589 - core.connection_manager - DEBUG - [connection_manager.py:187 - print_active_connections()] - 📦 Буферизованные сообщения:
2025-10-06 02:00:37,589 - core.connection_manager - DEBUG - [connection_manager.py:189 - print_active_connections()] -   1830913972: 4 сообщений
2025-10-06 02:00:37,589 - core.connection_manager - DEBUG - [connection_manager.py:190 - print_active_connections()] - buffer: deque([<core.connection_manager.BufferedMessage object at 0x0000022F63751A90>, <core.connection_manager.BufferedMessage object at 0x0000022F63751430>, <core.connection_manager.BufferedMessage object at 0x0000022F63752630>, <core.connection_manager.BufferedMessage object at 0x0000022F63752210>], maxlen=50)
2025-10-06 02:00:37,590 - core.connection_manager - DEBUG - [connection_manager.py:130 - _flush_buffer()] - Flushing buffer for 1830913972 (4 messages)
2025-10-06 02:00:37,590 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 02:00:37,591 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF920>, 1830913972
2025-10-06 02:00:37,592 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 02:00:37,592 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF920>, 1830913972
2025-10-06 02:00:37,593 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 02:00:37,594 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF920>, 1830913972
2025-10-06 02:00:37,594 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 02:00:37,595 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF920>, 1830913972
2025-10-06 02:00:37,596 - core.connection_manager - DEBUG - [connection_manager.py:150 - _flush_buffer()] - Flushed 4 messages for 1830913972
2025-10-06 02:00:37,596 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972 содержит 0 сообщений
2025-10-06 02:00:37,597 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972
2025-10-06 02:00:37,597 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972 connected successfully
2025-10-06 02:00:51,334 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: Использование водно-дисперсионного полиуретанового лака в качестве органического связующего: -
Использование водного раствора силиката натрия в качестве неорганического связующего: -
Способ соединения крупногабаритных порошковых деталей: -
Приготовление шихты на основе железа: -
Прессование деталей: -
Нанесение на соединяемые поверхности слоя шликера на основе порошка железа: -
Сборка деталей: -
Размещение пропитывающих брикетов на основе меди: -
Проведение спекания с одновременной инфильтрацией: -
Приготовление шликера из бидисперсных порошков: -
Расположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями: -
Нанесение слоя шликера на поверхность соединяемых деталей: -
Нанесение слоя шликера на поверхность непроницаемой перегородки: -
Размещение пропитывающих брикетов сверху сборки: -
Размещение пропитывающих брикетов снизу сборки: -
2025-10-06 02:00:51,335 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:00:51,336 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'completed', 'message': 'Использование водно-дисперсионного полиуретанового лака в качестве органического связующего: -\nИспользование водного раствора силиката натрия в качестве неорганического связующего: -\nСпособ соединения крупногабаритных порошковых деталей: -\nПриготовление шихты на основе железа: -\nПрессование деталей: -\nНанесение на соединяемые поверхности слоя шликера на основе порошка железа: -\nСборка деталей: -\nРазмещение пропитывающих брикетов на основе меди: -\nПроведение спекания с одновременной инфильтрацией: -\nПриготовление шликера из бидисперсных порошков: -\nРасположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями: -\nНанесение слоя шликера на поверхность соединяемых деталей: -\nНанесение слоя шликера на поверхность непроницаемой перегородки: -\nРазмещение пропитывающих брикетов сверху сборки: -\nРазмещение пропитывающих брикетов снизу сборки: -', 'stage': 'completed'}
2025-10-06 02:00:51,337 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF920>, 1830913972
2025-10-06 02:00:51,341 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972 disconnected
2025-10-06 02:00:51,341 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 02:00:51,342 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972 cleanup completed
2025-10-06 02:21:36,555 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 02:21:36,556 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 02:21:36,557 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 02:21:36,557 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 02:21:36,557 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 02:21:36,558 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 02:21:36,558 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 02:21:36,558 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DA90>
2025-10-06 02:21:36,558 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 02:21:36,559 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DA90>
2025-10-06 02:21:36,559 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 02:21:36,559 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 02:21:36,559 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DA90>
2025-10-06 02:21:36,560 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 02:21:36,560 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 02:21:36,561 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: c206...
2025-10-06 02:21:36,562 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 02:21:36,562 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 02:21:36,563 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 02:21:36,563 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 02:21:36,563 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 02:21:36,563 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 02:21:36,563 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 02:21:36,564 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:21:36,564 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 02:21:36,564 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:21:36,564 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 1
2025-10-06 02:21:36,565 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:21:36,565 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 02:21:36,565 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:21:36,565 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 2
2025-10-06 02:21:36,566 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:21:36,566 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 02:21:36,566 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:21:36,566 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 3
2025-10-06 02:21:36,566 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:21:36,567 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 02:21:36,567 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:21:36,567 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 4
2025-10-06 02:21:36,570 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972
2025-10-06 02:21:36,570 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972 создан новый список соединений
2025-10-06 02:21:36,571 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972: 1
2025-10-06 02:21:36,571 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972 содержит 4 сообщений
2025-10-06 02:21:36,571 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 02:21:36,571 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972: 1 соединений
2025-10-06 02:21:36,572 - core.connection_manager - DEBUG - [connection_manager.py:187 - print_active_connections()] - 📦 Буферизованные сообщения:
2025-10-06 02:21:36,572 - core.connection_manager - DEBUG - [connection_manager.py:189 - print_active_connections()] -   1830913972: 4 сообщений
2025-10-06 02:21:36,572 - core.connection_manager - DEBUG - [connection_manager.py:190 - print_active_connections()] - buffer: deque([<core.connection_manager.BufferedMessage object at 0x0000022F634D2F90>, <core.connection_manager.BufferedMessage object at 0x0000022F634D1190>, <core.connection_manager.BufferedMessage object at 0x0000022F637529F0>, <core.connection_manager.BufferedMessage object at 0x0000022F63750AD0>], maxlen=50)
2025-10-06 02:21:36,572 - core.connection_manager - DEBUG - [connection_manager.py:130 - _flush_buffer()] - Flushing buffer for 1830913972 (4 messages)
2025-10-06 02:21:36,573 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 02:21:36,574 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD7F0>, 1830913972
2025-10-06 02:21:36,574 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 02:21:36,575 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD7F0>, 1830913972
2025-10-06 02:21:36,575 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 02:21:36,575 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD7F0>, 1830913972
2025-10-06 02:21:36,575 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 02:21:36,576 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD7F0>, 1830913972
2025-10-06 02:21:36,576 - core.connection_manager - DEBUG - [connection_manager.py:150 - _flush_buffer()] - Flushed 4 messages for 1830913972
2025-10-06 02:21:36,576 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972 содержит 0 сообщений
2025-10-06 02:21:36,577 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972
2025-10-06 02:21:36,577 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972 connected successfully
2025-10-06 02:22:51,525 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 1. Способ получения бидисперсных порошковых смесей *_* Способ получения бидисперсных порошковых смесей. *_* Способ получения порошковой смеси бидисперсных керамических и металлических частиц
2. Получение смесей из порошков существенно разных размеров *_* Получение смесей, состоящих из порошков существенно разных размеров. *_* -
3. Использование метода самораспространяющегося высокотемпературного синтеза (СВС) *_* Использование метода СВС (самораспространяющегося высокотемпературного синтеза). *_* -
4. Подготовка смеси компонентов *_* Подготовка смеси компонентов на первом этапе. *_* -
5. Смешение нитрата металла и топливного компонента *_* Смешение нитрата металла и топливного компонента. *_* -
6. Использование нитрата металла в качестве окислителя *_* Использование нитрата металла в качестве окислителя. *_* -
7. Использование топливного компонента в качестве восстановителя *_* Использование топливного компонента в качестве восстановителя. *_* -
8. Использование глицерина в качестве топливного компонента *_* Использование глицерина в качестве топливного компонента. *_* -
9. Использование тиомочевины в качестве топливного компонента *_* Использование тиомочевины в качестве топливного компонента. *_* -
10. Использование этиленгликоля в качестве топливного компонента *_* Использование этиленгликоля в качестве топливного компонента. *_* -
11. Пропитка предварительно приготовленного порошка микронных размеров подготовленной смесью *_* Осуществление пропитки подготовленной смесью предварительно приготовленного порошка микронных размеров. *_* -
12. Использование порошка микронных размеров на основе оксидов *_* Использование порошка микронных размеров на основе оксидов. *_* -
13. Равномерное распределение реагентов на поверхности частиц порошка *_* Равномерное распределение реагентов на поверхности частиц порошка. *_* -
14. Формирование однородной бидисперсной смеси *_* Формирование однородной бидисперсной смеси. *_* -
15. Удаление воды из раствора выпариванием *_* Удаление воды из раствора путем выпаривания. *_* -
16. Удаление воды из раствора сушкой *_* Удаление воды из раствора путем сушки. *_* удалением жидкости в сушильном шкафу при температуре не менее 80°С в течение не менее 24 ч
17. Образование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка *_* Образование сухой смеси. *_* -
18. Нагревание сухой смеси до определенной температуры *_* Нагревание сухой смеси до определенной температуры. *_* -
19. Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом *_* Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом. *_* -
20. Экзотермический характер окислительно-восстановительной реакции *_* Экзотермический характер окислительно-восстановительной реакции. *_* -
21. Самораспространяющийся характер процесса горения *_* Самораспространяющийся характер процесса горения. *_* -
22. Поддержание процесса горения за счет выделяемой энергии *_* - *_* -
23. Образование продукта в виде нанопорошка оксида металла *_* Образование продукта в виде нанопорошка оксида металла. *_* -
24. Формирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ) *_* Формирование нанопорошка на поверхности исходных микронных частиц (in situ). *_* -
25. Получение бидисперсной системы, состоящей из микропорошка и нанопорошка *_* Получение бидисперсных систем. *_* -
26. Более равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением *_* Равномерное распределение частиц нанопорошка по всему объему микропорошка. *_* -
27. Способ получения смесевого твердого топлива с металлическим горючим *_* - *_* -
28. Механическое перемешивание компонентов *_* - *_* перемешивание порошков в жидкой среде
29. Использование металлического горючего в виде бидисперсной смеси порошков *_* - *_* -
30. Использование порошка алюминия микронных размеров *_* - *_* использование металлических микрочастиц диаметром в диапазоне (20-180) мкм
31. Использование нанопорошка алюминия *_* - *_* использование керамических наночастиц диаметром в диапазоне (30-140) нм
32. Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.% *_* - *_* массовые доли наночастиц и микрочастиц - в соотношении 1/19
33. Перемешивание бидисперсной смеси до осредненного состояния *_* - *_* перемешивают в течение не менее 15 мин
34. Введение бидисперсной смеси в количестве 10-25 мас.% *_* - *_* -
35. Введение бидисперсной смеси в полностью перемешанную смесь других компонентов *_* - *_* -
36. Дополнительное перемешивание полученной массы в течение не менее 30 мин *_* - *_* -
37. Вакуумирование полученной массы в течение не менее 30 мин *_* - *_* -
38. Использование перхлората аммония в качестве окислителя *_* - *_* -
39. Использование нитрата аммония в качестве окислителя *_* - *_* -
40. Использование смешанного окислителя, включающего нитрат аммония и нитрамин *_* - *_* -
2025-10-06 02:22:51,527 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:22:51,527 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'completed', 'message': '1. Способ получения бидисперсных порошковых смесей *_* Способ получения бидисперсных порошковых смесей. *_* Способ получения порошковой смеси бидисперсных керамических и металлических частиц\n2. Получение смесей из порошков существенно разных размеров *_* Получение смесей, состоящих из порошков существенно разных размеров. *_* -\n3. Использование метода самораспространяющегося высокотемпературного синтеза (СВС) *_* Использование метода СВС (самораспространяющегося высокотемпературного синтеза). *_* -\n4. Подготовка смеси компонентов *_* Подготовка смеси компонентов на первом этапе. *_* -\n5. Смешение нитрата металла и топливного компонента *_* Смешение нитрата металла и топливного компонента. *_* -\n6. Использование нитрата металла в качестве окислителя *_* Использование нитрата металла в качестве окислителя. *_* -\n7. Использование топливного компонента в качестве восстановителя *_* Использование топливного компонента в качестве восстановителя. *_* -\n8. Использование глицерина в качестве топливного компонента *_* Использование глицерина в качестве топливного компонента. *_* -\n9. Использование тиомочевины в качестве топливного компонента *_* Использование тиомочевины в качестве топливного компонента. *_* -\n10. Использование этиленгликоля в качестве топливного компонента *_* Использование этиленгликоля в качестве топливного компонента. *_* -\n11. Пропитка предварительно приготовленного порошка микронных размеров подготовленной смесью *_* Осуществление пропитки подготовленной смесью предварительно приготовленного порошка микронных размеров. *_* -\n12. Использование порошка микронных размеров на основе оксидов *_* Использование порошка микронных размеров на основе оксидов. *_* -\n13. Равномерное распределение реагентов на поверхности частиц порошка *_* Равномерное распределение реагентов на поверхности частиц порошка. *_* -\n14. Формирование однородной бидисперсной смеси *_* Формирование однородной бидисперсной смеси. *_* -\n15. Удаление воды из раствора выпариванием *_* Удаление воды из раствора путем выпаривания. *_* -\n16. Удаление воды из раствора сушкой *_* Удаление воды из раствора путем сушки. *_* удалением жидкости в сушильном шкафу при температуре не менее 80°С в течение не менее 24 ч\n17. Образование сухой смеси, содержащей нитрат металла и топливный компонент на поверхности частиц порошка *_* Образование сухой смеси. *_* -\n18. Нагревание сухой смеси до определенной температуры *_* Нагревание сухой смеси до определенной температуры. *_* -\n19. Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом *_* Инициирование окислительно-восстановительной реакции между нитратом металла и топливным компонентом. *_* -\n20. Экзотермический характер окислительно-восстановительной реакции *_* Экзотермический характер окислительно-восстановительной реакции. *_* -\n21. Самораспространяющийся характер процесса горения *_* Самораспространяющийся характер процесса горения. *_* -\n22. Поддержание процесса горения за счет выделяемой энергии *_* - *_* -\n23. Образование продукта в виде нанопорошка оксида металла *_* Образование продукта в виде нанопорошка оксида металла. *_* -\n24. Формирование нанопорошка оксида металла на поверхности исходных микронных частиц (in situ) *_* Формирование нанопорошка на поверхности исходных микронных частиц (in situ). *_* -\n25. Получение бидисперсной системы, состоящей из микропорошка и нанопорошка *_* Получение бидисперсных систем. *_* -\n26. Более равномерное распределение частиц нанопорошка по всему объему микропорошка по сравнению с традиционным смешением *_* Равномерное распределение частиц нанопорошка по всему объему микропорошка. *_* -\n27. Способ получения смесевого твердого топлива с металлическим горючим *_* - *_* -\n28. Механическое перемешивание компонентов *_* - *_* перемешивание порошков в жидкой среде\n29. Использование металлического горючего в виде бидисперсной смеси порошков *_* - *_* -\n30. Использование порошка алюминия микронных размеров *_* - *_* использование металлических микрочастиц диаметром в диапазоне (20-180) мкм\n31. Использование нанопорошка алюминия *_* - *_* использование керамических наночастиц диаметром в диапазоне (30-140) нм\n32. Соотношение порошка алюминия микронных размеров и нанопорошка алюминия в бидисперсной смеси 40/60 мас.% *_* - *_* массовые доли наночастиц и микрочастиц - в соотношении 1/19\n33. Перемешивание бидисперсной смеси до осредненного состояния *_* - *_* перемешивают в течение не менее 15 мин\n34. Введение бидисперсной смеси в количестве 10-25 мас.% *_* - *_* -\n35. Введение бидисперсной смеси в полностью перемешанную смесь других компонентов *_* - *_* -\n36. Дополнительное перемешивание полученной массы в течение не менее 30 мин *_* - *_* -\n37. Вакуумирование полученной массы в течение не менее 30 мин *_* - *_* -\n38. Использование перхлората аммония в качестве окислителя *_* - *_* -\n39. Использование нитрата аммония в качестве окислителя *_* - *_* -\n40. Использование смешанного окислителя, включающего нитрат аммония и нитрамин *_* - *_* -', 'stage': 'completed'}
2025-10-06 02:22:51,530 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DD7F0>, 1830913972
2025-10-06 02:22:51,533 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972 disconnected
2025-10-06 02:22:51,533 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 02:22:51,533 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972 cleanup completed
2025-10-06 02:22:51,546 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 02:22:51,546 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 02:22:51,547 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 02:22:51,547 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 02:22:51,548 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 02:22:51,548 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 02:22:51,548 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 02:22:51,548 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CB40>
2025-10-06 02:22:51,548 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 02:22:51,549 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CB40>
2025-10-06 02:22:51,549 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 02:22:51,549 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 02:22:51,549 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371CB40>
2025-10-06 02:22:51,550 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 02:22:51,550 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 02:22:51,550 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: c206...
2025-10-06 02:22:51,551 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 02:22:51,551 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 02:22:51,551 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 02:22:51,551 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 02:22:51,552 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 02:22:51,552 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 02:22:51,552 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 02:22:51,552 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:22:51,552 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 02:22:51,552 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:22:51,553 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 1
2025-10-06 02:22:51,553 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:22:51,553 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 02:22:51,553 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:22:51,553 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 2
2025-10-06 02:22:51,553 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:22:51,554 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 02:22:51,554 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:22:51,554 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 3
2025-10-06 02:22:51,554 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:22:51,554 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 02:22:51,554 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:22:51,555 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 4
2025-10-06 02:22:51,557 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972
2025-10-06 02:22:51,557 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972 создан новый список соединений
2025-10-06 02:22:51,557 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972: 1
2025-10-06 02:22:51,557 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972 содержит 4 сообщений
2025-10-06 02:22:51,557 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 02:22:51,558 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972: 1 соединений
2025-10-06 02:22:51,558 - core.connection_manager - DEBUG - [connection_manager.py:187 - print_active_connections()] - 📦 Буферизованные сообщения:
2025-10-06 02:22:51,558 - core.connection_manager - DEBUG - [connection_manager.py:189 - print_active_connections()] -   1830913972: 4 сообщений
2025-10-06 02:22:51,558 - core.connection_manager - DEBUG - [connection_manager.py:190 - print_active_connections()] - buffer: deque([<core.connection_manager.BufferedMessage object at 0x0000022F63752630>, <core.connection_manager.BufferedMessage object at 0x0000022F63752210>, <core.connection_manager.BufferedMessage object at 0x0000022F63752030>, <core.connection_manager.BufferedMessage object at 0x0000022F63751430>], maxlen=50)
2025-10-06 02:22:51,559 - core.connection_manager - DEBUG - [connection_manager.py:130 - _flush_buffer()] - Flushing buffer for 1830913972 (4 messages)
2025-10-06 02:22:51,559 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 02:22:51,560 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF5C0>, 1830913972
2025-10-06 02:22:51,561 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 02:22:51,561 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF5C0>, 1830913972
2025-10-06 02:22:51,562 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 02:22:51,562 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF5C0>, 1830913972
2025-10-06 02:22:51,562 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 02:22:51,563 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF5C0>, 1830913972
2025-10-06 02:22:51,563 - core.connection_manager - DEBUG - [connection_manager.py:150 - _flush_buffer()] - Flushed 4 messages for 1830913972
2025-10-06 02:22:51,563 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972 содержит 0 сообщений
2025-10-06 02:22:51,563 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972
2025-10-06 02:22:51,563 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972 connected successfully
2025-10-06 02:23:53,113 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 41. Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего *_* - *_* -
42. Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего *_* - *_* -
43. Способ получения порошковой смеси бидисперсных керамических и металлических частиц *_* Способ получения бидисперсных порошковых смесей. *_* Способ получения порошковой смеси бидисперсных керамических и металлических частиц
44. Перемешивание порошков в жидкой среде *_* Смешение нитрата металла и топливного компонента. *_* Перемешивание порошков в жидкой среде
45. Двухэтапное перемешивание *_* Подготовка смеси компонентов на первом этапе. *_* перемешивание порошков в жидкой среде проводят в два этапа
46. Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды *_* - *_* в качестве жидкой среды используют раствор петролейного эфира и стеариновой кислоты
47. Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1 *_* - *_* в массовом соотношении 199/1
48. Перемешивание керамических наночастиц в жидкой среде на первом этапе *_* - *_* на первом этапе перемешивают керамические наночастицы в жидкой среде
49. Длительность перемешивания на первом этапе не менее 15 минут *_* - *_* в течение не менее 15 мин
50. Добавление металлических микрочастиц на втором этапе *_* Осуществление пропитки подготовленной смесью предварительно приготовленного порошка микронных размеров. *_* на втором этапе в полученную смесь добавляют металлические микрочастицы
51. Перемешивание полученной смеси на втором этапе *_* - *_* перемешивают в течение не менее 15 мин
52. Длительность перемешивания на втором этапе не менее 15 минут *_* - *_* в течение не менее 15 мин
53. Удаление жидкости после перемешивания *_* Удаление воды из раствора путем выпаривания. *_* с последующим удалением жидкости
54. Удаление жидкости в сушильном шкафу *_* Удаление воды из раствора путем сушки. *_* в сушильном шкафу
55. Температура удаления жидкости не менее 80°C *_* - *_* при температуре не менее 80°С
56. Длительность удаления жидкости не менее 24 часов *_* - *_* в течение не менее 24 ч
57. Использование керамических наночастиц *_* Использование порошка микронных размеров на основе оксидов. *_* керамические наночастицы
58. Диаметр керамических наночастиц от 30 до 140 нм *_* - *_* диаметром в диапазоне (30-140) нм
59. Использование металлических микрочастиц *_* Использование порошка микронных размеров на основе оксидов. *_* металлические микрочастицы
60. Диаметр металлических микрочастиц от 20 до 180 мкм *_* - *_* диаметром в диапазоне (20-180) мкм
61. Массовое соотношение порошков и жидкости 1/2 *_* - *_* массовые доли порошков и жидкости выбирают в соотношении 1/2
62. Массовое соотношение наночастиц и микрочастиц 1/19 *_* - *_* массовые доли наночастиц и микрочастиц - в соотношении 1/19
63. Способ получения дифениламина *_* - *_* -
64. Термическая обработка анилина *_* - *_* -
65. Проведение термической обработка в присутствии катализатора *_* - *_* -
66. Использование алюмооксидного катализатора *_* - *_* -
67. Катализатор кислого характера *_* - *_* -
68. Получение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде *_* - *_* -
69. Использование азотной кислоты при получении катализатора *_* - *_* -
70. Пластификация катализатора *_* - *_* -
71. Формование катализатора *_* - *_* -
72. Сушка катализатора *_* - *_* -
73. Прокаливание катализатора при повышенной температуре *_* - *_* -
74. Катализатор с бидисперсной пористой структурой *_* - *_* -
75. Суммарный объем пор катализатора равен или более 0,45 см³/г *_* - *_* -
76. Объем пор катализатора с радиусом более равен или более 0,27 см³/г *_* - *_* -
77. Удельная поверхность катализатора не менее 200 м²/г *_* - *_* -
78. Получение катализатора из термо- или термомеханохимически активированного гидроксида алюминия *_* - *_* -
79. Смешивание активированного гидроксида алюминия с ортофосфорной кислотой *_* - *_* -
80. Проведение пластификации при кислотном модуле 0,02 - 0,07 *_* - *_* -
2025-10-06 02:23:53,114 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:23:53,115 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'completed', 'message': '41. Использование каучуков, пластифицированных трансформаторным маслом, в качестве горючего-связующего *_* - *_* -\n42. Использование каучуков, пластифицированных нитросодержащими соединениями, в качестве горючего-связующего *_* - *_* -\n43. Способ получения порошковой смеси бидисперсных керамических и металлических частиц *_* Способ получения бидисперсных порошковых смесей. *_* Способ получения порошковой смеси бидисперсных керамических и металлических частиц\n44. Перемешивание порошков в жидкой среде *_* Смешение нитрата металла и топливного компонента. *_* Перемешивание порошков в жидкой среде\n45. Двухэтапное перемешивание *_* Подготовка смеси компонентов на первом этапе. *_* перемешивание порошков в жидкой среде проводят в два этапа\n46. Использование раствора петролейного эфира и стеариновой кислоты в качестве жидкой среды *_* - *_* в качестве жидкой среды используют раствор петролейного эфира и стеариновой кислоты\n47. Массовое соотношение петролейного эфира и стеариновой кислоты в растворе 199/1 *_* - *_* в массовом соотношении 199/1\n48. Перемешивание керамических наночастиц в жидкой среде на первом этапе *_* - *_* на первом этапе перемешивают керамические наночастицы в жидкой среде\n49. Длительность перемешивания на первом этапе не менее 15 минут *_* - *_* в течение не менее 15 мин\n50. Добавление металлических микрочастиц на втором этапе *_* Осуществление пропитки подготовленной смесью предварительно приготовленного порошка микронных размеров. *_* на втором этапе в полученную смесь добавляют металлические микрочастицы\n51. Перемешивание полученной смеси на втором этапе *_* - *_* перемешивают в течение не менее 15 мин\n52. Длительность перемешивания на втором этапе не менее 15 минут *_* - *_* в течение не менее 15 мин\n53. Удаление жидкости после перемешивания *_* Удаление воды из раствора путем выпаривания. *_* с последующим удалением жидкости\n54. Удаление жидкости в сушильном шкафу *_* Удаление воды из раствора путем сушки. *_* в сушильном шкафу\n55. Температура удаления жидкости не менее 80°C *_* - *_* при температуре не менее 80°С\n56. Длительность удаления жидкости не менее 24 часов *_* - *_* в течение не менее 24 ч\n57. Использование керамических наночастиц *_* Использование порошка микронных размеров на основе оксидов. *_* керамические наночастицы\n58. Диаметр керамических наночастиц от 30 до 140 нм *_* - *_* диаметром в диапазоне (30-140) нм\n59. Использование металлических микрочастиц *_* Использование порошка микронных размеров на основе оксидов. *_* металлические микрочастицы\n60. Диаметр металлических микрочастиц от 20 до 180 мкм *_* - *_* диаметром в диапазоне (20-180) мкм\n61. Массовое соотношение порошков и жидкости 1/2 *_* - *_* массовые доли порошков и жидкости выбирают в соотношении 1/2\n62. Массовое соотношение наночастиц и микрочастиц 1/19 *_* - *_* массовые доли наночастиц и микрочастиц - в соотношении 1/19\n63. Способ получения дифениламина *_* - *_* -\n64. Термическая обработка анилина *_* - *_* -\n65. Проведение термической обработка в присутствии катализатора *_* - *_* -\n66. Использование алюмооксидного катализатора *_* - *_* -\n67. Катализатор кислого характера *_* - *_* -\n68. Получение катализатора смешением гидроксида алюминия с соединением кислого характера в водной среде *_* - *_* -\n69. Использование азотной кислоты при получении катализатора *_* - *_* -\n70. Пластификация катализатора *_* - *_* -\n71. Формование катализатора *_* - *_* -\n72. Сушка катализатора *_* - *_* -\n73. Прокаливание катализатора при повышенной температуре *_* - *_* -\n74. Катализатор с бидисперсной пористой структурой *_* - *_* -\n75. Суммарный объем пор катализатора равен или более 0,45 см³/г *_* - *_* -\n76. Объем пор катализатора с радиусом более равен или более 0,27 см³/г *_* - *_* -\n77. Удельная поверхность катализатора не менее 200 м²/г *_* - *_* -\n78. Получение катализатора из термо- или термомеханохимически активированного гидроксида алюминия *_* - *_* -\n79. Смешивание активированного гидроксида алюминия с ортофосфорной кислотой *_* - *_* -\n80. Проведение пластификации при кислотном модуле 0,02 - 0,07 *_* - *_* -', 'stage': 'completed'}
2025-10-06 02:23:53,117 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DF5C0>, 1830913972
2025-10-06 02:23:53,120 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972 disconnected
2025-10-06 02:23:53,120 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 02:23:53,120 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972 cleanup completed
2025-10-06 02:23:53,124 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 02:23:53,125 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 02:23:53,125 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 02:23:53,126 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 02:23:53,126 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 02:23:53,126 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 02:23:53,126 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 02:23:53,126 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D320>
2025-10-06 02:23:53,127 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 02:23:53,127 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D320>
2025-10-06 02:23:53,127 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 02:23:53,128 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 02:23:53,128 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D320>
2025-10-06 02:23:53,128 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 02:23:53,128 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 02:23:53,129 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: c206...
2025-10-06 02:23:53,130 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 02:23:53,130 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 02:23:53,130 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 02:23:53,130 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 02:23:53,131 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 02:23:53,131 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 02:23:53,131 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 02:23:53,131 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:23:53,131 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 02:23:53,132 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:23:53,132 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 1
2025-10-06 02:23:53,132 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:23:53,132 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 02:23:53,132 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:23:53,132 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 2
2025-10-06 02:23:53,133 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:23:53,133 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 02:23:53,133 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:23:53,133 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 3
2025-10-06 02:23:53,134 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:23:53,134 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 02:23:53,134 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:23:53,134 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 4
2025-10-06 02:23:53,136 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972
2025-10-06 02:23:53,136 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972 создан новый список соединений
2025-10-06 02:23:53,136 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972: 1
2025-10-06 02:23:53,137 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972 содержит 4 сообщений
2025-10-06 02:23:53,137 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 02:23:53,137 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972: 1 соединений
2025-10-06 02:23:53,138 - core.connection_manager - DEBUG - [connection_manager.py:187 - print_active_connections()] - 📦 Буферизованные сообщения:
2025-10-06 02:23:53,138 - core.connection_manager - DEBUG - [connection_manager.py:189 - print_active_connections()] -   1830913972: 4 сообщений
2025-10-06 02:23:53,138 - core.connection_manager - DEBUG - [connection_manager.py:190 - print_active_connections()] - buffer: deque([<core.connection_manager.BufferedMessage object at 0x0000022F63751370>, <core.connection_manager.BufferedMessage object at 0x0000022F63752030>, <core.connection_manager.BufferedMessage object at 0x0000022F637529F0>, <core.connection_manager.BufferedMessage object at 0x0000022F63750D70>], maxlen=50)
2025-10-06 02:23:53,139 - core.connection_manager - DEBUG - [connection_manager.py:130 - _flush_buffer()] - Flushing buffer for 1830913972 (4 messages)
2025-10-06 02:23:53,139 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 02:23:53,140 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63784830>, 1830913972
2025-10-06 02:23:53,141 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 02:23:53,141 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63784830>, 1830913972
2025-10-06 02:23:53,141 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 02:23:53,141 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63784830>, 1830913972
2025-10-06 02:23:53,142 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 02:23:53,142 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63784830>, 1830913972
2025-10-06 02:23:53,142 - core.connection_manager - DEBUG - [connection_manager.py:150 - _flush_buffer()] - Flushed 4 messages for 1830913972
2025-10-06 02:23:53,142 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972 содержит 0 сообщений
2025-10-06 02:23:53,143 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972
2025-10-06 02:23:53,143 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972 connected successfully
2025-10-06 02:24:52,205 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 81. Провяливание катализатора на воздухе не менее 12 часов перед сушкой *_* - *_* -
82. Сушка катализатора при 100 °C не менее 12 часов после провяливания *_* - *_* -
83. Прокаливание катализатора при 500 °C после сушки *_* - *_* -
84. Гранулированный наноструктурированный алюмооксидный катализатор *_* - *_* -
85. Содержание натрия в катализаторе от 0,005 до 0,02 мас.% *_* - *_* -
86. Содержание серы в катализатора от 0 до 5 мас.% *_* - *_* -
87. Содержание фосфора в катализаторе от 0 до 2,8 мас.% *_* - *_* -
88. Содержание хлора в катализаторе от 0 до 2,6 мас.% *_* - *_* -
89. Бидисперсная пористая структура катализатора *_* - *_* -
90. Объем микропор катализатора от 0,06 до 0,18 см³/г *_* - *_* -
91. Объем мезопор катализатора от 0,2 до 0,32 см³/г *_* - *_* -
92. Суммарный объем пор катализатора от 0,25 до 0,55 см³/г *_* - *_* -
93. Средний диаметр пор катализатора от 3 до 5,5 нм *_* - *_* -
94. Удельная поверхность катализатора от 200 до 350 м²/г *_* - *_* -
95. Оксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы *_* - *_* -
96. Суммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.% *_* - *_* -
97. Содержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.% *_* - *_* -
98. Форма гранул катализатора - цилиндр диаметром 3-5 мм *_* - *_* -
99. Форма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм *_* - *_* -
100. Способ приготовления катализатора, включающий термическую активацию гидраргиллита *_* - *_* -
101. Гидратация продуктов термической активации гидраргиллита в кислом растворе *_* - *_* -
102. Отмывка продуктов гидратации от примесных ионов *_* - *_* -
103. Введение модифицирующих добавок на стадии пластификации *_* - *_* -
104. Формование в гранулы методом экструзии *_* - *_* -
105. Проведение термической обработки сформированных гранул *_* - *_* -
106. Отмывка продуктов гидратации дистиллированной водой *_* - *_* -
107. Отмывка продуктов гидратации слабыми растворами серной кислоты *_* - *_* -
108. Отмывка продуктов гидратации слабыми растворами азотной кислоты *_* - *_* -
109. Использование растворов серной кислоты для пластификации гидроксида алюминия *_* - *_* -
110. Использование растворов соляной кислоты для пластификации гидроксида алюминия *_* - *_* -
111. Использование растворов ортофосфорной кислоты для пластификации гидроксида алюминия *_* - *_* -
112. Использование растворов азотной кислоты для пластификации гидроксида алюминия *_* - *_* -
113. Модифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃ *_* - *_* -
114. Модифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃ *_* - *_* -
115. Модифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃ *_* - *_* -
116. Модифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃ *_* - *_* -
117. Использование продукта центробежной термической активации гидраргиллита *_* - *_* -
118. Использование термоактивированного гидроксида алюминия *_* - *_* -
119. Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С *_* - *_* -
120. Способ получения этилена путем дегидратации этанола *_* - *_* -
2025-10-06 02:24:52,206 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:24:52,207 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'completed', 'message': '81. Провяливание катализатора на воздухе не менее 12 часов перед сушкой *_* - *_* -\n82. Сушка катализатора при 100 °C не менее 12 часов после провяливания *_* - *_* -\n83. Прокаливание катализатора при 500 °C после сушки *_* - *_* -\n84. Гранулированный наноструктурированный алюмооксидный катализатор *_* - *_* -\n85. Содержание натрия в катализаторе от 0,005 до 0,02 мас.% *_* - *_* -\n86. Содержание серы в катализатора от 0 до 5 мас.% *_* - *_* -\n87. Содержание фосфора в катализаторе от 0 до 2,8 мас.% *_* - *_* -\n88. Содержание хлора в катализаторе от 0 до 2,6 мас.% *_* - *_* -\n89. Бидисперсная пористая структура катализатора *_* - *_* -\n90. Объем микропор катализатора от 0,06 до 0,18 см³/г *_* - *_* -\n91. Объем мезопор катализатора от 0,2 до 0,32 см³/г *_* - *_* -\n92. Суммарный объем пор катализатора от 0,25 до 0,55 см³/г *_* - *_* -\n93. Средний диаметр пор катализатора от 3 до 5,5 нм *_* - *_* -\n94. Удельная поверхность катализатора от 200 до 350 м²/г *_* - *_* -\n95. Оксид алюминия в катализаторе представляет собой смесь γ-Al₂O₃, χ-Al₂O₃ и рентгеноаморфной фазы *_* - *_* -\n96. Суммарное содержание χ-Al₂O₃ и рентгеноаморфной фазы в смеси оксида алюминия от 60 до 70 мас.% *_* - *_* -\n97. Содержание γ-Al₂O₃ в смеси оксида алюминия от 30 до 40 мас.% *_* - *_* -\n98. Форма гранул катализатора - цилиндр диаметром 3-5 мм *_* - *_* -\n99. Форма гранул катализатора - трилистник с диаметром описанной окружности 1,6-3,2 мм *_* - *_* -\n100. Способ приготовления катализатора, включающий термическую активацию гидраргиллита *_* - *_* -\n101. Гидратация продуктов термической активации гидраргиллита в кислом растворе *_* - *_* -\n102. Отмывка продуктов гидратации от примесных ионов *_* - *_* -\n103. Введение модифицирующих добавок на стадии пластификации *_* - *_* -\n104. Формование в гранулы методом экструзии *_* - *_* -\n105. Проведение термической обработки сформированных гранул *_* - *_* -\n106. Отмывка продуктов гидратации дистиллированной водой *_* - *_* -\n107. Отмывка продуктов гидратации слабыми растворами серной кислоты *_* - *_* -\n108. Отмывка продуктов гидратации слабыми растворами азотной кислоты *_* - *_* -\n109. Использование растворов серной кислоты для пластификации гидроксида алюминия *_* - *_* -\n110. Использование растворов соляной кислоты для пластификации гидроксида алюминия *_* - *_* -\n111. Использование растворов ортофосфорной кислоты для пластификации гидроксида алюминия *_* - *_* -\n112. Использование растворов азотной кислоты для пластификации гидроксида алюминия *_* - *_* -\n113. Модифицирование серной кислотой при кислотном модуле Мк 0,025-0,1 моль H₂SO₄/моль Al₂O₃ *_* - *_* -\n114. Модифицирование соляной кислотой при кислотном модуле Мк 0,025-0,075 моль HCl/моль Al₂O₃ *_* - *_* -\n115. Модифицирование ортофосфорной кислотой при кислотном модуле Мк 0,05-0,1 моль H₃PO₄/моль Al₂O₃ *_* - *_* -\n116. Модифицирование азотной кислотой при кислотном модуле Мк 0,025-0,1 моль HNO₃/моль Al₂O₃ *_* - *_* -\n117. Использование продукта центробежной термической активации гидраргиллита *_* - *_* -\n118. Использование термоактивированного гидроксида алюминия *_* - *_* -\n119. Проведение термической обработки гранул гидроксида алюминия при температуре 500-550°С *_* - *_* -\n120. Способ получения этилена путем дегидратации этанола *_* - *_* -', 'stage': 'completed'}
2025-10-06 02:24:52,208 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F63784830>, 1830913972
2025-10-06 02:24:52,211 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972 disconnected
2025-10-06 02:24:52,211 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 02:24:52,212 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972 cleanup completed
2025-10-06 02:24:52,215 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 02:24:52,216 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 02:24:52,216 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 02:24:52,217 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 02:24:52,217 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 02:24:52,217 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 02:24:52,217 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 02:24:52,217 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D010>
2025-10-06 02:24:52,217 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 02:24:52,217 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D010>
2025-10-06 02:24:52,218 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 02:24:52,218 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 02:24:52,218 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371D010>
2025-10-06 02:24:52,218 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 02:24:52,219 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 02:24:52,220 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: c206...
2025-10-06 02:24:52,220 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 02:24:52,220 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 02:24:52,220 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 02:24:52,220 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 02:24:52,221 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 02:24:52,221 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 02:24:52,221 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 02:24:52,221 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:24:52,221 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 02:24:52,222 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:24:52,222 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 1
2025-10-06 02:24:52,222 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:24:52,222 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 02:24:52,222 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:24:52,222 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 2
2025-10-06 02:24:52,223 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:24:52,223 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 02:24:52,223 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:24:52,223 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 3
2025-10-06 02:24:52,223 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:24:52,223 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 02:24:52,224 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:24:52,224 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 4
2025-10-06 02:24:52,226 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972
2025-10-06 02:24:52,226 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972 создан новый список соединений
2025-10-06 02:24:52,227 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972: 1
2025-10-06 02:24:52,227 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972 содержит 4 сообщений
2025-10-06 02:24:52,227 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 02:24:52,228 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972: 1 соединений
2025-10-06 02:24:52,228 - core.connection_manager - DEBUG - [connection_manager.py:187 - print_active_connections()] - 📦 Буферизованные сообщения:
2025-10-06 02:24:52,228 - core.connection_manager - DEBUG - [connection_manager.py:189 - print_active_connections()] -   1830913972: 4 сообщений
2025-10-06 02:24:52,228 - core.connection_manager - DEBUG - [connection_manager.py:190 - print_active_connections()] - buffer: deque([<core.connection_manager.BufferedMessage object at 0x0000022F63751910>, <core.connection_manager.BufferedMessage object at 0x0000022F637525D0>, <core.connection_manager.BufferedMessage object at 0x0000022F63750BF0>, <core.connection_manager.BufferedMessage object at 0x0000022F63751430>], maxlen=50)
2025-10-06 02:24:52,229 - core.connection_manager - DEBUG - [connection_manager.py:130 - _flush_buffer()] - Flushing buffer for 1830913972 (4 messages)
2025-10-06 02:24:52,229 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 02:24:52,229 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F637843B0>, 1830913972
2025-10-06 02:24:52,230 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 02:24:52,230 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F637843B0>, 1830913972
2025-10-06 02:24:52,230 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 02:24:52,231 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F637843B0>, 1830913972
2025-10-06 02:24:52,231 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 02:24:52,231 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F637843B0>, 1830913972
2025-10-06 02:24:52,231 - core.connection_manager - DEBUG - [connection_manager.py:150 - _flush_buffer()] - Flushed 4 messages for 1830913972
2025-10-06 02:24:52,231 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972 содержит 0 сообщений
2025-10-06 02:24:52,232 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972
2025-10-06 02:24:52,232 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972 connected successfully
2025-10-06 02:25:54,396 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 121. Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора *_* - *_* -
122. Проведение процесса получения этилена при температуре 350-450°С *_* - *_* -
123. Проведение процесса получения этилена при времени контакта 0.2-4.0 с *_* - *_* -
124. Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов *_* - *_* -
125. Содержание палладия в катализаторе 0,01÷1,0 мас.% *_* - *_* -
126. Размер частиц палладия от 1,5 до 20 нм *_* - *_* -
127. Нанесение активного компонента (палладия) на бидисперсный силикагель *_* - *_* -
128. Содержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.% *_* - *_* -
129. Удельная поверхность бидисперсного силикагеля 150÷350 м²/г *_* - *_* -
130. Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г *_* - *_* -
131. Отсутствие микропор в бидисперсном силикагеле *_* - *_* -
132. Объем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г *_* - *_* -
133. Объем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г *_* - *_* -
134. Способ приготовления палладиевого катализатора *_* - *_* -
135. Использование предварительно высушенного носителя *_* - *_* -
136. Пропитка носителя водным раствором стабилизированного нитрата палладия *_* Осуществление пропитки подготовленной смесью предварительно приготовленного порошка микронных размеров *_* -
137. Пропитка носителя раствором стабилизированного нитрата палладия при определенных рН *_* Осуществление пропитки подготовленной смесью предварительно приготовленного порошка микронных размеров *_* -
138. Сушка катализатора после пропитки *_* Удаление воды из раствора путем сушки *_* удалением жидкости в сушильном шкафу при температуре не менее 80°С в течение не менее 24 ч
139. Прокаливание катализатора на воздухе после сушки *_* - *_* -
140. Восстановление катализатора в потоке водородсодержащего газа после прокаливания *_* - *_* -
141. Добавление лимонной кислоты в пропиточные растворы *_* - *_* -
142. Предотвращение агломерации палладийсодержащих частиц на поверхности носителя *_* Равномерное распределение реагентов на поверхности частиц порошка *_* -
143. Регулирование рН пропиточных растворов без введения катионов щелочных металлов *_* - *_* -
144. Регулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида *_* - *_* -
145. Способ очистки олефинов от примесей полиненасыщенных углеводородов *_* - *_* -
146. Очистка путем каталитического гидрирования *_* - *_* -
147. Гидрирование при повышенных температурах *_* - *_* -
148. Гидрирование при атмосферном давлении *_* - *_* -
149. Гидрирование при температуре 50-200°С *_* - *_* -
150. Гидрирование при объемной скорости 10000-20000 ч⁻¹ *_* - *_* -
151. Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой *_* Способ получения бидисперсных порошковых смесей *_* Способ получения порошковой смеси бидисперсных керамических и металлических частиц
152. Использование гидроксида алюминия в виде гидратированного соединения *_* - *_* -
153. Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия *_* - *_* -
154. Содержание в гидратированном соединении до 10% гиббсита *_* - *_* -
155. Размол гидроксида алюминия до частиц размером менее 20 мкм *_* - *_* -
156. Количество частиц размером менее 20 мкм после размола более 70% *_* - *_* -
157. Смешивание размолотого гидроксида алюминия с водой *_* Подготовка смеси компонентов на первом этапе *_* перемешивают керамические наночастицы в жидкой среде в течение не менее 15 мин
158. Проведение смешивания в присутствии азотной кислоты *_* - *_* -
159. Проведение пластификации полученной смеси *_* - *_* -
160. Формование гранул из пластифицированного продукта *_* - *_* -
2025-10-06 02:25:54,397 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:25:54,398 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'completed', 'message': '121. Пропускание содержащего этанол газа через неподвижный слой алюмооксидного катализатора *_* - *_* -\n122. Проведение процесса получения этилена при температуре 350-450°С *_* - *_* -\n123. Проведение процесса получения этилена при времени контакта 0.2-4.0 с *_* - *_* -\n124. Катализатор для очистки олефинов от примесей полиненасыщенных углеводородов *_* - *_* -\n125. Содержание палладия в катализаторе 0,01÷1,0 мас.% *_* - *_* -\n126. Размер частиц палладия от 1,5 до 20 нм *_* - *_* -\n127. Нанесение активного компонента (палладия) на бидисперсный силикагель *_* - *_* -\n128. Содержание щелочного металла в бидисперсном силикагеле не выше 0,01 мас.% *_* - *_* -\n129. Удельная поверхность бидисперсного силикагеля 150÷350 м²/г *_* - *_* -\n130. Общий объем пор бидисперсного силикагеля 0,8÷1,2 см³/г *_* - *_* -\n131. Отсутствие микропор в бидисперсном силикагеле *_* - *_* -\n132. Объем мезопор с радиусом около 50 Å в бидисперсном силикагеле 0,60÷0,85 см³/г *_* - *_* -\n133. Объем макропор с радиусом 1000-5500 Å в бидисперсном силикагеле 0,15÷0,30 см³/г *_* - *_* -\n134. Способ приготовления палладиевого катализатора *_* - *_* -\n135. Использование предварительно высушенного носителя *_* - *_* -\n136. Пропитка носителя водным раствором стабилизированного нитрата палладия *_* Осуществление пропитки подготовленной смесью предварительно приготовленного порошка микронных размеров *_* -\n137. Пропитка носителя раствором стабилизированного нитрата палладия при определенных рН *_* Осуществление пропитки подготовленной смесью предварительно приготовленного порошка микронных размеров *_* -\n138. Сушка катализатора после пропитки *_* Удаление воды из раствора путем сушки *_* удалением жидкости в сушильном шкафу при температуре не менее 80°С в течение не менее 24 ч\n139. Прокаливание катализатора на воздухе после сушки *_* - *_* -\n140. Восстановление катализатора в потоке водородсодержащего газа после прокаливания *_* - *_* -\n141. Добавление лимонной кислоты в пропиточные растворы *_* - *_* -\n142. Предотвращение агломерации палладийсодержащих частиц на поверхности носителя *_* Равномерное распределение реагентов на поверхности частиц порошка *_* -\n143. Регулирование рН пропиточных растворов без введения катионов щелочных металлов *_* - *_* -\n144. Регулирование рН за счет подщелачивания водным раствором тетраметиламмоний гидроксида *_* - *_* -\n145. Способ очистки олефинов от примесей полиненасыщенных углеводородов *_* - *_* -\n146. Очистка путем каталитического гидрирования *_* - *_* -\n147. Гидрирование при повышенных температурах *_* - *_* -\n148. Гидрирование при атмосферном давлении *_* - *_* -\n149. Гидрирование при температуре 50-200°С *_* - *_* -\n150. Гидрирование при объемной скорости 10000-20000 ч⁻¹ *_* - *_* -\n151. Способ получения гранулированного активного оксида алюминия с бидисперсной пористой структурой *_* Способ получения бидисперсных порошковых смесей *_* Способ получения порошковой смеси бидисперсных керамических и металлических частиц\n152. Использование гидроксида алюминия в виде гидратированного соединения *_* - *_* -\n153. Содержание в гидратированном соединении не более 30% χ-Al2O3 и/или аморфного гидроксида алюминия *_* - *_* -\n154. Содержание в гидратированном соединении до 10% гиббсита *_* - *_* -\n155. Размол гидроксида алюминия до частиц размером менее 20 мкм *_* - *_* -\n156. Количество частиц размером менее 20 мкм после размола более 70% *_* - *_* -\n157. Смешивание размолотого гидроксида алюминия с водой *_* Подготовка смеси компонентов на первом этапе *_* перемешивают керамические наночастицы в жидкой среде в течение не менее 15 мин\n158. Проведение смешивания в присутствии азотной кислоты *_* - *_* -\n159. Проведение пластификации полученной смеси *_* - *_* -\n160. Формование гранул из пластифицированного продукта *_* - *_* -', 'stage': 'completed'}
2025-10-06 02:25:54,400 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F637843B0>, 1830913972
2025-10-06 02:25:54,403 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972 disconnected
2025-10-06 02:25:54,403 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 02:25:54,404 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972 cleanup completed
2025-10-06 02:25:54,408 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 02:25:54,408 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 02:25:54,409 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 02:25:54,409 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 02:25:54,410 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 02:25:54,410 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 02:25:54,410 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 02:25:54,410 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DD30>
2025-10-06 02:25:54,410 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 02:25:54,410 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DD30>
2025-10-06 02:25:54,411 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 02:25:54,411 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 02:25:54,411 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6371DD30>
2025-10-06 02:25:54,412 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 02:25:54,412 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 02:25:54,413 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: c206...
2025-10-06 02:25:54,414 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 02:25:54,414 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 02:25:54,414 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 02:25:54,414 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 02:25:54,414 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 02:25:54,415 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 02:25:54,415 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 02:25:54,415 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:25:54,415 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 02:25:54,415 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:25:54,416 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 1
2025-10-06 02:25:54,416 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:25:54,416 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 02:25:54,416 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:25:54,416 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 2
2025-10-06 02:25:54,417 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:25:54,417 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 02:25:54,417 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:25:54,417 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 3
2025-10-06 02:25:54,417 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:25:54,418 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 02:25:54,418 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:25:54,418 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 4
2025-10-06 02:25:54,430 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972
2025-10-06 02:25:54,430 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972 создан новый список соединений
2025-10-06 02:25:54,430 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972: 1
2025-10-06 02:25:54,431 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972 содержит 4 сообщений
2025-10-06 02:25:54,431 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 02:25:54,431 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972: 1 соединений
2025-10-06 02:25:54,432 - core.connection_manager - DEBUG - [connection_manager.py:187 - print_active_connections()] - 📦 Буферизованные сообщения:
2025-10-06 02:25:54,432 - core.connection_manager - DEBUG - [connection_manager.py:189 - print_active_connections()] -   1830913972: 4 сообщений
2025-10-06 02:25:54,432 - core.connection_manager - DEBUG - [connection_manager.py:190 - print_active_connections()] - buffer: deque([<core.connection_manager.BufferedMessage object at 0x0000022F63751D30>, <core.connection_manager.BufferedMessage object at 0x0000022F637525D0>, <core.connection_manager.BufferedMessage object at 0x0000022F637529F0>, <core.connection_manager.BufferedMessage object at 0x0000022F63752DB0>], maxlen=50)
2025-10-06 02:25:54,433 - core.connection_manager - DEBUG - [connection_manager.py:130 - _flush_buffer()] - Flushing buffer for 1830913972 (4 messages)
2025-10-06 02:25:54,433 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 02:25:54,434 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6300FA40>, 1830913972
2025-10-06 02:25:54,434 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 02:25:54,435 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6300FA40>, 1830913972
2025-10-06 02:25:54,435 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 02:25:54,435 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6300FA40>, 1830913972
2025-10-06 02:25:54,436 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 02:25:54,436 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6300FA40>, 1830913972
2025-10-06 02:25:54,436 - core.connection_manager - DEBUG - [connection_manager.py:150 - _flush_buffer()] - Flushed 4 messages for 1830913972
2025-10-06 02:25:54,436 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972 содержит 0 сообщений
2025-10-06 02:25:54,437 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972
2025-10-06 02:25:54,437 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972 connected successfully
2025-10-06 02:26:41,331 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 161. Формование гранул в слое керосина *_* - *_* -
162. Формование гранул в водном растворе аммиака *_* - *_* -
163. Сушка полученных гранул *_* Удаление воды из раствора путем сушки *_* удалением жидкости в сушильном шкафу
164. Прокаливание полученных гранул *_* - *_* -
165. Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л *_* - *_* -
166. Промывка гранул после прокаливания водой *_* - *_* -
167. Значение pH воды для промывки от 6 до 9 *_* - *_* -
168. Время промывки 15 минут *_* - *_* -
169. Проведение термообработки промытых гранул *_* - *_* -
170. Температура термообработки 250 °C *_* - *_* -
171. Каталитический реактор трубчатого типа *_* - *_* -
172. Проведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C *_* Экзотермический характер окислительно-восстановительной реакции *_* -
173. Реактор содержит корпус *_* - *_* -
174. Реактор содержит трубные решетки *_* - *_* -
175. Реактор содержит устройства для ввода реагентов *_* - *_* -
176. Реактор содержит устройства для вывода реагентов *_* - *_* -
177. Реактор содержит устройства для ввода хладагентов *_* - *_* -
178. Реактор содержит устройства для вывода хладагентов *_* - *_* -
179. Реактор содержит каталитически активные теплообменные трубки *_* - *_* -
180. Соединение каталитически активных теплообменных трубок с трубными решетками *_* - *_* -
181. Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки *_* - *_* -
182. Нанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок *_* - *_* -
183. Слой каталитически активного армированного порометаллического материала образован плоскими лентами *_* - *_* -
184. Слой каталитически активного армированного порометаллического материала образован гофрированными лентами *_* - *_* -
185. Создание бидисперсной структуры нанесенного на поверхность трубки слоя *_* Получение бидисперсных систем *_* -
186. Толщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм *_* - *_* -
187. Равномерное нанесение слоя катализатора по длине трубки *_* Равномерное распределение реагентов на поверхности частиц порошка *_* -
188. Неравномерное нанесение слоя катализатора по длине трубки *_* - *_* -
189. Способ осуществления сильно экзотермических реакций *_* Использование метода СВС (самораспространяющегося высокотемпературного синтеза) *_* -
190. Подача реагирующей смеси стехиометрического состава в межтрубное пространство *_* - *_* -
191. Подача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство *_* - *_* -
192. Образование межтрубного пространства каталитически активными теплообменными трубками *_* - *_* -
193. Подача хладоагента внутрь каталитически активных теплообменных трубок *_* - *_* -
194. Способ получения пористого железо-калиевооксидного композита *_* - *_* -
195. Приготовление шихты *_* Подготовка смеси компонентов на первом этапе *_* перемешивание порошков в жидкой среде в два этапа
196. Шихта содержит кристаллогидрат нитрата железа *_* Использование нитрата металла в качестве окислителя *_* -
197. Шихта содержит кристаллогидрат нитрата церия *_* - *_* -
198. Шихта содержит нитрат калия *_* - *_* -
199. Шихта содержит оксид молибдена *_* Использование порошка микронных размеров на основе оксидов *_* использование керамических наночастиц
200. Шихта содержит оксид титана *_* - *_* -
2025-10-06 02:26:41,332 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:26:41,333 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'completed', 'message': '161. Формование гранул в слое керосина *_* - *_* -\n162. Формование гранул в водном растворе аммиака *_* - *_* -\n163. Сушка полученных гранул *_* Удаление воды из раствора путем сушки *_* удалением жидкости в сушильном шкафу\n164. Прокаливание полученных гранул *_* - *_* -\n165. Смешивание размолотого гидроксида алюминия с водой в присутствии азотной кислоты до концентрации оксида алюминия от 200 до 650 г/л *_* - *_* -\n166. Промывка гранул после прокаливания водой *_* - *_* -\n167. Значение pH воды для промывки от 6 до 9 *_* - *_* -\n168. Время промывки 15 минут *_* - *_* -\n169. Проведение термообработки промытых гранул *_* - *_* -\n170. Температура термообработки 250 °C *_* - *_* -\n171. Каталитический реактор трубчатого типа *_* - *_* -\n172. Проведение сильно экзотермических реакций с адиабатическими разогревами 500 - 2500 °C *_* Экзотермический характер окислительно-восстановительной реакции *_* -\n173. Реактор содержит корпус *_* - *_* -\n174. Реактор содержит трубные решетки *_* - *_* -\n175. Реактор содержит устройства для ввода реагентов *_* - *_* -\n176. Реактор содержит устройства для вывода реагентов *_* - *_* -\n177. Реактор содержит устройства для ввода хладагентов *_* - *_* -\n178. Реактор содержит устройства для вывода хладагентов *_* - *_* -\n179. Реактор содержит каталитически активные теплообменные трубки *_* - *_* -\n180. Соединение каталитически активных теплообменных трубок с трубными решетками *_* - *_* -\n181. Каталитически активные теплообменные трубки представляют собой металлические непроницаемые трубки *_* - *_* -\n182. Нанесение слоя каталитически активного армированного порометаллического материала на внешнюю поверхность трубок *_* - *_* -\n183. Слой каталитически активного армированного порометаллического материала образован плоскими лентами *_* - *_* -\n184. Слой каталитически активного армированного порометаллического материала образован гофрированными лентами *_* - *_* -\n185. Создание бидисперсной структуры нанесенного на поверхность трубки слоя *_* Получение бидисперсных систем *_* -\n186. Толщина слоя катализатора на поверхности непроницаемой трубки 1 - 10 мм *_* - *_* -\n187. Равномерное нанесение слоя катализатора по длине трубки *_* Равномерное распределение реагентов на поверхности частиц порошка *_* -\n188. Неравномерное нанесение слоя катализатора по длине трубки *_* - *_* -\n189. Способ осуществления сильно экзотермических реакций *_* Использование метода СВС (самораспространяющегося высокотемпературного синтеза) *_* -\n190. Подача реагирующей смеси стехиометрического состава в межтрубное пространство *_* - *_* -\n191. Подача реагирующей смеси состава, близкого к стехиометрическому, в межтрубное пространство *_* - *_* -\n192. Образование межтрубного пространства каталитически активными теплообменными трубками *_* - *_* -\n193. Подача хладоагента внутрь каталитически активных теплообменных трубок *_* - *_* -\n194. Способ получения пористого железо-калиевооксидного композита *_* - *_* -\n195. Приготовление шихты *_* Подготовка смеси компонентов на первом этапе *_* перемешивание порошков в жидкой среде в два этапа\n196. Шихта содержит кристаллогидрат нитрата железа *_* Использование нитрата металла в качестве окислителя *_* -\n197. Шихта содержит кристаллогидрат нитрата церия *_* - *_* -\n198. Шихта содержит нитрат калия *_* - *_* -\n199. Шихта содержит оксид молибдена *_* Использование порошка микронных размеров на основе оксидов *_* использование керамических наночастиц\n200. Шихта содержит оксид титана *_* - *_* -', 'stage': 'completed'}
2025-10-06 02:26:41,335 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F6300FA40>, 1830913972
2025-10-06 02:26:41,337 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972 disconnected
2025-10-06 02:26:41,338 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 02:26:41,338 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972 cleanup completed
2025-10-06 02:26:41,342 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 02:26:41,342 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 02:26:41,344 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 02:26:41,344 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 02:26:41,344 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 02:26:41,344 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 02:26:41,345 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 02:26:41,345 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347D4E0>
2025-10-06 02:26:41,345 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 02:26:41,345 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347D4E0>
2025-10-06 02:26:41,346 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 02:26:41,346 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 02:26:41,346 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347D4E0>
2025-10-06 02:26:41,346 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 02:26:41,347 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 02:26:41,347 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: c206...
2025-10-06 02:26:41,348 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 02:26:41,349 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 02:26:41,349 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 02:26:41,349 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 02:26:41,349 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 02:26:41,349 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 02:26:41,349 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 02:26:41,349 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:26:41,350 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 02:26:41,350 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:26:41,350 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 1
2025-10-06 02:26:41,350 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:26:41,350 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 02:26:41,351 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:26:41,351 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 2
2025-10-06 02:26:41,351 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:26:41,351 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 02:26:41,351 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:26:41,352 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 3
2025-10-06 02:26:41,352 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:26:41,352 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 02:26:41,352 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:26:41,353 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 4
2025-10-06 02:26:41,354 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972
2025-10-06 02:26:41,354 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972 создан новый список соединений
2025-10-06 02:26:41,355 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972: 1
2025-10-06 02:26:41,355 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972 содержит 4 сообщений
2025-10-06 02:26:41,355 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 02:26:41,355 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972: 1 соединений
2025-10-06 02:26:41,356 - core.connection_manager - DEBUG - [connection_manager.py:187 - print_active_connections()] - 📦 Буферизованные сообщения:
2025-10-06 02:26:41,356 - core.connection_manager - DEBUG - [connection_manager.py:189 - print_active_connections()] -   1830913972: 4 сообщений
2025-10-06 02:26:41,356 - core.connection_manager - DEBUG - [connection_manager.py:190 - print_active_connections()] - buffer: deque([<core.connection_manager.BufferedMessage object at 0x0000022F634D2F90>, <core.connection_manager.BufferedMessage object at 0x0000022F634D2330>, <core.connection_manager.BufferedMessage object at 0x0000022F634D3D70>, <core.connection_manager.BufferedMessage object at 0x0000022F634D3F50>], maxlen=50)
2025-10-06 02:26:41,356 - core.connection_manager - DEBUG - [connection_manager.py:130 - _flush_buffer()] - Flushing buffer for 1830913972 (4 messages)
2025-10-06 02:26:41,356 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 02:26:41,357 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE450>, 1830913972
2025-10-06 02:26:41,358 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 02:26:41,358 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE450>, 1830913972
2025-10-06 02:26:41,358 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 02:26:41,359 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE450>, 1830913972
2025-10-06 02:26:41,359 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 02:26:41,359 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE450>, 1830913972
2025-10-06 02:26:41,359 - core.connection_manager - DEBUG - [connection_manager.py:150 - _flush_buffer()] - Flushed 4 messages for 1830913972
2025-10-06 02:26:41,360 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972 содержит 0 сообщений
2025-10-06 02:26:41,360 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972
2025-10-06 02:26:41,360 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972 connected successfully
2025-10-06 02:27:51,048 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 201. Шихта содержит карбонат кальция *_* - *_* -
202. Шихта содержит тетраэтоксисилан *_* - *_* -
203. Компоненты шихты взяты в стехиометрическом соотношении *_* - *_* -
204. Импрегнирование в шихту выгорающей микродобавки *_* Осуществление пропитки подготовленной смесью предварительно приготовленного порошка микронных размеров *_* -
205. Импрегнирование продуктами гидролиза солей *_* - *_* -
206. Получение продуктов гидролиза солей способом соосаждения *_* - *_* -
207. Получение продуктов гидролиза солей способом золь-гель *_* - *_* -
208. Использование диоксанлигнина березы в качестве выгорающей микродобавки *_* - *_* -
209. Количество выгорающей микродобавки 0,125-0,250 мас.% *_* - *_* -
210. Формование образцов композита методом полусухого прессования *_* - *_* -
211. Проведение обжига *_* Нагревание сухой смеси до определенной температуры *_* удалением жидкости в сушильном шкафу при температуре не менее 80°С в течение не менее 24 ч
212. Обжиг в интервале температур 20-700°С *_* Нагревание сухой смеси до определенной температуры *_* удалением жидкости в сушильном шкафу при температуре не менее 80°С в течение не менее 24 ч
213. Скорость нагрева при обжиге 10°/мин *_* - *_* -
214. Изотермическая выдержка при обжиге в течение 3 часов *_* - *_* удалением жидкости в сушильном шкафу при температуре не менее 80°С в течение не менее 24 ч
215. Формирование бидисперсной структуры в композите *_* Получение бидисперсных систем *_* -
216. Пористый железо-калиевооксидный композит *_* - *_* -
217. Композит содержит фазу оксида железа α-Fe2O3 *_* - *_* -
218. Композит содержит фазу оксида церия CeO2 *_* - *_* -
219. Композит содержит фазу молибдата калия K2MoO4 *_* - *_* -
220. Композит содержит фазу феррита калия состава KFeO2 *_* - *_* -
221. Композит содержит фазу феррита калия состава KFe11O17 *_* - *_* -
222. Композит имеет бидисперсную структуру *_* Получение бидисперсных систем *_* -
223. Общий объем пор композита от 0,006 до 0,013 см3/г *_* - *_* -
224. Диаметр мезопор композита от 16 до 40 нм *_* - *_* -
225. Диаметр макропор композита от 75 до 130 нм *_* - *_* -
226. Удельная поверхность композита от 2 до 5 м2/г *_* - *_* -
227. Способ получения пористых порошковых материалов *_* Способ получения бидисперсных порошковых смесей *_* Способ получения порошковой смеси бидисперсных керамических и металлических частиц
228. Нанесение на частицы порообразователя связующего *_* Осуществление пропитки подготовленной смесью предварительно приготовленного порошка микронных размеров *_* перемешивают керамические наночастицы в жидкой среде
229. Смешивание частиц порообразователя со связующим с порошком *_* Осуществление пропитки подготовленной смесью предварительно приготовленного порошка микронных размеров *_* перемешивают керамические наночастицы в жидкой среде
230. Формование шихты *_* - *_* -
231. Спекание шихты *_* - *_* -
232. Использование металлического порошка при смешивании *_* Использование нитрата металла в качестве окислителя *_* перемешивают керамические наночастицы... добавляют металлические микрочастицы
233. Использование керамического порошка при смешивании *_* Использование порошка микронных размеров на основе оксидов *_* перемешивают керамические наночастицы... добавляют металлические микрочастицы
234. Нанесение на частицы порообразователя не менее двух слоев керамического порошка *_* - *_* -
235. Нанесение на частицы порообразователя не более пяти слоев керамического порошка *_* - *_* -
236. Нанесение органического связющего при нанесении первого слоя керамического порошка *_* - *_* -
237. Использование неорганического связующего при нанесении второго слоя керамического порошка *_* - *_* -
238. Использование неорганического связующего при нанесении последующих слоев керамического порошка *_* - *_* -
239. Использование гранул пенополистирола в качестве частиц порообразователя *_* - *_* -
240. Использование частиц порообразователя с размером в диапазоне 0,5-1 мм *_* Использование порошка микронных размеров на основе оксидов *_* металлические микрочастицы диаметром в диапазоне (20-180) мкм
2025-10-06 02:27:51,049 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:27:51,050 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'completed', 'message': '201. Шихта содержит карбонат кальция *_* - *_* -\n202. Шихта содержит тетраэтоксисилан *_* - *_* -\n203. Компоненты шихты взяты в стехиометрическом соотношении *_* - *_* -\n204. Импрегнирование в шихту выгорающей микродобавки *_* Осуществление пропитки подготовленной смесью предварительно приготовленного порошка микронных размеров *_* -\n205. Импрегнирование продуктами гидролиза солей *_* - *_* -\n206. Получение продуктов гидролиза солей способом соосаждения *_* - *_* -\n207. Получение продуктов гидролиза солей способом золь-гель *_* - *_* -\n208. Использование диоксанлигнина березы в качестве выгорающей микродобавки *_* - *_* -\n209. Количество выгорающей микродобавки 0,125-0,250 мас.% *_* - *_* -\n210. Формование образцов композита методом полусухого прессования *_* - *_* -\n211. Проведение обжига *_* Нагревание сухой смеси до определенной температуры *_* удалением жидкости в сушильном шкафу при температуре не менее 80°С в течение не менее 24 ч\n212. Обжиг в интервале температур 20-700°С *_* Нагревание сухой смеси до определенной температуры *_* удалением жидкости в сушильном шкафу при температуре не менее 80°С в течение не менее 24 ч\n213. Скорость нагрева при обжиге 10°/мин *_* - *_* -\n214. Изотермическая выдержка при обжиге в течение 3 часов *_* - *_* удалением жидкости в сушильном шкафу при температуре не менее 80°С в течение не менее 24 ч\n215. Формирование бидисперсной структуры в композите *_* Получение бидисперсных систем *_* -\n216. Пористый железо-калиевооксидный композит *_* - *_* -\n217. Композит содержит фазу оксида железа α-Fe2O3 *_* - *_* -\n218. Композит содержит фазу оксида церия CeO2 *_* - *_* -\n219. Композит содержит фазу молибдата калия K2MoO4 *_* - *_* -\n220. Композит содержит фазу феррита калия состава KFeO2 *_* - *_* -\n221. Композит содержит фазу феррита калия состава KFe11O17 *_* - *_* -\n222. Композит имеет бидисперсную структуру *_* Получение бидисперсных систем *_* -\n223. Общий объем пор композита от 0,006 до 0,013 см3/г *_* - *_* -\n224. Диаметр мезопор композита от 16 до 40 нм *_* - *_* -\n225. Диаметр макропор композита от 75 до 130 нм *_* - *_* -\n226. Удельная поверхность композита от 2 до 5 м2/г *_* - *_* -\n227. Способ получения пористых порошковых материалов *_* Способ получения бидисперсных порошковых смесей *_* Способ получения порошковой смеси бидисперсных керамических и металлических частиц\n228. Нанесение на частицы порообразователя связующего *_* Осуществление пропитки подготовленной смесью предварительно приготовленного порошка микронных размеров *_* перемешивают керамические наночастицы в жидкой среде\n229. Смешивание частиц порообразователя со связующим с порошком *_* Осуществление пропитки подготовленной смесью предварительно приготовленного порошка микронных размеров *_* перемешивают керамические наночастицы в жидкой среде\n230. Формование шихты *_* - *_* -\n231. Спекание шихты *_* - *_* -\n232. Использование металлического порошка при смешивании *_* Использование нитрата металла в качестве окислителя *_* перемешивают керамические наночастицы... добавляют металлические микрочастицы\n233. Использование керамического порошка при смешивании *_* Использование порошка микронных размеров на основе оксидов *_* перемешивают керамические наночастицы... добавляют металлические микрочастицы\n234. Нанесение на частицы порообразователя не менее двух слоев керамического порошка *_* - *_* -\n235. Нанесение на частицы порообразователя не более пяти слоев керамического порошка *_* - *_* -\n236. Нанесение органического связющего при нанесении первого слоя керамического порошка *_* - *_* -\n237. Использование неорганического связующего при нанесении второго слоя керамического порошка *_* - *_* -\n238. Использование неорганического связующего при нанесении последующих слоев керамического порошка *_* - *_* -\n239. Использование гранул пенополистирола в качестве частиц порообразователя *_* - *_* -\n240. Использование частиц порообразователя с размером в диапазоне 0,5-1 мм *_* Использование порошка микронных размеров на основе оксидов *_* металлические микрочастицы диаметром в диапазоне (20-180) мкм', 'stage': 'completed'}
2025-10-06 02:27:51,052 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DE450>, 1830913972
2025-10-06 02:27:51,055 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972 disconnected
2025-10-06 02:27:51,055 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 02:27:51,056 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972 cleanup completed
2025-10-06 02:27:51,058 - core.token_manager.service_client.llm_client_service - WARNING - [llm_client_service.py:25 - _read_secret_key()] - Reading LLM Client Service secret key
2025-10-06 02:27:51,059 - app.http.routes.routes - DEBUG - [routes.py:55 - ws_ask()] - ws_ask: Ты — патентный эксперт. Т, AIProviderPurpose.ATTRIBUTE_GENERATION
2025-10-06 02:27:51,060 - app.service.llm_gateway - DEBUG - [llm_gateway.py:32 - ws_ask()] - ___Star LLMGateway ws_ask___
2025-10-06 02:27:51,060 - app.service.llm_gateway - DEBUG - [llm_gateway.py:84 - _domain_authorization()] - config_ai is None: False
2025-10-06 02:27:51,060 - app.service.llm_gateway - DEBUG - [llm_gateway.py:86 - _domain_authorization()] - llm_client is None: False
2025-10-06 02:27:51,060 - app.service.llm_gateway - DEBUG - [llm_gateway.py:45 - _get_client()] - _get_client: config_ai is None: False
2025-10-06 02:27:51,060 - app.service.llm_gateway - DEBUG - [llm_gateway.py:46 - _get_client()] - _get_client: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 02:27:51,061 - app.service.llm_gateway - DEBUG - [llm_gateway.py:47 - _get_client()] - _get_client: config_ai value: <core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FEE0>
2025-10-06 02:27:51,061 - app.service.llm_gateway - DEBUG - [llm_gateway.py:50 - _get_client()] - Selected llm_client - DEEPSEEK
2025-10-06 02:27:51,061 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:13 - __init__()] - DeepSeekWSClient init: chat_id=1830913972, config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FEE0>
2025-10-06 02:27:51,061 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:14 - __init__()] - DeepSeekWSClient init: config_ai is None: False
2025-10-06 02:27:51,061 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:15 - __init__()] - DeepSeekWSClient init: config_ai type: <class 'core.manager_config.ai.AiManagerConfig'>
2025-10-06 02:27:51,062 - app.llm_client.llm_client - DEBUG - [llm_client.py:10 - __init__()] - LLMClient init: config_ai=<core.manager_config.ai.AiManagerConfig object at 0x0000022F6347FEE0>
2025-10-06 02:27:51,062 - app.llm_client.llm_client - DEBUG - [llm_client.py:11 - __init__()] - LLMClient init: config_ai is None: False
2025-10-06 02:27:51,062 - core.token_manager.deepseek - DEBUG - [deepseek.py:17 - __init__()] - DeepSeek_key_path: D:\ART\InnodivingPro\MVP1.8.1\AI-assistant-for-patents-telegram-app\services\llm_client_service\storage\key\deepseek\deepseek_auth_key.json
2025-10-06 02:27:51,063 - core.token_manager.deepseek - DEBUG - [deepseek.py:40 - get_token()] - Using DeepSeek API key: c206...
2025-10-06 02:27:51,064 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:21 - ask()] - ___Star DeepSeekWSClient ws ask___
2025-10-06 02:27:51,064 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:23 - ask()] - context.api_uri:https://openrouter.ai/api/v1/chat/completions
2025-10-06 02:27:51,064 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:24 - ask()] - context.referer:https://deepseek.com
2025-10-06 02:27:51,064 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:25 - ask()] - context.site_name:AI-assistant-for-patents-telegram-app
2025-10-06 02:27:51,064 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:26 - ask()] - context.model:deepseek/deepseek-r1:free
2025-10-06 02:27:51,064 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:27 - ask()] - context.model:0.0
2025-10-06 02:27:51,064 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:28 - ask()] - context.token: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
2025-10-06 02:27:51,065 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:27:51,065 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 02:27:51,065 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:27:51,065 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 1
2025-10-06 02:27:51,065 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:27:51,065 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 02:27:51,065 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:27:51,066 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 2
2025-10-06 02:27:51,066 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:27:51,066 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 02:27:51,066 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:27:51,066 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 3
2025-10-06 02:27:51,066 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:27:51,066 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 02:27:51,067 - core.connection_manager - DEBUG - [connection_manager.py:87 - _try_send_to_active_connections()] - Нет активных подключений для chat_id: 1830913972
2025-10-06 02:27:51,067 - core.connection_manager - DEBUG - [connection_manager.py:122 - _add_to_buffer()] - Buffered message for 1830913972. Buffer size: 4
2025-10-06 02:27:51,069 - core.connection_manager - DEBUG - [connection_manager.py:33 - connect()] - [CONNECT] Начинаем подключение для chat_id=1830913972
2025-10-06 02:27:51,069 - core.connection_manager - DEBUG - [connection_manager.py:37 - connect()] - [CONNECT] Для chat_id=1830913972 создан новый список соединений
2025-10-06 02:27:51,069 - core.connection_manager - DEBUG - [connection_manager.py:40 - connect()] - [CONNECT] Добавлено новое соединение. Всего соединений для 1830913972: 1
2025-10-06 02:27:51,069 - core.connection_manager - DEBUG - [connection_manager.py:45 - connect()] - [CONNECT] Перед flush: буфер для 1830913972 содержит 4 сообщений
2025-10-06 02:27:51,069 - core.connection_manager - DEBUG - [connection_manager.py:182 - print_active_connections()] - 🔌 Активные подключения:
2025-10-06 02:27:51,069 - core.connection_manager - DEBUG - [connection_manager.py:184 - print_active_connections()] -   1830913972: 1 соединений
2025-10-06 02:27:51,069 - core.connection_manager - DEBUG - [connection_manager.py:187 - print_active_connections()] - 📦 Буферизованные сообщения:
2025-10-06 02:27:51,070 - core.connection_manager - DEBUG - [connection_manager.py:189 - print_active_connections()] -   1830913972: 4 сообщений
2025-10-06 02:27:51,070 - core.connection_manager - DEBUG - [connection_manager.py:190 - print_active_connections()] - buffer: deque([<core.connection_manager.BufferedMessage object at 0x0000022F634D3950>, <core.connection_manager.BufferedMessage object at 0x0000022F634D1190>, <core.connection_manager.BufferedMessage object at 0x0000022F634D3D70>, <core.connection_manager.BufferedMessage object at 0x0000022F634D38F0>], maxlen=50)
2025-10-06 02:27:51,070 - core.connection_manager - DEBUG - [connection_manager.py:130 - _flush_buffer()] - Flushing buffer for 1830913972 (4 messages)
2025-10-06 02:27:51,070 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем messages', 'progress': 10, 'stage': 'collecting_message'}
2025-10-06 02:27:51,071 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFEC0>, 1830913972
2025-10-06 02:27:51,071 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем headers', 'progress': 30, 'stage': 'collecting_headers'}
2025-10-06 02:27:51,071 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFEC0>, 1830913972
2025-10-06 02:27:51,072 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Собираем data', 'progress': 40, 'stage': 'collecting_data'}
2025-10-06 02:27:51,072 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFEC0>, 1830913972
2025-10-06 02:27:51,072 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'processing', 'message': 'Отправляем запрос', 'progress': 50, 'stage': 'calculating_start_attributes'}
2025-10-06 02:27:51,072 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFEC0>, 1830913972
2025-10-06 02:27:51,073 - core.connection_manager - DEBUG - [connection_manager.py:150 - _flush_buffer()] - Flushed 4 messages for 1830913972
2025-10-06 02:27:51,073 - core.connection_manager - DEBUG - [connection_manager.py:58 - connect()] - [CONNECT] После flush: буфер для 1830913972 содержит 0 сообщений
2025-10-06 02:27:51,073 - core.connection_manager - DEBUG - [connection_manager.py:60 - connect()] - [CONNECT] Завершено подключение для chat_id=1830913972
2025-10-06 02:27:51,073 - app.http.routes.web_socket - INFO - [web_socket.py:21 - websocket()] - User 1830913972 connected successfully
2025-10-06 02:28:12,102 - app.llm_client.deepseek.ws_deepseek - DEBUG - [ws_deepseek.py:72 - ask()] - assistant reply: 241. Использование водно-дисперсионного полиуретанового лака в качестве органического связующего *_* - *_* -
242. Использование водного раствора силиката натрия в качестве неорганического связующего *_* - *_* -
243. Способ соединения крупногабаритных порошковых деталей *_* - *_* -
244. Приготовление шихты на основе железа *_* - *_* -
245. Прессование деталей *_* - *_* -
246. Нанесение на соединяемые поверхности слоя шликера на основе порошка железа *_* - *_* -
247. Сборка деталей *_* - *_* -
248. Размещение пропитывающих брикетов на основе меди *_* - *_* -
249. Проведение спекания с одновременной инфильтрацией *_* - *_* -
250. Приготовление шликера из бидисперсных порошков *_* - *_* -
251. Расположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями *_* - *_* -
252. Нанесение слоя шликера на поверхность соединяемых деталей *_* - *_* -
253. Нанесение слоя шликера на поверхность непроницаемой перегородки *_* - *_* -
254. Размещение пропитывающих брикетов сверху сборки *_* - *_* -
255. Размещение пропитывающих брикетов снизу сборки *_* - *_* -
2025-10-06 02:28:12,103 - core.connection_manager - DEBUG - [connection_manager.py:72 - send_message()] - Sending message to 1830913972
2025-10-06 02:28:12,103 - core.connection_manager - DEBUG - [connection_manager.py:83 - _try_send_to_active_connections()] - Trying to send message to 1830913972, message: {'status': 'completed', 'message': '241. Использование водно-дисперсионного полиуретанового лака в качестве органического связующего *_* - *_* -\n242. Использование водного раствора силиката натрия в качестве неорганического связующего *_* - *_* -\n243. Способ соединения крупногабаритных порошковых деталей *_* - *_* -\n244. Приготовление шихты на основе железа *_* - *_* -\n245. Прессование деталей *_* - *_* -\n246. Нанесение на соединяемые поверхности слоя шликера на основе порошка железа *_* - *_* -\n247. Сборка деталей *_* - *_* -\n248. Размещение пропитывающих брикетов на основе меди *_* - *_* -\n249. Проведение спекания с одновременной инфильтрацией *_* - *_* -\n250. Приготовление шликера из бидисперсных порошков *_* - *_* -\n251. Расположение непроницаемой для расплава на основе меди перегородки между соединяемыми поверхностями *_* - *_* -\n252. Нанесение слоя шликера на поверхность соединяемых деталей *_* - *_* -\n253. Нанесение слоя шликера на поверхность непроницаемой перегородки *_* - *_* -\n254. Размещение пропитывающих брикетов сверху сборки *_* - *_* -\n255. Размещение пропитывающих брикетов снизу сборки *_* - *_* -', 'stage': 'completed'}
2025-10-06 02:28:12,103 - core.connection_manager - DEBUG - [connection_manager.py:98 - _try_send_to_active_connections()] - Сообщение успешно отправлено для: <starlette.websockets.WebSocket object at 0x0000022F634DFEC0>, 1830913972
2025-10-06 02:28:12,106 - app.http.routes.web_socket - INFO - [web_socket.py:28 - websocket()] - User 1830913972 disconnected
2025-10-06 02:28:12,106 - core.connection_manager - DEBUG - [connection_manager.py:180 - print_active_connections()] - 📭 Нет активных подключений
2025-10-06 02:28:12,106 - app.http.routes.web_socket - INFO - [web_socket.py:33 - websocket()] - User 1830913972 cleanup completed
